<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="keywords" content="Dynamo, Open Circle Solutions, Web Application Accelerator Framework, Reference">
<meta name="author" content="Open Circle Solutions">
<title>Dynamo: Reference documentation</title>
<style>
/*-
 * #%L
 * Dynamo Framework
 * %%
 * Copyright (C) 2014 - 2024 Open Circle Solutions
 * %%
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * #L%
 */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

@import url('https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap');

body {
    color: #515147;
    font-family: Raleway;
}

body.toc2.toc-right #toc.toc2 {
    border-left: 1px solid #39A248;
}

#toc.toc2 {
    border-left: 1px solid #39A248;
}


h1, h2, h3, h4, h5, h6, #toctitle {
    color: #39A248;
    font-family: Raleway;
}

code {
    font-family: "Roboto Mono";
    background: inherit;
}

:not(pre):not([class^=L]) > code {
    background: inherit;
    color: #39A248;
}


#toc {
    font-family: Raleway;
    background: white;
}

a {
    color: #39A248;
    text-decoration: none;
}

a:hover {
    color: #39A248;
    text-decoration: underline;
}

#toc a {
    color: #515147;
}

#toc a:hover {
    color: #39A248;
    text-decoration: none;
}

#toc.toc2 {
    background: white;
}

#toc ul {
    font-family: Raleway;
}

#footer {
    background: white;
    text-align: right;
}

#footer-text {
    color: #515147;
    font-style: italic;
}

table.grid-all > * > tr > * {
    border-width: 2px;
}

table.tableblock, th.tableblock, td.tableblock {
    border: 2px solid #ffffff;
}

table tbody tr {
    background-color: #e9f0e8;
}

table thead tr,
table tfoot tr {
    background-color: #39a248;
}

table.stripes-all > * > tr,
table.stripes-odd > * > tr:nth-of-type(odd),
table.stripes-even > * > tr:nth-of-type(even),
table.stripes-hover > * > tr:hover {
    background-color: #cee0cf;
}

table thead tr th, table tfoot tr th {
    color: white;
    font-weight: bold;
}

table thead, table tfoot {
    background-color: #39a248;
}

.admonitionblock td.content > .title,
.audioblock > .title,
.exampleblock > .title,
.imageblock > .title,
.listingblock > .title,
.literalblock > .title,
.stemblock > .title,
.openblock > .title,
.paragraph > .title,
.quoteblock > .title,
table.tableblock > .title,
.verseblock > .title,
.videoblock > .title,
.dlist > .title,
.olist > .title,
.ulist > .title,
.qlist > .title,
.hdlist > .title {
    font-family: Raleway;
    color: #515147;
}

.admonitionblock > table tbody tr {
    background-color: white;
}

pre.rouge {
    background-color: #e9f0e8 !important;
}

p {
  text-align: justify;
  text-justify: inter-word;
}

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body class="book toc2 toc-right">
<div id="header">
<h1>Dynamo: Reference documentation</h1>
<div class="details">
<span id="author" class="author">Open Circle Solutions</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_architectural_overview">2. Architectural overview</a></li>
<li><a href="#_the_entity_model">3. The entity model</a>
<ul class="sectlevel2">
<li><a href="#_basics">3.1. Basics</a></li>
<li><a href="#_entity_level_settings">3.2. Entity level settings</a></li>
<li><a href="#_attributes">3.3. Attributes</a></li>
<li><a href="#_defaults_and_attribute_overrides">3.4. Defaults and attribute overrides</a></li>
<li><a href="#_message_bundle_overrides">3.5. Message bundle overrides</a></li>
<li><a href="#_overrides_for_nested_entities">3.6. Overrides for nested entities</a></li>
</ul>
</li>
<li><a href="#_attribute_model_settings">4. Attribute model settings</a>
<ul class="sectlevel2">
<li><a href="#_allowed_extensions">4.1. Allowed extensions</a></li>
<li><a href="#_attribute_type">4.2. Attribute type</a></li>
<li><a href="#_autofill_instructions">4.3. Autofill instructions</a></li>
<li><a href="#_boolean_field_mode">4.4. Boolean field mode</a></li>
<li><a href="#_cascade">4.5. Cascade</a></li>
<li><a href="#_currency_code">4.6. Currency code</a></li>
<li><a href="#_date_type">4.7. Date type</a></li>
<li><a href="#_default_search_value">4.8. Default search value</a></li>
<li><a href="#_default_search_value_from">4.9. Default search value from</a></li>
<li><a href="#_default_search_value_to">4.10. Default search value to</a></li>
<li><a href="#_default_value">4.11. Default value</a></li>
<li><a href="#_description">4.12. Description</a></li>
<li><a href="#_display_format">4.13. Display format</a></li>
<li><a href="#_display_name">4.14. Display name</a></li>
<li><a href="#_download_allowed">4.15. Download allowed</a></li>
<li><a href="#_editabletype">4.16. Editable type</a></li>
<li><a href="#_element_collection_mode">4.17. Element collection mode</a></li>
<li><a href="#_email">4.18. Email</a></li>
<li><a href="#_enum_field_mode">4.19. Enum field mode</a></li>
<li><a href="#_file_name_property">4.20. File name property</a></li>
<li><a href="#_group_together_with">4.21. Group together with</a></li>
<li><a href="#_ignore_in_search_filter">4.22. Ignore in search filter</a></li>
<li><a href="#_image">4.23. Image</a></li>
<li><a href="#_lookup_entity_reference">4.24. Lookup entity reference</a></li>
<li><a href="#_lookup_query_type">4.25. Lookup query type</a></li>
<li><a href="#_max_collection_size">4.26. Max collection size</a></li>
<li><a href="#_max_length">4.27. Max length</a></li>
<li><a href="#_max_length_in_grid">4.28. Max length in grid</a></li>
<li><a href="#_max_value">4.29. Max value</a></li>
<li><a href="#_member_type">4.30. Member type</a></li>
<li><a href="#_min_collection_size">4.31. Min collection size</a></li>
<li><a href="#_min_length">4.32. Min length</a></li>
<li><a href="#_min_value">4.33. Min value</a></li>
<li><a href="#_multiple_search">4.34. Multiple search</a></li>
<li><a href="#_navigable">4.35. Navigable</a></li>
<li><a href="#_navigation_link">4.36. Navigation link</a></li>
<li><a href="#_needed_in_data">4.37. Needed in data</a></li>
<li><a href="#_numberfieldmode">4.38. Number field mode</a></li>
<li><a href="#_number_field_step">4.39. Number field step</a></li>
<li><a href="#_percentage">4.40. Percentage</a></li>
<li><a href="#_precision">4.41. Precision</a></li>
<li><a href="#_prompt">4.42. Prompt</a></li>
<li><a href="#_quick_add_allowed">4.43. Quick-add allowed</a></li>
<li><a href="#_replacement_search_path">4.44. Replacement search path</a></li>
<li><a href="#_replacement_sort_path">4.45. Replacement sort path</a></li>
<li><a href="#_required_for_searching">4.46. Required for searching</a></li>
<li><a href="#_searchable">4.47. Searchable</a></li>
<li><a href="#_search_case_sensitive">4.48. Search case-sensitive</a></li>
<li><a href="#_search_date_only">4.49. Search date only</a></li>
<li><a href="#_search_for_exact_value">4.50. Search for exact value</a></li>
<li><a href="#_search_prefix_only">4.51. Search prefix only</a></li>
<li><a href="#_search_select_mode">4.52. Search select mode</a></li>
<li><a href="#_select_mode">4.53. Select mode</a></li>
<li><a href="#_showdetailspaginator">4.54. ShowDetailsPaginator</a></li>
<li><a href="#_sortable">4.55. Sortable</a></li>
<li><a href="#_text_field_mode">4.56. Text field mode</a></li>
<li><a href="#_trim_spaces">4.57. Trim spaces</a></li>
<li><a href="#_true_and_false_representation">4.58. True and false representation</a></li>
<li><a href="#_url">4.59. URL</a></li>
<li><a href="#_visible_in_form">4.60. Visible in form</a></li>
<li><a href="#_visible_in_grid">4.61. Visible in grid</a></li>
</ul>
</li>
<li><a href="#_attribute_ordering_and_grouping">5. Attribute ordering and grouping</a>
<ul class="sectlevel2">
<li><a href="#_attribute_ordering">5.1. Attribute ordering</a></li>
<li><a href="#_grid_and_search_form_attribute_ordering">5.2. Grid and search form attribute ordering</a></li>
<li><a href="#_attribute_grouping">5.3. Attribute grouping</a></li>
</ul>
</li>
<li><a href="#_advanced_entity_model_topics">6. Advanced entity model topics</a>
<ul class="sectlevel2">
<li><a href="#_nested_entity_models">6.1. Nested entity models</a></li>
<li><a href="#_element_collections">6.2. Element collections</a></li>
</ul>
</li>
<li><a href="#_data_access_service_layers_and_general_concepts">7. Data access, service layers and general concepts</a>
<ul class="sectlevel2">
<li><a href="#_data_access_layer_and_entities">7.1. Data access layer and entities</a></li>
<li><a href="#_service">7.2. Service</a></li>
<li><a href="#_fetching_and_paging">7.3. Fetching and paging</a></li>
<li><a href="#_entity_initialization">7.4. Entity initialization</a></li>
<li><a href="#_rest_api">7.5. REST API</a></li>
<li><a href="#_validation">7.6. Validation</a></li>
<li><a href="#_checking_for_identical_entities">7.7. Checking for identical entities</a></li>
<li><a href="#_default_services_and_daos">7.8. Default services and DAOs</a></li>
</ul>
</li>
<li><a href="#_system_properties">8. Configuration</a>
<ul class="sectlevel2">
<li><a href="#_prefix_dynamoframework">8.1. Prefix dynamoframework</a></li>
<li><a href="#_prefix_dynamoframework_ollama">8.2. Prefix dynamoframework.ollama</a></li>
<li><a href="#_prefix_dynamoframework_openai">8.3. Prefix dynamoframework.openai</a></li>
<li><a href="#_prefix_dynamoframework_defaults">8.4. Prefix dynamoframework.defaults</a></li>
<li><a href="#_prefix_dynamoframework_defaults_endpoints">8.5. Prefix dynamoframework.defaults.endpoints</a></li>
<li><a href="#_prefix_dynamoframework_bedrock">8.6. Prefix dynamoframework.bedrock</a></li>
<li><a href="#_prefix_dynamoframework_vertexai">8.7. Prefix dynamoframework.vertexai</a></li>
<li><a href="#_prefix_dynamoframework_csv">8.8. Prefix dynamoframework.csv</a></li>
</ul>
</li>
<li><a href="#_project_set_up">9. Project set-up</a>
<ul class="sectlevel2">
<li><a href="#_back_end_set_up">9.1. Back-end set-up</a></li>
<li><a href="#_message_bundles">9.2. Message bundles</a></li>
<li><a href="#_authentication_and_authorization">9.3. Authentication and authorization</a></li>
<li><a href="#_front_end_set_up">9.4. Front-end set-up</a></li>
<li><a href="#_adding_dynamo_to_an_existing_front_end_project">9.5. Adding Dynamo to an existing front-end project</a></li>
<li><a href="#_code_generation">9.6. Code generation</a></li>
</ul>
</li>
<li><a href="#_general_front_end_services">10. General front-end services</a>
<ul class="sectlevel2">
<li><a href="#_localization">10.1. Localization</a></li>
<li><a href="#_notification_messages">10.2. Notification messages</a></li>
</ul>
</li>
<li><a href="#_general_ui_concepts">11. General UI concepts</a>
<ul class="sectlevel2">
<li><a href="#_search_filters">11.1. Search filters</a></li>
<li><a href="#_updates">11.2. Updates</a></li>
<li><a href="#_editing_complex_attributes">11.3. Editing complex attributes</a></li>
<li><a href="#_hidden_fields">11.4. Hidden fields</a></li>
<li><a href="#_view_objects">11.5. View objects</a></li>
<li><a href="#_entity_model_actions">11.6. Entity model actions</a></li>
<li><a href="#_authorization">11.7. Authorization</a></li>
</ul>
</li>
<li><a href="#_composite_ui_components">12. Composite UI components</a>
<ul class="sectlevel2">
<li><a href="#_genericsearchlayout">12.1. GenericSearchLayout</a></li>
<li><a href="#_genericform">12.2. GenericForm</a></li>
<li><a href="#_genericsplitlayout">12.3. GenericSplitLayout</a></li>
<li><a href="#_genericedittablelayout">12.4. GenericEditTableLayout</a></li>
<li><a href="#_pdf_viewer">12.5. PDF viewer</a></li>
<li><a href="#_pdf_viewer_dialog">12.6. PDF viewer dialog</a></li>
</ul>
</li>
<li><a href="#_additional_functionality">13. Additional functionality</a>
<ul class="sectlevel2">
<li><a href="#_excel_and_csv_export">13.1. Excel and CSV export</a></li>
<li><a href="#_lookup_tables">13.2. Lookup tables</a></li>
</ul>
</li>
<li><a href="#_adding_a_new_entity">Appendix A: Adding a new entity</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph text-center">
<p><span class="image"><img src="media/logo-dynamo.png" alt="image"></span></p>
</div>
<div class="paragraph text-center">
<p>Dynamo: Web Application Accelerator Framework, version 4.0.0-RC4.</p>
</div>
<div class="paragraph text-center">
<p>Developed, maintained and sponsored by:</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="media/logo-ocs.png" alt="Open Circle Solutions" width="256" height="53"></span></p>
</div>
<hr>
<div class="paragraph">
<p>Copyright © 2014 - 2025 Open Circle Solutions.</p>
</div>
<div class="paragraph">
<p><em>Nothing from this document may be copied and/or made public by use of
print, photocopy, microfilm or by any other means, without prior
permission of Open Circle Solutions.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Dynamo Web Application Accelerator Framework</em> is a software
development framework developed by <a href="https://www.opencirclesolutions.nl">Open Circle Solutions</a>
that aims to  increase productivity by using design principles such as
convention over configuration, model-driven development and DRY (don’t
repeat yourself).</p>
</div>
<div class="paragraph">
<p>At the core of Dynamo is the concept of the <em>Entity Model</em>. The Entity
Model describes the attributes and behaviour of an entity (or domain
object) in your application. This Entity Model can then be used as the
basis for creating forms, tables, search screens etc.</p>
</div>
<div class="paragraph">
<p>The <em>Entity Model</em> of an entity is automatically constructed based on
the properties of the attributes of the entity (using sensible defaults
as described by the convention over configuration principle) and can
further be modified by using annotations and message bundle entries. The
main goal is to reduce the amount of (boilerplate) code required to
perform common actions like creating search screens and edit forms.</p>
</div>
<div class="paragraph">
<p>Complementing the <em>Entity Model</em> is a set of user interface components
(widgets) that can be used to quickly construct screens for common use
cases, and several base classes for the Data Access and Service layers.</p>
</div>
<div class="paragraph">
<p>The Dynamo framework is built around a number of proven and highly
productive technologies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/persistence/">JPA3.1</a> for ORM</p>
</li>
<li>
<p><a href="https://querydsl.com">QueryDSL</a> for type-safe query generation</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-boot/index.html">Spring Boot</a> as the
application framework</p>
</li>
<li>
<p><a href="https://angular.dev">Angular (v16)</a> as the front-end framework of choice</p>
</li>
<li>
<p><a href="https://primeng.org">PrimeNG</a> for a rich suite of components</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Dynamo Framework is distributed under the terms of the
<a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache License</a>, a
permissive open-source license for free and open-source software (FOSS).</p>
</div>
<div class="paragraph">
<p>The sources of Dynamo can be found at <a href="https://github.com/opencirclesolutions/dynamo">GitHub</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architectural_overview">2. Architectural overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The general principle of the Dynamo Framework is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The developer creates a back-end application (based on Spring Boot)
that can communicate with a relational database for storing and
retrieving data.</p>
</li>
<li>
<p>The back-end application contains any number of domain
objects/entities that correspond to the database tables.</p>
</li>
<li>
<p>Based on these entities, Dynamo constructs <em>entity models</em> that
describe the behaviour of the user interface that can be used to
manipulate these entities. This includes things like being able to
define whether it is possible to search on certain attributes, when and
how attributes can be edited, which values are allowed, how the values
are formatted, etc. (there are dozens of different settings).</p>
</li>
<li>
<p>The back-end application offers several APIs that are used by the
front-end: one API that can be used to retrieve the entity model for a
certain entity, and one API that can be used (in a generic fashion) to
perform CRUD operations on the entity. In addition to this there are
also APIs for uploading files, for exporting data to CSV/Excel, and for
automatically filling forms based on LLM.</p>
</li>
<li>
<p>The developer also creates a front-end application, using the Dynamo
Front End library based on Angular and PrimeNG. This application offers
a number of reusable user interface components (e.g., a search screen, an
edit layout, a split layout, etc.) that allow the developer to quickly
define CRUD screens. This generally takes just a couple of lines of code
and is almost completely declarative.</p>
</li>
<li>
<p>At run-time, when the user accesses a screen, the Dynamo Framework
will call the entity model API in order to retrieve the entity model for
a certain entity. The data from this entity model will then be used to
render the screen, e.g., to display the correct fields in a search form
or the correct columns in a table. In conjunction with this, the
framework will also call the CRUD API to retrieve the data to display.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_entity_model">3. The entity model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The entity model describes the behaviour of the user interface that can
be used to  manipulate these entities. This includes things like being
able to  define whether it is possible to search on certain attributes,
when and how attributes can be edited, which values are allowed, how the
values are formatted, etc.</p>
</div>
<div class="sect2">
<h3 id="_basics">3.1. Basics</h3>
<div class="sect3">
<h4 id="_back_end">3.1.1. Back-end</h4>
<div class="paragraph">
<p>To create the entity model, you need access to an <code>EntityModelFactory</code>.
The <code>EntityModelFactory</code> is a Spring singleton and can be acquired by
injection (<code>@Inject</code> or <code>@Autowired</code>). You can also acquire a reference to
the <code>EntityModelFactory</code> by calling the <code>getEntityModelFactory()</code> method
on the <code>ServiceLocator</code> which in turn can be retrieved by calling
<code>ServiceLocatorFactory.getServiceLocator()</code>.</p>
</div>
<div class="paragraph">
<p>You can then acquire the <code>EntityModel</code> for a certain entity by calling
the <code>getModel(Class&lt;?&gt; clazz)</code> method. This will retrieve the entity
model for the specified class, lazily constructed when needed. Note that
the entity model is effectively immutable and application-scoped (or
more precisely, it has the Spring Singleton scope, i.e. there is one
instance per Spring application context).</p>
</div>
<div class="paragraph">
<p>This also means that the same entity model is in principle used by all
screens within an application. Since this would be too restrictive in
practice, it is possible to construct separate instances for separate
screens or use cases, by calling the <code>getModel(String reference,
Class&lt;?&gt; clazz)</code> method. This will construct the entity model based on
the provided class (the second parameter), but it will allow you to
override certain attributes using message bundle entries (more on this
later). The <code>reference</code> string is the unique identifier that you assign
to the model (if you just call the <code>getModel()</code> variant with a single
parameter, then the simple name of the class is used as the reference)
and which is then used as part of the message bundle entry.</p>
</div>
<div class="paragraph">
<p>The classes for which you create an entity model must inherit from the
<code>org.dynamoframework.domain.AbstractEntity</code> class. See chapter
<a href="#_data_access_service_layers_and_general_concepts">Data access, service layers and general concepts</a> for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_api">3.1.2. API</h4>
<div class="paragraph">
<p>The back-end application offers an API for retrieving the entity model
for a certain entity. The entity model can be retrieved by doing a GET
request to <em>/api/dynamo/model/{entityName}</em>. The entity name is the same as the
simple name of the Java class. e.g., to retrieve the entity model for the
“Organization” entity, make the following call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="httprequest">GET /api/dynamo/model/Organization</code></pre>
</div>
</div>
<div class="paragraph">
<p>Optionally, you can pass along a <code>reference</code> parameter to specify an
exact version of the entity model to retrieve (we learn more about
versions of entity models in section <a href="#_entitymodelreference">EntityModelReference</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="httprequest">GET /api/dynamo/model/Organization?reference=PersonOrganizationSearch</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you will see later on, entity models can be nested: if an entity has
a reference to another entity (one-to-many, many-to-one, etc.) then a
nested entity model for that entity will be created. You can retrieve a
nested entity model by performing a GET to
<code>/api/dynamo/model/{entityName}/attribute/{attributeName}</code>. E.g.,
<code>/api/dynamo/model/Gift/attribute/translations</code></p>
</div>
<div class="paragraph">
<p>Generally speaking, you should not have to call these endpoints directly
as the framework will do it for you.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_entity_level_settings">3.2. Entity level settings</h3>
<div class="paragraph">
<p>The entity model supports several attributes that define how the entity
itself is represented. These include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>displayName</code>: the name of the entity (e.g., “Car”)</p>
</li>
<li>
<p><code>displayNamePlural</code>: the name of the entity, in plural form (e.g., “Cars”)</p>
</li>
<li>
<p><code>description</code>: textual description of the entity</p>
</li>
<li>
<p><code>displayProperty</code>: the name of the property to use when displaying the
entity inside e.g., a combo box. This property is also used as the title
of the entity that is placed above an edit form.</p>
</li>
<li>
<p><code>sortOrder</code>: how the entities are sorted by default when displayed in
a grid or list. The <code>sortOrder</code> consists of a comma separated list of
attribute names and sort directions, e.g., <code>name asc, age desc</code>. The
direction is optional and if it is not supplied, <code>asc</code> will be used by
default. This should be familiar to anybody who has worked with SQL.</p>
</li>
<li>
<p><code>maxSearchResults</code> indicates the maximum number of results to return
form a search query (not just per page, but in total). By default, this
is set to the value of <code>Integer.MAX_VALUE</code> which means there are no
restrictions in place. If you set this to a lower value, the result set
of a search will be capped at this maximum value – the table and
paginator will only show results up to the maximum (and anything beyond
that will appear to not exist).</p>
</li>
<li>
<p><code>createAllowed</code> indicates whether creating new entities is allowed.</p>
</li>
<li>
<p><code>updateAllowed</code> indicates whether updating existing entities is
allowed.</p>
</li>
<li>
<p><code>listAllowed</code> indicates whether executing GET requests (without
specifying an ID) to request the full list of entities is allowed.</p>
</li>
<li>
<p><code>getAllowed</code> indicates whether executing a GET request to retrieve a
single entity is allowed.</p>
</li>
<li>
<p><code>exportAllowed</code> indicates whether exporting the data to Excel or CSV
is allowed.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_attributes">3.3. Attributes</h3>
<div class="paragraph">
<p>Every entity model consists of a number of <em>attribute models</em>. By
default, an attribute model is created for every valid property of the
entity. e.g., if you have an entity Person with properties “name” and
“age”, then the attribute model for the Person entity will contain two
attribute models, one for “name” and one for “age”.</p>
</div>
<div class="paragraph">
<p>The following rules apply when constructing the attribute models:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An attribute model will be created for every public, non-static,
no-parameter getter-method that follows the JavaBean naming convention
(e.g., <code>getAge()</code>; for Boolean or boolean properties, the getter may
also start with “is”, e.g., <code>isValid()</code>).</p>
</li>
<li>
<p>You can use Lombok to generate getters and setters for you.</p>
</li>
<li>
<p>The entity class does not necessarily have to contain an actual field
corresponding to the property. This allows you to create attribute
models for read-only or composite properties (e.g., a <code>getNameAndAge()</code>
method which concatenates the name and age as a String). Note that such
an attribute will have to be defined as read-only using the "editable"
setting on the attribute model.</p>
</li>
<li>
<p>Certain attributes are ignored. Currently, this includes only <code>version</code>
(used for JPA optimistic locking) and <code>class</code> (as every object has a
<code>getClass()</code> method).</p>
</li>
<li>
<p>Attributes can be simple (String, Integer, Long, enumerated types,
etc.) or complex (a reference to another entity, a collection of
primitive values, or a collection of other entities). The entity model
generation is nested, which means that if a property of an entity is
again an entity, then an entity model for the nested property will also
be generated. This entity model is separate from the non-nested entity
model that would be constructed directly for the entity.</p>
<div class="ulist">
<ul>
<li>
<p>Nearly all settings for nested models are treated the same as the
setting on the top level, but there is one exception: the <code>searchable</code>
setting on attributes of nested entities is ignored – this is because
when you are creating a search screen for an entity, you normally want
to search on the attributes of that entity, not on the nested
attributes.</p>
</li>
<li>
<p>For nested entity models, the <code>id</code> attribute and the
<code>displayProperty</code> attribute will be marked with <code>visibleInGrid=true</code>.
This is done so that a textual description of a nested entity can be
shown inside a grid.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Getters that are annotated with <code>@AssertTrue</code> or <code>@AssertFalse</code>
are skipped (these are methods that are used for Bean Validations, not
properties for the metamodel).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An attribute model has a <code>name</code> attribute that is equal to the name of
the property. This <code>name</code> can be used to retrieve the attribute model
from the entity model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">AttributeModel</span> <span class="nf">getAttributeModel</span><span class="o">(</span><span class="nc">String</span> <span class="n">attributeName</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For a nested attribute model, the name of the model consists of the
concatenation of the names of the non-nested models separated by
periods. e.g., if you have a Person entity that has an attribute
<code>address</code> of type Address, then the <code>houseNumber</code> attribute model of
the address has the path <code>address.houseNumber</code>.</p>
</div>
<div class="paragraph">
<p>This should all make sense as it corresponds to the paths that are used
in e.g., JPQL queries and for data binding in Angular.</p>
</div>
</div>
<div class="sect2">
<h3 id="_defaults_and_attribute_overrides">3.4. Defaults and attribute overrides</h3>
<div class="paragraph">
<p>The entity model generation is based on sensible defaults and metadata:
e.g., the value of the <code>type</code> setting of an attribute model is directly
taken from the Java type of the property. Also, certain other aspects
such as whether the attribute is visible in a grid or can be used in a
search form are derived from this type (e.g., by default a complex
attribute will not be visible in a grid).</p>
</div>
<div class="paragraph">
<p>In addition to this, the entity model generation process will take
certain JSR-303 annotations (e.g., <code>@NotNull</code>, <code>@Size</code>) into account. A
detailed explanation for each setting will be given below.</p>
</div>
<div class="paragraph">
<p>If the default values are not sufficient, you can override them by using
annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On the entity level, you can use the <code>@Model</code> annotation.</p>
</li>
<li>
<p>On the attribute level, you can use the <code>@Attribute</code> annotation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>@Model</code> annotation can be used like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Model</span><span class="o">(</span><span class="n">displayProperty</span> <span class="o">=</span> <span class="s">"description"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Meeting</span> <span class="kd">extends</span> <span class="nc">AbstractEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>@Attribute</code> annotation can be placed either directly on the
property, or on its getter method. Annotations placed on the getter
method override those placed on the property, to easily allow you to
override default behaviour in subclasses. Within a single entity class,
you can use both access types interchangeably.</p>
</div>
</div>
<div class="sect2">
<h3 id="_message_bundle_overrides">3.5. Message bundle overrides</h3>
<div class="paragraph">
<p>The annotation override mechanism is quite powerful, but it has some
drawbacks. e.g., it hard-codes certain String values (display name,
description) into your application, and it does not directly allow for
internationalization. It also only allows you to override the behaviour
of the “default” entity model that is based directly on the class, and
not the behaviour of any derived entity models.</p>
</div>
<div class="paragraph">
<p>If you need to override the behaviour of a derived entity model, you can
use the message bundle mechanism to achieve this. Message bundle
overrides must be placed in the <em>src/main/resources/META-INF/entitymodel.properties</em> file
(create a locale-specific version of this file if you need to; the normal Java
message bundle mechanic is supported).</p>
</div>
<div class="paragraph">
<p>Message bundle entries in general have the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="err">[Reference].[AttributeModelName].[Attribute]=[Value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>[Reference]</code> is the reference to the attribute model. This is the
simple class name of the entity for a standard entity model, and the
user-provided reference for a non-standard model.</p>
</li>
<li>
<p><code>[AttributeModelName]</code> is the (possibly nested) name of the
attribute model. This is empty in case you are directly overriding a
setting of the Entity.</p>
</li>
<li>
<p><code>[Attribute]</code> is the setting that you want to modify. For a full list,
see the <code>EntityModel</code> class which contains constants that denote the
possible values (or refer to the sections below).</p>
</li>
<li>
<p><code>[Value]</code> is the desired value of the setting.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>[AttributeModelName]</code> part must be omitted when you want to
directly set an attribute of the entity model itself.</p>
</div>
<div class="paragraph">
<p>Some examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Organization.displayName</span><span class="p">=</span><span class="s">Criminal Organization</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sets the display name of the <code>Organization</code> entity to “Criminal
Organization”.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Person2.displayName</span><span class="p">=</span><span class="s">Gang Member</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sets the display name for Person in the <code>Person2</code> entity model to “Gang
Member”.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Person.name.visibleInForm</span><span class="p">=</span><span class="s">true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sets the visibility of the “name” attribute model to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Person.address.street.readOnly</span><span class="p">=</span><span class="s">true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sets the “read only” setting of the <code>address.street</code> attribute model (a
nested attribute model) to false.</p>
</div>
<div class="paragraph">
<p>Please remember the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Boolean values, use the (lower case) values <code>true</code> and <code>false</code>.</p>
</li>
<li>
<p>For numeric values, simply use the String representation of the
numeric value. Use the period “.” as the decimal separator.</p>
</li>
<li>
<p>For enumeration values, use the upper-case String representation of
the enumeration value.</p>
</li>
<li>
<p>For dates and times, the value of the attribute models’
<code>displayFormat</code> setting is used. By default, this has the following
values:</p>
<div class="ulist">
<ul>
<li>
<p><code>dynamoframework.defaults.date-format</code> (<code>dd-MM-yyyy</code>) for dates</p>
</li>
<li>
<p><code>dynamoframework.defaults.time-format</code> (<code>HH:mm:ss</code>) for times</p>
</li>
<li>
<p><code>dynamoframework.defaults.date-time-format</code> (<code>dd-MM-yyyy HH:mm:ss</code>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>For the <code>visibleInForm</code> and <code>visibleInGrid</code> settings, both the
enumeration values (<code>SHOW</code>/<code>HIDE</code>) and the Boolean values <code>true</code> and <code>false</code>
are supported.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_overrides_for_nested_entities">3.6. Overrides for nested entities</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_attribute_model_settings">4. Attribute model settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we explain all the supported settings of the attribute
model.</p>
</div>
<div class="sect2">
<h3 id="_allowed_extensions">4.1. Allowed extensions</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">allowedExtensions</span> <span class="p">=</span> <span class="s">[Comma separated list of extensions]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This setting can be used to specify the extensions of the files that are
accepted by the file upload component that is generated for a LOB
property. By default, its value is empty, which means there are no
restrictions on the file type.</p>
</div>
<div class="paragraph">
<p>The value can be set to a comma-separated list of supported extensions,
e.g., <code>bmp,jpg,png</code>.</p>
</div>
<div class="paragraph">
<p>On the <code>@Attribute</code> annotation, you can use an array of String values
instead of a comma-separated String. Extensions are not case-sensitive,
and you must not include the “.” character.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When defining extensions in Dynamo, never include a <code>.</code> (dot).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_attribute_type">4.2. Attribute type</h3>
<div class="paragraph">
<p>The <code>attributeType</code> setting is a classification of the type of the
property. It is determined automatically during the entity model
generation process and can have the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASIC</code>: represents a simple property like a String, a number, a date,
etc.</p>
</li>
<li>
<p><code>DETAIL</code>: a property that appears as a <code>@OneToMany</code> or <code>@ManyToMany</code>
relation in the entity class, e.g., the <code>orderLines</code> attribute inside an
<code>Order</code> entity will be considered a <code>DETAIL</code> attribute.</p>
</li>
<li>
<p><code>MASTER</code>: a property that appears as a <code>@OneToOne</code> or <code>@ManyToOne</code> in
the entity class.</p>
</li>
<li>
<p><code>LOB</code>: a property that is annotated with <code>@Lob</code> and represents a large
binary object (like a file or an image).</p>
</li>
<li>
<p><code>EMBEDDED</code>: used during the entity model construction process to
handle embedded properties (using the <code>@Embedded</code> annotation). This will
be covered in the <em>Advanced</em> section.</p>
</li>
<li>
<p><code>ELEMENT_COLLECTION</code>: a property that is annotated with the
<code>@ElementCollection</code> annotation, i.e. a collection of simple values like
integers and Strings (The JPA spec does allow more complex element
collections, but these are not currently supported by Dynamo).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The attribute type in combination with the Java type determines how a
certain attribute will be displayed on-screen in an edit form:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For a <code>BASIC</code> property, a simple user interface component will be
displayed, based on the type of the property:</p>
<div class="ulist">
<ul>
<li>
<p>For String fields and numeric fields, a text field will be rendered.
For a String property, you can use the <code>textFieldMode</code> setting to render
a text area or a password field instead. For an Integer field, you can
use the <code>numberFieldMode</code> setting to render an “integer field” instead.</p>
</li>
<li>
<p>For a Boolean, a checkbox will be rendered by default. You can
change this to a toggle button by changing the value of the
<code>booleanFieldMode</code> setting.</p>
</li>
<li>
<p>For a <code>LocalTime</code> attribute, a time picker will be rendered.</p>
</li>
<li>
<p>For a <code>LocalDate</code> attribute, a date picker will be rendered.</p>
</li>
<li>
<p>For a <code>LocalDateTime</code> or <code>Instant</code> attribute, a date/time picker will
be rendered.</p>
</li>
<li>
<p>For an enumeration, a combo box will be created. You can use the
message bundle mechanism to specify translations for the enumeration
values (more on this below).</p>
</li>
</ul>
</div>
</li>
<li>
<p>For a <code>LOB</code> property, a file upload field will be created.</p>
</li>
<li>
<p>For a <code>MASTER</code> property, by default a combo box that contains all the
possible values (as retrieved from the repository) will be created. You
can replace this by a lookup field or ListSelect by changing the value
of the <code>selectMode</code> setting.</p>
</li>
<li>
<p>For a <code>DETAIL</code> property, the behaviour will depend on the value of the
<code>nestedDetails</code> setting:</p>
<div class="ulist">
<ul>
<li>
<p>In case <code>nestedDetails</code> is set to true, a table that can be used to
edit the details inline as part of the edit form is rendered. This is
used for nested collections that cannot exist without the parent entity,
e.g., the OrderLines belonging to an Order.</p>
</li>
<li>
<p>In case <code>nestedDetails</code> is set to false, a multiple select component
that can be used to select various (already existing) entities is
rendered. You can switch this to a lookup field by changing the value of
the <code>selectMode</code> setting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For an <code>ELEMENT_COLLECTION</code> property, the application either renders a
“chips” component (a component that allows you to specify multiple
values by typing) or a simple pop-up dialog that allows you to enter
extra values. You can modify this behaviour by changing the value of the
<code>elementCollectionMode</code> setting.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Inside a search form the rendering is a slightly different:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For a <code>BASIC</code> property:</p>
<div class="ulist">
<ul>
<li>
<p>For a String property, a text field is created. This text field can
be used to perform a search. You can use additional properties to toggle
the case sensitivity and whether to allow prefix or substring matches.
The <code>textAreaMode</code> setting is ignored in search forms.</p>
</li>
<li>
<p>For a numeric or a date/time property, two search fields are
generated. These allow the user to perform an interval search (return
all values that are higher than or equal to the value in the first field
and lower than or equal to the value in the second field). If you do not
want this behaviour, you can change the value of the
<code>searchForExactValue</code> setting to <code>true</code>; if you do this then only a
single search field will appear.</p>
</li>
<li>
<p>For a property of type <code>LocalDateTime</code> or <code>Instant</code> you can set the
<code>searchForDate</code> setting to true. If you do this then only a single
search field will be created. In this field you can select the date to
search on.</p>
</li>
<li>
<p>For a Boolean property, a three-way checkbox displayed. This checkbox
has three possible values: "true", "false", and "no value".</p>
</li>
<li>
<p>For an enumeration, a combo box containing all values of the
enumeration is displayed.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For a <code>MASTER</code> property, by default a combo box containing all
possible values of the master entity is displayed. You can use the
<code>searchSelectMode</code> and/or <code>selectMode</code> settings to replace this by a
lookup field.</p>
</li>
<li>
<p>For a <code>DETAIL</code> property, by default a multi-select field is created.
You can use the <code>searchSelectMode</code> and/or <code>selectMode</code> settings to
replace this by a lookup field.</p>
</li>
<li>
<p><code>LOB</code> properties cannot be used in search forms.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>attributeType</code> setting also determines whether the property will be
visible by default:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In a results grid, by default only <code>BASIC</code> attributes will be visible.
Use the <code>visibleInGrid</code> attribute to show a complex attribute inside a
grid.</p>
<div class="ulist">
<ul>
<li>
<p>For a <code>MASTER</code> property, the value of its <code>displayProperty</code> property
will be used.</p>
</li>
<li>
<p>For a <code>DETAIL</code> property (remember, this represents a collection!),
the values of the <code>displayProperty</code> properties of all individual
entities in the collection will be displayed, separated by commas.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Attributes of type <code>MASTER</code> and <code>DETAIL</code> will by default not be
displayed inside an edit form. You can change this by setting the
<code>visibleInForm</code> setting of the attribute model to true.</p>
</li>
<li>
<p>When displaying an enumeration value inside a combo box, the values
that are displayed inside the combo box are taken from the message
bundle:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="err">[SimpleClassName].[EnumerationValue]=[Desired</span> <span class="err">value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>E.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Reputation.REALLY_NOT_FEARSOME</span><span class="p">=</span><span class="s">Really not fearsome</span>
<span class="py">Reputation.MILDLY_FEARSOME</span><span class="p">=</span><span class="s">Mildly fearsome</span>
<span class="py">Reputation.FEARSOME</span><span class="p">=</span><span class="s">Fearsome</span>
<span class="py">Reputation.EXTREMELY_FEARSOME</span><span class="p">=</span><span class="s">Extremely fearsome</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_autofill_instructions">4.3. Autofill instructions</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">autofillInstructions</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>autofillInstructions</code> setting can be used to define the
attribute-specific instructions for automatically filling a form based
on an AI service (Large Language Model). This is covered in more detail
in the section <a href="#_formfillenabled">FormFillEnabled</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_boolean_field_mode">4.4. Boolean field mode</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">booleanFieldMode</span> <span class="p">=</span> <span class="s">CHECKBOX | TOGGLE | SWITCH</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>booleanFieldMode</code> setting can be used to change the type of user
interface component that is used to modify an attribute of type Boolean.</p>
</div>
<div class="paragraph">
<p>The default value for this setting is derived from the value of the
system property <code>dynamoframework.defaults.boolean-field-mode</code>. It defaults to
<code>CHECKBOX</code> but can be changed to <code>TOGGLE</code> (a toggle button) or <code>SWITCH</code>
(an on/off switch).</p>
</div>
<div class="paragraph">
<p>This only affects the component that is used inside an edit form. Inside
a search form, the framework will always use a tri-state checkbox (i.e.
a component that can have the values true, false, or undefined).</p>
</div>
</div>
<div class="sect2">
<h3 id="_cascade">4.5. Cascade</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="err">cascade.[index]</span> <span class="err">=</span> <span class="err">[Path</span> <span class="err">to</span> <span class="err">attribute]</span>
<span class="err">cascadeFilterPath.[index]</span> <span class="err">=</span> <span class="err">[Path</span> <span class="err">to</span> <span class="err">attribute]</span>
<span class="err">cascadeMode.[index]</span> <span class="err">=</span> <span class="err">BOTH</span> <span class="err">|</span> <span class="err">EDIT</span> <span class="err">|</span> <span class="err">SEARCH</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>cascade</code> setting can be used to define “cascading search” for
selection components. Cascading search means that when you select a
value in a certain component, the available values in another component
change based on this choice. e.g., suppose that you are editing or
searching for an <code>Organization</code> and you have selection fields for a
country and for a list of members of the organization– choosing a
country from the list will limit the values in member list to the people
that originate from that country.</p>
</div>
<div class="paragraph">
<p>To set up cascading, you can define one or more <code>@Cascade</code> annotations
as part of the <code>@Attribute</code> annotation. Each <code>@Cascade</code> annotation takes
three parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cascadeTo</code> - this is the path to the attribute for which the
selection must change in response to a change of the annotated
attribute. In our example, the attribute to change is <code>members</code> (see
below).</p>
</li>
<li>
<p><code>filterPath</code> – this is the path that determines which filter to apply
to the selection component that is on the receiving end of the cascade
action. In our example, we want to filter a list of Persons so that only
persons from a certain country are returned – this country is stored in
the <code>countryOfOrigin</code> property of the person so this is our filter path.</p>
</li>
<li>
<p><code>mode</code> - this specifies whether the cascading should be enabled in search
forms, in edit forms, or in both cases. The default is <code>BOTH</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Attribute</span><span class="o">(</span><span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">searchable</span> <span class="o">=</span> <span class="nc">SearchMode</span><span class="o">.</span><span class="na">ALWAYS</span><span class="o">,</span> <span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">cascade</span> <span class="o">=</span> <span class="nd">@Cascade</span><span class="o">(</span><span class="n">cascadeTo</span> <span class="o">=</span> <span class="s">"members"</span><span class="o">,</span> <span class="n">filterPath</span> <span class="o">=</span> <span class="s">"countryOfOrigin"</span><span class="o">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="nc">CascadeMode</span><span class="o">.</span><span class="na">EDIT</span><span class="o">))</span>
<span class="kd">private</span> <span class="nc">Country</span> <span class="n">countryOfOrigin</span><span class="o">;</span>

<span class="nd">@Attribute</span><span class="o">(</span><span class="n">searchable</span> <span class="o">=</span> <span class="nc">SearchMode</span><span class="o">.</span><span class="na">ALWAYS</span><span class="o">,</span> <span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">members</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Setting up cascading in a message bundle is a bit more involved. You can
do so by defining two or three messages like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Organization.countryOfOrigin.cascade.1</span><span class="p">=</span><span class="s">members</span>
<span class="py">Organization.countryOfOrigin.cascadeFilterPath.1</span><span class="p">=</span><span class="s">countryOfOrigin</span>
<span class="py">Organization.countryOfOrigin.cascadeMode.1</span><span class="p">=</span><span class="s">EDIT</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>cascade</code> message defines the property to apply the cascading to –
the <code>cascadeFilterPath</code> is the property path to filter on and the
optional <code>cascadeMode</code> determines when to apply the cascading. Each
message must end with a number that is used to group the messages
together. The numbering starts at 1 and must use increments of 1, so
if for example you want to define another cascade for the same attribute,
that would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Organization.cascade.2</span><span class="p">=</span><span class="s">[some other property to cascade]</span>
<span class="py">Organization.cascadeFilterPath.2</span><span class="p">=</span><span class="s">[some other path]</span>
<span class="py">Organization.cascadeMode.2</span><span class="p">=</span><span class="s">EDIT</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_currency_code">4.6. Currency code</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">currencyCode</span> <span class="p">=</span> <span class="s">[ISO 4217 currency code]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This setting can be used to specify that a numeric field (currently only
supported for BigDecimal properties) contains a currency value. If this
setting is changed to a valid <a href="https://www.iso.org/iso-4217-currency-codes.html">ISO 4217</a>
currency code, then a currency  symbol will be displayed in front of the value
of the property.</p>
</div>
<div class="paragraph">
<p>If the specified currency code corresponds to a symbol (e.g., “$” for US
dollar) then this symbol will be used instead of the code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_date_type">4.7. Date type</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">dateType</span> <span class="p">=</span> <span class="s">LOCAL_DATE_TIME | INSTANT | DATE | TIME</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>dateType</strong> setting can be used to determine how an attribute of type
<strong>LocalTime, LocalDate</strong>, <strong>LocalDateTime</strong> or <strong>Instant</strong> will be managed:</p>
</div>
<div class="paragraph">
<p>The allowed values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LOCAL_DATE_TIME</code> or <code>INSTANT</code>: In this case the application renders a
date picker that includes a time selection component.</p>
</li>
<li>
<p><code>DATE</code>: in this case the application renders a date picker without a
time selection component.</p>
</li>
<li>
<p><code>TIME</code>: in this case a custom time selection component is rendered.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the value of the <code>dateType</code> setting is derived from the Java
type of the property. You do not normally have to manually override it.</p>
</div>
<div class="paragraph">
<p>Dynamo does not support the legacy Java date types (java.util.Date and
java.sql.Date).</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_search_value">4.8. Default search value</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">defaultSearchValue</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>defaultSearchValue</code> setting can be used to set the default value
that appears inside an input component inside a search form. This is
only supported for simple attributes like strings and number, not for
entities. It is only used when a single UI component is rendered for
searching (as opposed to two components for specifying an upper or lower
bound; in that case use <code>defaultSearchValueFrom</code> and
<code>defaultSearchValueTo</code>)</p>
</div>
<div class="paragraph">
<p>You always specify this setting as a string; if the value must be
converted to a decimal number, use the period (“.”) as the decimal
separator. For enumeration values, use the upper-case String
representation of the desired value.</p>
</div>
<div class="paragraph">
<p>For date attributes, use the String representations according to
the system properties <code>dynamoframework.defaults.date-format</code> (<code>dd-MM-yyyy</code>),
<code>dynamoframework.defaults.time-format</code> (<code>HH:mm:ss</code>),
<code>dynamoframework.defaults.date-time-format</code> (<code>dd-MM-yyyy HH:mm:ss</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_search_value_from">4.9. Default search value from</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">defaultSearchValueFrom</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>defaultSearchValueFrom</code> setting can be used to set the default
value that appears as the lower bound inside a user interface component
inside a search form. This is only supported for simple attributes like
strings and number, not for entities. It is only used when two input
components (upper and lower bound) are rendered for the search, e.g., in
case of a numeric value or date range.</p>
</div>
<div class="paragraph">
<p>You always specify this setting as a String; if the value must be
converted to a decimal number, use the period (“.”) as the decimal
separator. For enumeration values, use the upper-case String
representation of the desired value.</p>
</div>
<div class="paragraph">
<p>For date attributes, use the String representations according to
the system properties <code>dynamoframework.defaults.date-format</code> (<code>dd-MM-yyyy</code>),
<code>dynamoframework.defaults.time-format</code> (<code>HH:mm:ss</code>),
<code>dynamoframework.defaults.date-time-format</code> (<code>dd-MM-yyyy HH:mm:ss</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_search_value_to">4.10. Default search value to</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">defaultSearchValueTo</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>defaultSearchValueTo</code> setting can be used to set the default value
that appears as the upper bound inside a user interface component inside
a search form. This is only supported for simple attributes like strings
and number, not for entities. It is only used when two input components
(upper and lower bound) are rendered for the search, e.g., in case of a
numeric value or date range.</p>
</div>
<div class="paragraph">
<p>You always specify this setting as a String; if the value must be
converted to a decimal number, use the period (“.”) as the decimal
separator. For enumeration values, use the upper-case String
representation of the desired value.</p>
</div>
<div class="paragraph">
<p>For date/time attributes, use the String representations according to
the system properties <code>dynamoframework.defaults.date-format</code> (<code>dd-MM-yyyy</code>),
<code>dynamoframework.defaults.time-format</code> (<code>HH:mm:ss</code>),
<code>dynamoframework.defaults.date-time-format</code> (<code>dd-MM-yyyy HH:mm:ss</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_value">4.11. Default value</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">defaultValue</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>defaultValue</code> setting can be used to set the default value that
appears inside a user interface component when creating a new entity.
This is only supported for simple attributes like Strings and numbers,
not for entities.</p>
</div>
<div class="paragraph">
<p>You always specify this setting as a String; if the value must be
converted to a decimal number, use the period (“.”) as the decimal
separator. For enumeration values, use the upper-case String
representation of the desired value.</p>
</div>
<div class="paragraph">
<p>For date/time attributes, use the String representations according to
the system properties <code>dynamoframework.defaults.date-format</code> (<code>dd-MM-yyyy</code>),
<code>dynamoframework.defaults.time-format</code> (<code>HH:mm:ss</code>), <code>dynamoframework.defaults.date-time-format</code>
(<code>dd-MM-yyyy HH:mm:ss</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_description">4.12. Description</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">description</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>description</code> setting determines the value of the tooltip that the
user will see when hovering over the input field for the property.</p>
</div>
<div class="paragraph">
<p>If not explicitly set, it will default to the value of the <code>displayName</code>
setting.</p>
</div>
<div class="paragraph">
<p>This setting supports localization.</p>
</div>
</div>
<div class="sect2">
<h3 id="_display_format">4.13. Display format</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">displayFormat</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>displayFormat</code> setting indicates how date/time values will be
formatted. It is supported for attributes of a Java 8 date/time type
(LocalDate, LocalTime, etc).</p>
</div>
<div class="paragraph">
<p>The value of the <code>displayFormat</code> attribute must be a valid Java
data/time formatting pattern, e.g., <code>dd-MM-yyyy</code>, but you can use
different separators like <code>dd/MM-yyyy</code> or use formats like <code>yyyy-MM-dd</code>.</p>
</div>
<div class="paragraph">
<p>If you do not explicitly specify a displayFormat for an attribute, the
framework will default to the value of the <code>dynamoframework.defaults.date-format</code>,
<code>dynamoframework.defaults.time-format</code>, <code>dynamoframework.defaults.date-time-format</code>, or system
variables depending on the <code>dateType</code> of the attribute model.</p>
</div>
<div class="paragraph">
<p>This setting supports localization.</p>
</div>
</div>
<div class="sect2">
<h3 id="_display_name">4.14. Display name</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">displayName</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>displayName</code> setting determines how the attribute will be named
onscreen. By default, it is derived from the <code>name</code> setting, replacing
CamelCase notation by spaces and then capitalizing individual words,
e.g., <code>mininumAge</code> will be translated to “Minimum Age”. You can use the
system property <code>dynamoframework.capitalize-property-names</code> and set it to <code>false</code> so that
only the first word will be capitalized.</p>
</div>
<div class="paragraph">
<p>This setting supports localization.</p>
</div>
</div>
<div class="sect2">
<h3 id="_download_allowed">4.15. Download allowed</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">downloadAllowed</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>downloadAllowed</code> setting indicates whether it is allowed to
download files that were uploaded using the file upload functionality.
It defaults to <code>false</code>.When set to <code>true</code>, a “download” button will
show up next to the preview of the image in a file upload component.</p>
</div>
</div>
<div class="sect2">
<h3 id="_editabletype">4.16. Editable type</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">editable</span> <span class="p">=</span> <span class="s">READ_ONLY | CREATE_ONLY | EDITABLE | HIDDEN</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>editableType</code> setting specifies when an attribute can be edited.
The default value <code>EDITABLE</code> means that the attribute can be edited both
when creating a new entity or when editing an existing one.
<code>CREATE_ONLY</code> means that the attribute can only be edited when
creating a new entity. <code>READ_ONLY</code> means that the property is read-only
and cannot be edited in the user interface.</p>
</div>
<div class="paragraph">
<p>The special value <code>HIDDEN</code> can be used in cases in which an attribute
must be filled with a value that is not directly entered inside the edit
form but depends on another non-constant value. e.g., you are in detail
screen and have a reference to a parent object which must be set on the
new entity.</p>
</div>
<div class="paragraph">
<p>The values of properties that are set to <code>EDITABLE</code> or <code>CREATE_ONLY</code>
will still be shown inside edit forms, however it will not be possible
to change the values.</p>
</div>
</div>
<div class="sect2">
<h3 id="_element_collection_mode">4.17. Element collection mode</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">elementCollectionMode</span> <span class="p">=</span> <span class="s">CHIPS | DIALOG</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This setting specifies the type of component to use for editing an
attribute of type <code>ELEMENT_COLLECTION</code>. The default value, CHIPS, will
result in a “chips” component (basically a field that holds multiple
tags). You can change this to DIALOG to render a component that uses a
popup dialog to enter additional values.</p>
</div>
</div>
<div class="sect2">
<h3 id="_email">4.18. Email</h3>
<div class="paragraph">
<p>This setting is not configurable using a message bundle.</p>
</div>
<div class="paragraph">
<p>The <code>email</code> setting can be used to specify that a field must contain a
valid email address. It is automatically set to <code>true</code> if the property
is annotated with the <code>@Email</code> annotation (from the Java validation
framework).</p>
</div>
</div>
<div class="sect2">
<h3 id="_enum_field_mode">4.19. Enum field mode</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">enumFieldMode</span> <span class="p">=</span> <span class="s">DROPDOWN | RADIO</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>enumFieldMode</code> determines which input component to use when
managing an attribute of type ENUM. By default, the value DROPDOWN is
used, which means that a dropdown field (combo box) will be used. You
can change this default by modifying the value of the system property
<code>dynamoframework.defaults.enum-field-mode</code>. When the value is changed to <code>RADIO</code> a
set of radio buttons will be used instead.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
within a search form, this setting will be ignored, and a
dropdown component will always be used in order to save space.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_file_name_property">4.20. File name property</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">fileNameProperty</span> <span class="p">=</span> <span class="s">[property name]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>fileNameProperty</code> setting can be used to specify the name of the
property that is used to store the name of an uploaded file after a file
upload. This setting is intended to be used on attributes of type <code>LOB</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Lob</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">image</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span> <span class="n">fileNameProperty</span> <span class="o">=</span> <span class="s">"logo.fileName"</span><span class="o">)</span>
<span class="kd">private</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">image</span><span class="o">;</span>

<span class="c1">// hide in grid to prevent fetch issues</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">editableType</span> <span class="o">=</span> <span class="nc">EditableType</span><span class="o">.</span><span class="na">READ_ONLY</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">String</span> <span class="n">fileName</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, if you define an attribute of type LOB, the application
will render a file upload component for editing this attribute. The byte
content of the uploaded file will be stored in the property itself, but
the file name of the file that was uploaded will not be persisted.</p>
</div>
<div class="paragraph">
<p>If you want to store the file name as well, simply create another
property (of type String) and then point the <code>fileNameProperty</code> of the
<code>@Attribute</code> annotation that is placed on the property that holds the
binary representation to this property. The framework will then
store the name of the uploaded file in this property as part of the file
upload process.</p>
</div>
<div class="paragraph">
<p>The actual <code>fileName</code> property must be annotated as <code>readOnly</code> since it
is automatically set by the framework and does not need to be modified
by the user.</p>
</div>
<div class="paragraph">
<p>If you don’t specify a <code>fileNameProperty</code> for an attribute that is meant
for file upload, the upload and download will still work, however when
downloading a file, it will be assigned a default file name because the
actual file name is unknown.</p>
</div>
</div>
<div class="sect2">
<h3 id="_group_together_with">4.21. Group together with</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">groupTogetherWith</span> <span class="p">=</span> <span class="s">[Comma separated list of attribute names]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>groupTogetherWith</code> setting can be used to specify that the input
components for several attributes must be placed together on a single
row in an edit form. This can be a good way of saving screen space. The
value of this setting consists of a list of attribute names. The input
components for these attributes will be placed behind the original
attribute, in the order in which they are defined.</p>
</div>
<div class="paragraph">
<p>Here you see an example of this for the <code>region</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Attribute</span><span class="o">(</span><span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">searchable</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span> <span class="n">groupTogetherWith</span> <span class="o">=</span> <span class="o">{</span><span class="s">"region"</span><span class="o">})</span>
<span class="kd">private</span> <span class="nc">Country</span> <span class="n">country</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And this is the input form that will be generated:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image2.png" alt="image" width="560" height="64">
</div>
<div class="title">Figure 1. Generated region form.</div>
</div>
<div class="paragraph">
<p>You can still use all available settings to modify the behaviour of the
components for the “extra” attributes that are placed behind the first
attribute. The framework makes sure that the extra attributes do not
show up more than once.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
for this to work properly, the attribute that the
<code>groupTogetherWith</code> setting refers to must occur in the attribute order
<code>after</code> the attribute that does the referring (for the example
above, <code>region</code> must come after <code>country</code>). If this rule is not
observed, then an exception will be thrown and the component will
not be displayed properly.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_ignore_in_search_filter">4.22. Ignore in search filter</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">ignoreInSearchFilter</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This setting can be used for rare occasions in which you want to use an
attribute inside a search form (e.g., for setting up cascading) but you
want to ignore the selected value when actually performing a search.</p>
</div>
</div>
<div class="sect2">
<h3 id="_image">4.23. Image</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">image</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This setting can be used on a LOB property to specify whether it
represents an image. By default, this setting has the value <code>false</code>.
If set to <code>true</code>, the application will try to render a preview image of
the value (byte contents) of the property.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lookup_entity_reference">4.24. Lookup entity reference</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">lookupEntityReference</span> <span class="p">=</span> <span class="s">[string value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>lookupEntityReference</code> setting can be used to specify the reference
(unique identifier) that is to be used when looking up nested entities.
e.g., suppose that you have an Organization entity that has an attribute
Country. By default, when looking up countries (e.g., when filling a
dropdown list), the default “Country” entity model will be used. If you
want to use a different entity model, you can specify this using this
setting.</p>
</div>
<div class="paragraph">
<p>You can use the message bundle (<em>entitymodel.properties</em>) to modify how
this entity model behaves.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lookup_query_type">4.25. Lookup query type</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">lookupQueryType</span> <span class="p">=</span> <span class="s">PAGING | ID_BASED</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>lookupQueryType</code> setting can be used to specify the query type to
use inside a popup search dialog that is used inside a lookup field
component.</p>
</div>
</div>
<div class="sect2">
<h3 id="_max_collection_size">4.26. Max collection size</h3>
<div class="paragraph">
<p>The <code>maxCollectionSize</code> setting determines the maximum number of allowed
elements in an element collection, one-to-many relation, or many-to-many
relation. Its value is derived from the <code>max</code> value on the standard Java
Validation <code>@Size</code> annotation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_max_length">4.27. Max length</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">maxLength</span> <span class="p">=</span> <span class="s">[Integer value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>maxLength</code> setting can be used to specify the maximum allowed
length of an attribute of type String. This value is normally
automatically derived from the <code>@Size(max=&lt;value&gt;)</code> annotation.</p>
</div>
<div class="paragraph">
<p>It can also be used to set the maximum length of string values inside an
element collection. In this case, you must set the <code>maxLength</code> directly
using the <code>@Attribute</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@ElementCollection</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
<span class="nd">@CollectionTable</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"person_tags"</span><span class="o">)</span>
<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"tag"</span><span class="o">)</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">,</span>
        <span class="n">minLength</span> <span class="o">=</span> <span class="mi">4</span><span class="o">,</span> <span class="n">maxLength</span> <span class="o">=</span> <span class="mi">12</span><span class="o">,</span> <span class="n">elementCollectionMode</span> <span class="o">=</span> <span class="nc">ElementCollectionMode</span><span class="o">.</span><span class="na">DIALOG</span><span class="o">)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_max_length_in_grid">4.28. Max length in grid</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">maxLengthInGrid</span> <span class="p">=</span> <span class="s">[Integer value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>maxLengthInGrid</code> setting can be used to set the maximum length of
the value of a String property when it is displayed inside a grid – if
the value of the property is longer than this, the value will be
truncated after the first <code>maxLengthInGrid</code> characters. This can help
save space in grids.</p>
</div>
</div>
<div class="sect2">
<h3 id="_max_value">4.29. Max value</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">maxValue</span> <span class="p">=</span> <span class="s">[Integer value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>maxValue</code> setting can be used to specify the maximum value of a
numeric attribute. This value is automatically derived from the <code>@Max</code>
annotation for Integer or Long fields.</p>
</div>
<div class="paragraph">
<p>It can also be used to set the maximum value of numeric values inside an
element collection. In this case, you must set the <code>maxValue</code> directly
using the <code>@Attribute</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@ElementCollection</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
<span class="nd">@CollectionTable</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"person_lucky_numbers"</span><span class="o">)</span>
<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"lucky_number"</span><span class="o">)</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">,</span>
        <span class="n">minValue</span> <span class="o">=</span> <span class="mi">10</span><span class="o">,</span> <span class="n">maxValue</span> <span class="o">=</span> <span class="mi">100</span><span class="o">,</span> <span class="n">elementCollectionMode</span> <span class="o">=</span> <span class="nc">ElementCollectionMode</span><span class="o">.</span><span class="na">CHIPS</span><span class="o">)</span>
<span class="nd">@Size</span><span class="o">(</span><span class="n">max</span> <span class="o">=</span> <span class="mi">3</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nd">@Min</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span> <span class="nd">@Max</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="mi">100</span><span class="o">)</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">luckyNumbers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_member_type">4.30. Member type</h3>
<div class="paragraph">
<p>This setting is not configurable using a message bundle.</p>
</div>
<div class="paragraph">
<p>The <code>memberType</code> setting can be used to explicitly set the member type
(i.e. the type of an individual entity) of an attribute type <code>DETAIL</code>.
Normally, the member type can be derived from the source code
automatically, but there are certain cases in which this is not
possible, e.g., when working with a property that does not directly map
to a member field, but rather returns a collection that is calculated on
the fly. In this case, you can use the <code>memberType</code> to set the exact
type of the members of the collection.</p>
</div>
<div class="paragraph">
<p>This setting is only supported as an annotation override.</p>
</div>
</div>
<div class="sect2">
<h3 id="_min_collection_size">4.31. Min collection size</h3>
<div class="paragraph">
<p>The <code>minCollectionSize</code> setting determines the minimum number of allowed
elements in an element collection, one-to-many relation, or many-to-many
relation. Its value is derived from the <code>min</code> value on the <code>@Size</code>
annotation from the Java validation framework.</p>
</div>
</div>
<div class="sect2">
<h3 id="_min_length">4.32. Min length</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">minLength</span> <span class="p">=</span> <span class="s">[Integer value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>minLength</code> setting can be used to specify the minimum allowed
length of an attribute of type String. This value is automatically
derived from the <code>@Size(min=&lt;value&gt;)</code> annotation.</p>
</div>
<div class="paragraph">
<p>It can also be used to set the minimum length of string values inside an
element collection. In this case, you must set the <code>minLength</code> directly
on the <code>@Attribute</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"tag"</span><span class="o">)</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">,</span>
        <span class="n">minLength</span> <span class="o">=</span> <span class="mi">4</span><span class="o">,</span> <span class="n">maxLength</span> <span class="o">=</span> <span class="mi">12</span><span class="o">,</span> <span class="n">elementCollectionMode</span> <span class="o">=</span> <span class="nc">ElementCollectionMode</span><span class="o">.</span><span class="na">DIALOG</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nd">@Size</span><span class="o">(</span><span class="n">min</span> <span class="o">=</span> <span class="mi">4</span><span class="o">,</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">12</span><span class="o">)</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">tags</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_min_value">4.33. Min value</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">minValue</span> <span class="p">=</span> <span class="s">[Integer value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>minValue</code> setting can be used to specify the minimum value for a
numeric attribute. This value is automatically derived from the <code>@Min</code>
annotation.</p>
</div>
<div class="paragraph">
<p>It can also be used to set the minimum value of numeric values inside an
element collection. In this case, you must set the <code>minValue</code> directly
using the <code>@Attribute</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@ElementCollection</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
<span class="nd">@CollectionTable</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"person_lucky_numbers"</span><span class="o">)</span>
<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"lucky_number"</span><span class="o">)</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">,</span>
        <span class="n">minValue</span> <span class="o">=</span> <span class="mi">10</span><span class="o">,</span> <span class="n">maxValue</span> <span class="o">=</span> <span class="mi">100</span><span class="o">,</span> <span class="n">elementCollectionMode</span> <span class="o">=</span> <span class="nc">ElementCollectionMode</span><span class="o">.</span><span class="na">CHIPS</span><span class="o">)</span>
<span class="nd">@Size</span><span class="o">(</span><span class="n">max</span> <span class="o">=</span> <span class="mi">3</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nd">@Min</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span> <span class="nd">@Max</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="mi">100</span><span class="o">)</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">luckyNumbers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multiple_search">4.34. Multiple search</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">multipleSearch</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>multipleSearch</code> setting can be used to allow searching on multiple
values at once for attributes of type <code>MASTER</code>. By default, the user
would only be allowed to search on a single value at a time for such
attributes, but if you set this setting to <code>true</code> you will be allowed to
select multiple values (and the application will return all entities
that match at least one of the selected values). This will also change
the component that is rendered by default from a combo box to a multiple
select field.</p>
</div>
<div class="paragraph">
<p>You can use the <code>searchSelectMode</code> to further modify the type of the
search component that is rendered (you can also use a lookup field by
using the value <code>LOOKUP</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@NotNull</span>
<span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"country_of_origin"</span><span class="o">)</span>
<span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">searchable</span> <span class="o">=</span> <span class="nc">SearchMode</span><span class="o">.</span><span class="na">ALWAYS</span><span class="o">,</span> <span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span>
        <span class="n">multipleSearch</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span> <span class="n">searchSelectMode</span> <span class="o">=</span> <span class="nc">AttributeSelectMode</span><span class="o">.</span><span class="na">LOOKUP</span><span class="o">,</span> <span class="n">navigable</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Country</span> <span class="n">countryOfOrigin</span><span class="o">;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_navigable">4.35. Navigable</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">navigable</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>navigable</code> setting can be used to specify that a hyperlink for
in-application navigation must be rendered for a certain property. This
works both in a grid and inside an edit form. This is only supported for
properties of type <code>MASTER</code> (i.e. many-to-one relations).</p>
</div>
<div class="paragraph">
<p>In order to use this form of navigation, you first need to set the
<code>navigable</code> setting for the property to true. This will then make the
attribute values clickable inside results tables, and inside a form that
is in read-only mode.</p>
</div>
</div>
<div class="sect2">
<h3 id="_navigation_link">4.36. Navigation link</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">navigationLink</span> <span class="p">=</span> <span class="s">[String value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>navigationLink</code> setting can be used to specify the path to use for
intra-application navigation (see also under <code>navigable</code>)*. By default,
the application will use the name of the referenced entity (with the
first letter lower-cased) as the value of the navigation link, but this
can be modified by setting the navigation link. If this setting has a
value that is not equal to the empty string, then this setting will be
used rather than the default.</p>
</div>
</div>
<div class="sect2">
<h3 id="_needed_in_data">4.37. Needed in data</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">neededInData</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Dynamo framework only returns the attributes that are actually
needed for displaying or editing the entities to the front-end.In very
rare occasions it can happen that there are attributes that are not
directly needed in the UI but that are used as the input for certain
other (read-only) attributes.By default, the values of these attributes
are not returned by the API.In these cases, you can set the
<code>neededInData</code> setting to <code>true</code> in order to return these attribute
values anyway.</p>
</div>
</div>
<div class="sect2">
<h3 id="_numberfieldmode">4.38. Number field mode</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">numberFieldMode</span> <span class="p">=</span> <span class="s">TEXTFIELD | NUMBERFIELD</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>numberFieldMode</code> setting can be used to set the field mode to use
for a numeric property When set to <code>TEXTFIELD</code> application will
render a text field.This field has input validation so that only
numbers can be entered.</p>
</div>
<div class="paragraph">
<p>When set to <code>NUMBERFIELD</code>, the application will render a text field
with a pair of spinner buttons that can be used to increase or decrease the value.</p>
</div>
<div class="paragraph">
<p>The default value of this setting can be modified by changing the system
variable <code>dynamoframework.defaults.number-field-mode</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_number_field_step">4.39. Number field step</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">numberFieldStep</span> <span class="p">=</span> <span class="s">[Integer value]]</span>
<span class="err">[source,properties]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>numberFieldStep</code> setting can be used to set the step size to be used for a
number field (see section <a href="#_numberfieldmode">Number field mode</a>). The default value is <code>1</code>, but you
can set this to any positive integer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_percentage">4.40. Percentage</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">percentage</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>percentage</code> setting is used to indicate whether a numeric value
represents a percentage. By default, this attribute has the value
<code>false</code>. If set to <code>true</code>, the value of the property will be
displayed with a “%” sign following it, both in read-only and edit mode.</p>
</div>
<div class="paragraph">
<p>The percentage sign is purely cosmetic; the actual value of the property
is not converted or changed in any way.</p>
</div>
</div>
<div class="sect2">
<h3 id="_precision">4.41. Precision</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">precision</span> <span class="p">=</span> <span class="s">[Numeric value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>precision</code> setting determines the number of digits will be shown
behind the decimal separator when displaying non-integer numbers. By
default, it is set to <code>2</code>, but you can change this by changing the value
of the system property <code>dynamoframework.defaults.decimal-precision</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_prompt">4.42. Prompt</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">prompt</span> <span class="p">=</span> <span class="s">[String]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>prompt</code> setting determines the value of the prompt that shows up
inside the editable field for the attribute (in Angular/PrimeNG this is
known as the “placeholder”)</p>
</div>
<div class="paragraph">
<p>If not set, it defaults to the value of the <code>displayName</code> setting.</p>
</div>
</div>
<div class="sect2">
<h3 id="_quick_add_allowed">4.43. Quick-add allowed</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">quickAddAllowed</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>quickAddAllowed</code> setting can be used to allow the creation of
entities directly from inside a form, for a UI component that is used to
manage a <code>MASTER</code> or <code>DETAIL</code> relation. Normally, in such a case a combo
box, multi-select or similar component will be rendered (depending on
the value of the <code>selectMode</code> setting)</p>
</div>
<div class="paragraph">
<p>If you set the <code>quickAddAllowed</code> setting to <code>true</code>, an additional button
will be rendered next to the edit component for the property. When
pressed, this button will bring up a dialog that will allow the user to
create a new entity.</p>
</div>
<div class="paragraph">
<p>When the user presses the <strong>OK</strong> button in this dialog, the framework will
create a new entity based on the contents of the dialog. This comes with
an automatic check for duplicate values, provided you have configured
this on the underlying service.</p>
</div>
<div class="paragraph">
<p>As an example, consider the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@NotNull</span>
<span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"country_of_origin"</span><span class="o">)</span>
<span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">,</span> <span class="n">quickAddAllowed</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span> <span class="n">selectMode</span> <span class="o">=</span> <span class="nc">AttributeSelectMode</span><span class="o">.</span><span class="na">LOOKUP</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Country</span> <span class="n">countryOfOrigin</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, we define a “countryOfOrigin” property that is of type “Country”.
We set the <code>quickAddAllowed</code> to <code>`true</code>. Once the user now starts the
application, they will see an “Add” button behind the field that can be
used to create a new country. Once pressed, the button will bring up the
following dialog:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image3.png" alt="image" width="559" height="178">
</div>
<div class="title">Figure 2. Quick add screen.</div>
</div>
<div class="paragraph">
<p>The user can now enter the properties of the country in the popup – once
they press the “OK” button the application will store the new Country,
add it to the options that are present in the selection component, and
select it.</p>
</div>
<div class="paragraph">
<p>The application will carry out an automatic check for duplicates when
the user tries to save the entity (based on the <code>findIdenticalEntity</code>
functionality), and will then look for an error message stored under the
<code>&lt;short name of entity&gt;.not.unique`key in order to display an error
message. e.g., in the example above, you should add a
`Country.not.unique</code> message to the message bundle.</p>
</div>
</div>
<div class="sect2">
<h3 id="_replacement_search_path">4.44. Replacement search path</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">replacementSearchPath</span> <span class="p">=</span> <span class="s">[Desired string value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>replacementSearchPath</code> setting can be used to modify the search
path that is used when translating search filters into a query – it can
happen that you are using a derived property in your search screen (e.g.
to allow searching on only a subset of values) and when you take no
further action this will produce an error when carrying out the query
since the property is not known in JPA. In cases like this, you can use
the <code>replacementSearchPath</code> setting to specify the alternate (real) path
to use during the search.</p>
</div>
<div class="paragraph">
<p>The <code>replacementSearchPath</code> setting is managed completely in the
back-end.</p>
</div>
</div>
<div class="sect2">
<h3 id="_replacement_sort_path">4.45. Replacement sort path</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">replacementSortPath</span> <span class="p">=</span> <span class="s">[Desired string value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use this setting to override the path to sort on when the user
clicks on a column header in a search results grid. By default, the
application will then sort on the exact path to the property, but if the
<code>replacementSortPath</code> is set, that value will be used instead.</p>
</div>
<div class="paragraph">
<p>The <code>replacementSortPath</code> setting is managed completely in the
back-end.</p>
</div>
</div>
<div class="sect2">
<h3 id="_required_for_searching">4.46. Required for searching</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">requiredForSearching</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>requiredForSearching</code> setting determines if a property is required
before a search can be carried out inside a <code>SearchLayout</code>.* If you
create a search form that contains properties that have
<code>requiredForSearching</code> set tot true, you will not be able to carry out a
search (i.e. the <code>search</code> button will be disabled) until you provide a
search value for these properties. Note that for an attribute for which
two search fields will be rendered, at least one of the fields must
contain a value.</p>
</div>
<div class="paragraph">
<p>The default value of this setting is <code>false</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_searchable">4.47. Searchable</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">searchable</span> <span class="p">=</span> <span class="s">NONE | ALWAYS | ADVANCED</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>searchable</code> setting determines whether a property will show up in a
search form on a search screen. By default, it is set to <code>NONE</code> which
means it will not show up in a search form. Setting this property to
<code>ALWAYS</code> means it will always show up in a search form. Setting it to
<code>ADVANCED</code> means it will only show up in search forms for which the
“advanced search” mode has been enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_search_case_sensitive">4.48. Search case-sensitive</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">searchCaseSensitive</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>searchCaseSensitive</code> setting determines whether search operations
on the attribute are case-sensitive. The default is given by the system
property <code>dynamoframework.defaults.search-case-sensitive</code> which defaults to <code>false</code>.
This setting is only used for attributes of type String and ignored in
all other cases.</p>
</div>
<div class="paragraph">
<p>On the attribute, you can use the values BooleanType.TRUE and
BooleanType.FALSE.</p>
</div>
<div class="paragraph">
<p>This setting is managed completely on the back-end.</p>
</div>
</div>
<div class="sect2">
<h3 id="_search_date_only">4.49. Search date only</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">searchDateOnly</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>searchDateOnly</code> setting determines whether search operations on an
attribute that represents a date/time (either LocalDateTime or an
Instant) are carried out using only date selection fields rather than
time selection fields.</p>
</div>
<div class="paragraph">
<p>By default, when searching on a date/time attribute, the application
will render two timestamp search fields that allow you to specify a
search interval. When you change this setting to <strong>true</strong> then instead the
application will render to date selection fields. Searching using these
date selection fields will return any time stamps that fall within the
specified date interval (inclusive). e.g., if you enter the search values
<code>2020-04-04</code> to <code>2020-04-06</code> you will return any records for which the
time stamp value matches the interval from <code>2020-04-04 00:00:00</code> up to
<code>2020-04-06 23:59:599999999</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_search_for_exact_value">4.50. Search for exact value</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">searchForExactValue</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This setting determines whether to search for an exact value rather than
a range, when searching for numeric or date values. By default, for such
a field two search fields will be rendered: one for the lower bound of
the range to search for, and one for the upper bound of the range to
search for.</p>
</div>
<div class="paragraph">
<p>By default, this setting has the value <code>false</code>. If set to <code>true</code>, then
instead of the two search fields, a single field will be rendered that
allows the user to search for an exact value.</p>
</div>
</div>
<div class="sect2">
<h3 id="_search_prefix_only">4.51. Search prefix only</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">searchPrefixOnly</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>searchPrefixOnly</code> setting determines whether search operations on
the property check only for a prefix match. If this is set to <code>true</code>,
then searching for e.g., “a” will only match “almond” (“a” appears at
start) but not “walnut” (“a” appears in the middle). If set to <code>false</code>,
then “a” will match both “almond” and “walnut”.</p>
</div>
<div class="paragraph">
<p>By default, this setting has the value <code>false</code>. This setting is only
used for attributes of type String and ignored in all other cases.</p>
</div>
<div class="paragraph">
<p>This setting is managed completely on the back-end.</p>
</div>
</div>
<div class="sect2">
<h3 id="_search_select_mode">4.52. Search select mode</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">searchSelectMode</span> <span class="p">=</span> <span class="s">AUTO_COMPLETE | COMBO | LOOKUP | MULTI_SELECT</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>searchSelectMode</code> setting is used to specify how the component for
searching an attribute of attribute type <code>MASTER</code> or <code>DETAIL</code> will be
rendered (inside a search form).</p>
</div>
<div class="paragraph">
<p>By default, the value of the <code>searchSelectMode</code> setting is equal to the
value of the <code>selectMode</code>, but you can change it explicitly if you want a
different component to be rendered inside a search form.</p>
</div>
<div class="paragraph">
<p>The following restrictions apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For a property of type <code>MASTER</code> you can use the values <code>COMBO</code>,
<code>LOOKUP</code> or <code>AUTO_COMPLETE</code>.</p>
</li>
<li>
<p>For a property of type <strong>DETAIL</strong> you can use the values <code>LOOKUP</code> and
<code>MULTI_SELECT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on the type of component that is selected, different calls to
the back-end will be performed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For select mode <code>COMBO</code>, if no field filter is applied, a call to the
“list” endpoint (<code>GET /api/dynamo/crud/&lt;entityName&gt;</code> is performed. This
will simply  result a sorted list of all the known entities of the requested
type. Use this with care as it is a bad idea to use this for large collections</p>
</li>
<li>
<p>For select mode <code>COMBO</code>,* if a field filter is applied, a call to the
“search” endpoint (<code>POST /api/dynamo/crud/&lt;entityName&gt;/search</code> is performed.
This will result in a list of entities that match the provided field filter,
restricted to a maximum of 100 results.</p>
</li>
<li>
<p>For select mode <code>AUTO_COMPLETE</code>, a call to the search endpoint (<code>POST
/api/dynamo/crud/&lt;entityName&gt;/search</code>) is performed, using a search filter
based on the <code>displayProperty</code> of the entity and the value entered by the user.</p>
</li>
<li>
<p>For select mode <code>LOOKUP</code>, initially no search is performed. Instead,
the user can press a button to bring up a search dialog which can be
used to perform a search.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_select_mode">4.53. Select mode</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">selectMode</span> <span class="p">=</span> <span class="s">AUTO_COMPLETE | COMBO | LOOKUP | MULTI_SELECT</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>selectMode</code> setting is used to specify how the component for
selecting an attribute of type <strong>MASTER</strong> or <strong>DETAIL</strong> will be rendered
(inside an edit form).</p>
</div>
<div class="paragraph">
<p>The following restrictions apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For a property of type <code>MASTER</code> you can use the values <code>COMBO</code>,
<code>LOOKUP</code> or <code>AUTO_COMPLETE</code>.</p>
</li>
<li>
<p>For a property of type <code>DETAIL</code> you can use the values <code>LOOKUP</code> and
<code>MULTI_SELECT</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on the type of component that is selected, different calls to
the back-end will be performed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For select mode <code>COMBO</code>, if no field filter is applied, a call to the
“list” endpoint (<code>GET /api/dynamo/crud/&lt;entityName&gt;</code> is performed. This
will simply result a sorted list of all the known entities of the requested
type. Use this with care as it is a bad idea to use this for large collections.</p>
</li>
<li>
<p>For select mode <code>COMBO</code>, if a field filter is applied, a call to the
"search" endpoint (<code>POST /api/dynamo/crud/&lt;entityName&gt;/search</code> is performed.
This will result in a list of entities that match the provided field filter,
restricted to a maximum of 100 results.</p>
</li>
<li>
<p>For select mode <code>AUTO_COMPLETE</code>, a call to the search endpoint (<code>POST
/api/dynamo/crud/&lt;entityName&gt;/search</code>) is performed, using a search filter
based on the <code>displayProperty</code> of the entity and the value entered by the user.</p>
</li>
<li>
<p>For select mode <code>LOOKUP</code>, initially no search is performed. Instead,
the user can press a button to bring up a search dialog which can be
used to perform a search.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_showdetailspaginator">4.54. ShowDetailsPaginator</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">showDetailsPaginator</span> <span class="p">=</span> <span class="s">SHOW | HIDE | true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>showDetailsPaginator</strong> setting can be used to specify whether a paginator
must be shown between a nested details table in an edit form. This is only applicable
for one-to-many DETAIL attributes. The default value is taken from the system property
<strong>dynamoframework.defaults.show-details-paginator</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_sortable">4.55. Sortable</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">sortable</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>sortable</strong> setting can be used to specify whether a grid can be
sorted on the attribute. By default, it is set to <code>true</code> for all
attributes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_text_field_mode">4.56. Text field mode</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">textFieldMode</span> <span class="p">=</span> <span class="s">TEXTAREA | TEXTFIELD | PASSWORD</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>textFieldMode</code> setting can be used to specify whether to render
either a text field, a text area or a password field for editing an
attribute of type String. The default is <code>TEXTFIELD</code>. The value
<code>TEXTAREA</code> will be ignored inside a search form. The value <code>PASSWORD</code>
will be ignored inside a search form.</p>
</div>
</div>
<div class="sect2">
<h3 id="_trim_spaces">4.57. Trim spaces</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">trimSpaces</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This indicates whether extraneous space characters will be trimmed from
the start and end of the input inside text areas and text fields. This
defaults to false but can be modified by changing the value of the
defaults to false but can be modified by changing the value of the
<code>dynamoframework.defaults.trim-spaces</code> system property.</p>
</div>
<div class="paragraph">
<p>On the <code>@Attribute</code> annotation, you can use the <code>trimSpaces</code> setting which
supports the values INHERIT, TRIM and NO_TRIM. When INHERIT is used, it
will just use the value of the system property. With TRIM and NO_TRIM
you can either enable or disable the trimming for this specific
attribute.</p>
</div>
</div>
<div class="sect2">
<h3 id="_true_and_false_representation">4.58. True and false representation</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">trueRepresentation</span> <span class="p">=</span> <span class="s">[desired value]</span>
<span class="py">falseRepresentation</span> <span class="p">=</span> <span class="s">[desired value]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>trueRepresentation</code> and <code>falseRepresentation</code> settings can be used
to modify how a Boolean value is displayed in read-only mode. By
default, such a value will simply be displayed as <code>true</code> or <code>false</code>, but
this can be overruled by setting respectively the <code>trueRepresentation</code>
and <code>falseRepresentation</code> values.</p>
</div>
<div class="paragraph">
<p>This setting does nothing in edit mode, since in that case a checkbox or
toggle button will be rendered.</p>
</div>
</div>
<div class="sect2">
<h3 id="_url">4.59. URL</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">url</span> <span class="p">=</span> <span class="s">true | false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>url</strong> setting can be used to specify that a certain String property
must be rendered as a clickable URL.</p>
</div>
<div class="paragraph">
<p>The default value is <code>false</code>. If set to <strong>true,</strong> then a validator will
be added to the field (when in edit mode) that checks if the entered
value is a valid URL (must start with http or https). Also, in view mode
the framework will render a clickable URL containing the value of
the attribute – when clicked it will open the provided URL in a separate
browser window.</p>
</div>
</div>
<div class="sect2">
<h3 id="_visible_in_form">4.60. Visible in form</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">visibleInForm</span> <span class="p">=</span> <span class="s">true | false | SHOW | HIDE</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>visibleInForm</code> setting determines whether a property will be
displayed inside an edit form. It is not to be confused with the
<code>visibleInGrid</code> attribute that governs whether a property shows up in a
grid.</p>
</div>
<div class="paragraph">
<p>By default, all simple properties will have <code>visibleInForm</code> set to
<code>true</code>. All complex (master and detail) properties will be hidden by default.</p>
</div>
<div class="paragraph">
<p>Instead of <code>true</code> you can also use the value <code>SHOW</code> and instead of
<code>false</code> you can also sue the value <code>HIDE</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_visible_in_grid">4.61. Visible in grid</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">visibleInGrid</span> <span class="p">=</span> <span class="s">true | false | SHOW | HIDE</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>visibleInGrid</code> setting determines whether a property will be
displayed in a search results grid.</p>
</div>
<div class="paragraph">
<p>By default, all simple properties will have <code>visibleInGrid</code> set to
<code>true</code>. All complex (master and detail) properties will be hidden by default.</p>
</div>
<div class="paragraph">
<p>Instead of <code>true</code> you can also use the value <code>SHOW</code> and instead of
<code>false</code> you can also sue the value <code>HIDE</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attribute_ordering_and_grouping">5. Attribute ordering and grouping</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_attribute_ordering">5.1. Attribute ordering</h3>
<div class="paragraph">
<p>In message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">attributeOrder</span> <span class="p">=</span> <span class="s">[Comma separated list of attribute names]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the properties of an entity will be displayed in the order
in which they appear in the Java class file. This can be overruled by
using an <code>@AttributeOrder</code> annotation or setting the <code>attributeOrder</code>
via the message bundle.</p>
</div>
<div class="paragraph">
<p>The <code>@AttributeOrder</code> annotation takes a single parameter, named
<code>attributeNames</code> which contains an array of field names – the order in
which the attributes appear in the array is the order in which they will
appear in the application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@AttributeOrder</span><span class="o">(</span><span class="n">attributeNames</span> <span class="o">=</span> <span class="o">{</span> <span class="s">"name"</span><span class="o">,</span> <span class="s">"headQuarters"</span><span class="o">,</span> <span class="s">"address"</span><span class="o">,</span> <span class="s">"countryOfOrigin"</span><span class="o">,</span> <span class="s">"reputation"</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Organization</span> <span class="kd">extends</span> <span class="nc">AbstractEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can achieve the same effect by including a message like
<code>Organization.attributeOrder=name,headquarters,address,countryOfOrigin,reputation</code>
in the message bundle (use commas to separate the values). The message
in the bundle will overwrite the ordering set by <code>@AttributeOrder</code>. If
your entity has a large number of attributes this might get a bit
unwieldy though.</p>
</div>
<div class="paragraph">
<p>The ordering does not have to contain all properties; if you leave
out any attributes, then those will be placed (in the normal order)
after any attributes that are explicitly mentioned in the annotation or
the message bundle.</p>
</div>
</div>
<div class="sect2">
<h3 id="_grid_and_search_form_attribute_ordering">5.2. Grid and search form attribute ordering</h3>
<div class="paragraph">
<p>Also by default, the attribute order in a search form and in results
grid is the same as the default attribute order (see the previous
paragraph). You can override this by using the <code>@GridAttributeOrder</code> and
<code>@SearchAttributeOrder</code> annotations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@GridAttributeOrder</span><span class="o">(</span><span class="n">attributeNames</span> <span class="o">=</span> <span class="o">{</span> <span class="s">"name"</span><span class="o">,</span> <span class="s">"headQuarters"</span><span class="o">,</span> <span class="s">"address"</span><span class="o">,</span> <span class="s">"countryOfOrigin"</span><span class="o">,</span> <span class="s">"reputation"</span> <span class="o">})</span>
<span class="nd">@SearchAttributeOrder</span><span class="o">(</span><span class="n">attributeNames</span> <span class="o">=</span> <span class="o">{</span> <span class="s">"name"</span><span class="o">,</span> <span class="s">"headQuarters"</span><span class="o">,</span> <span class="s">"address"</span><span class="o">,</span> <span class="s">"countryOfOrigin"</span><span class="o">,</span> <span class="s">"reputation"</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Organization</span> <span class="kd">extends</span> <span class="nc">AbstractEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These annotations do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GridAttributeOrder</code> sets the order of the attributes in the search
results grid for the <code>SearchLayout</code> and the <code>SplitLayout</code>.</p>
</li>
<li>
<p><code>SearchAttributeOrder</code> set the order of the attributes in the search
form for the <code>SimpleSearchLayout</code> and in popup search screens.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These additional attribute orders completely overwrite the default
attribute order, so you will have to redefine all attributes in the
order you want to see them. Any attributes that are not explicitly
mentioned are included at the end in alphabetical order.</p>
</div>
<div class="paragraph">
<p>You can also overwrite these orders using the message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Organization.searchAttributeOrder</span><span class="p">=</span><span class="s">name,headquarters,address,countryOfOrigin,reputation</span>
<span class="py">Organization.gridAttributeOrder</span><span class="p">=</span><span class="s">name,headquarters,address,countryOfOrigin,reputation</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_attribute_grouping">5.3. Attribute grouping</h3>
<div class="paragraph">
<p>In addition to ordering the attributes, they can also be grouped
together. To do this, you can include an <code>@AttributeGroups</code> annotation
on your class definition, which can in turn include any number of
<code>@AttributeGroup</code> annotations.</p>
</div>
<div class="paragraph">
<p>Each <code>@AttributeGroup</code> annotation contains the name of the group and an
array that contains the names of the properties that must be included in
the group. As an example, consider:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@AttributeGroup</span><span class="o">(</span><span class="n">messageKey</span> <span class="o">=</span> <span class="s">"Organization.first"</span><span class="o">,</span> <span class="n">attributeNames</span> <span class="o">=</span> <span class="o">{</span> <span class="s">"name"</span><span class="o">,</span> <span class="s">"address"</span><span class="o">,</span> <span class="s">"headQuarters"</span><span class="o">,</span> <span class="s">"countryOfOrigin"</span> <span class="o">}),</span>
<span class="nd">@AttributeGroup</span><span class="o">(</span><span class="n">messageKey</span> <span class="o">=</span> <span class="s">"Organization.second"</span><span class="o">,</span> <span class="n">attributeNames</span> <span class="o">=</span> <span class="o">{</span> <span class="s">"reputation"</span> <span class="o">})</span>
<span class="nd">@AttributeOrder</span><span class="o">(</span><span class="n">attributeNames</span> <span class="o">=</span> <span class="o">{</span> <span class="s">"name"</span><span class="o">,</span> <span class="s">"headQuarters"</span><span class="o">,</span> <span class="s">"address"</span><span class="o">,</span> <span class="s">"countryOfOrigin"</span><span class="o">,</span> <span class="s">"reputation"</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Organization</span> <span class="kd">extends</span> <span class="nc">AbstractEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above defines two attribute groups identified by the message keys
<code>Organization.first</code> and <code>Organization.second</code>. The display names of the
groups can be defined in the message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Organization.first</span><span class="p">=</span><span class="s">First</span>
<span class="py">Organization.second</span><span class="p">=</span><span class="s">Second</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When you want to achieve the same using a message bundle, you can do
this in the following way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Organization.attributeGroup.1.messageKey</span><span class="p">=</span><span class="s">Organization.first</span>
<span class="py">Organization.attributeGroup.1.attributeNames</span><span class="p">=</span><span class="s">name,address,headquarters,countryOfOrigin</span>
<span class="py">Organization.attributeGroup.2.displayName</span><span class="p">=</span><span class="s">Organization.second</span>
<span class="py">Organization.attributeGroup.2.attributeNames</span><span class="p">=</span><span class="s">reputation</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>I.e. you include two messages for every attribute group: one containing
the message bundle key and one containing the attribute names as a list
of comma-separated attribute names. The messages are numbered starting
at “1”.</p>
</div>
<div class="paragraph">
<p>The attribute grouping is only used to determine which properties to
group together, not to determine the order in which the attributes
appear within this group. This order is still determined by the
<code>@AttributeOrder</code> annotation as described earlier.</p>
</div>
<div class="paragraph">
<p>When you want to refer to a certain attribute group in your code, you
should do so by using the (unique) message key of that group.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_advanced_entity_model_topics">6. Advanced entity model topics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_nested_entity_models">6.1. Nested entity models</h3>
<div class="paragraph">
<p>The Dynamo framework supports dealing with nested entities. When Dynamo
generates an entity model for an entity, it automatically creates nested
entity models for all complex properties it encounters. This is
currently supported up to three levels deep. The models are constructed
lazily when needed.</p>
</div>
<div class="paragraph">
<p>The entity model that is created for a nested entity is a separate model
from the top-level model for the entity. So, the direct model for the
“Address” entity is a different model than the nested model for
<code>Person.address</code>.</p>
</div>
<div class="paragraph">
<p>Some settings behave differently for nested entity models. e.g., for any
properties of nested entities, the <code>searchable</code> and <code>visibleInGrid</code>
settings will be set to false by default.</p>
</div>
<div class="paragraph">
<p>You can override settings on nested attribute models in the same way as
you can override attributes of non-nested entities, i.e. by including a
message in the message bundle that contains the full path to the
property (e.g., <code>Movie.director.name.displayName=Director Name</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_element_collections">6.2. Element collections</h3>
<div class="paragraph">
<p>The entity model framework also supports dealing with “element
collection” properties, i.e. properties that are collections of simple
types (currently String, Integer, Long and BigDecimal are supported) and
that are annotated with the <code>@ElementCollection</code> annotation.</p>
</div>
<div class="paragraph">
<p>For these properties, the application will automatically generate either
a chips component or a dialog component (depending on the value of the
<code>elementCollectionMode</code> setting) that allows you to add items to, remove
items from, and modify items in the collection. You can use the
<code>minLength`and `maxLength</code> settings to modify the minimum allowed
length and maximum allowed length of the individual items (in case of a
collection of Strings), or use the <code>minValue</code> and <code>maxValue</code> settings to
define a minimum or maximum value for a collection of numeric values.</p>
</div>
<div class="paragraph">
<p>The <code>@Size</code> annotation (from the Java validation framework) can be used
to restrict the minimum and maximum number of elements that are allowed
in the collection as a whole.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image5.png" alt="image" width="411" height="129">
</div>
<div class="title">Figure 3. An example of a “chips” component used to manage an element collection.</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_access_service_layers_and_general_concepts">7. Data access, service layers and general concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_data_access_layer_and_entities">7.1. Data access layer and entities</h3>
<div class="paragraph">
<p>Dynamo has certain requirements regarding the Data Access layer and
Entity classes that are used in applications developed with the
framework.</p>
</div>
<div class="paragraph">
<p>All Entity classes (i.e. classes that map to a table in the database) must
inherit from the <code>AbstractEntity</code> class. This means that they inherit a
<code>version</code> field (used for optimistic locking) and an <code>id</code> field that
denotes the technical primary key. The type of this id field is
configurable via the type parameter of the <code>AbstractEntity</code> class.</p>
</div>
<div class="paragraph">
<p>An example Entity class looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Entity</span>
<span class="nd">@Model</span><span class="o">(</span><span class="n">displayProperty</span> <span class="o">=</span> <span class="s">"name"</span><span class="o">)</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"organization"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Organization</span> <span class="kd">extends</span> <span class="nc">AbstractEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In principle, it is allowed to use inheritance when defining entities.
However, be careful when using abstract superclasses: their use is
currently only allowed when the abstract superclass itself is <strong>not</strong> directly
exposed via the REST services. This is because the REST serialization
and deserialization process cannot properly deal with abstract classes.</p>
</div>
<div class="paragraph">
<p>For every Entity class, you must (normally) create a Data Access Object
(DAO) interface and the accompanying implementation. The DAO must
inherit from the <strong>BaseDao</strong> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">OrganizationDao</span> <span class="kd">extends</span> <span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Organization</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And the implementation must inherit from <strong>BaseDaoImpl</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Repository</span><span class="o">(</span><span class="s">"organizationDao"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrganizationDaoImpl</span> <span class="kd">extends</span> <span class="nc">BaseDaoImpl</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Organization</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">OrganizationDao</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="nc">QOrganization</span> <span class="n">qOrganization</span> <span class="o">=</span> <span class="nc">QOrganization</span><span class="o">.</span><span class="na">organization</span><span class="o">;</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">Class</span><span class="o">&lt;</span><span class="nc">Organization</span><span class="o">&gt;</span> <span class="nf">getEntityClass</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="nc">Organization</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="nc">EntityPathBase</span><span class="o">&lt;</span><span class="nc">Organization</span><span class="o">&gt;</span> <span class="nf">getDslRoot</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">qOrganization</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The minimal implementation contains just two methods: <code>getEntityClass()</code>
which returns the type of the entity that is managed by the DAO, and
<code>getDslRoot()</code> which returns the QueryDSL root.</p>
</div>
<div class="paragraph">
<p>QueryDSL is a framework that is used by the Dynamo Framework to create
type-safe queries. Basically, what QueryDSL does is create a QueryDSL
class for every entity class in your application. When developing in
Eclipse or Intellij, the IDE will automatically generate the appropriate
classes. You can also run a command line Maven build to generate them.</p>
</div>
<div class="paragraph">
<p>Finally, note that the DAO implementation class is annotated with
<code>@Repository</code>, which will register it as a Spring bean (it also has
additional functionality in Spring Data, but Dynamo does not currently
use the Spring Data library).</p>
</div>
</div>
<div class="sect2">
<h3 id="_service">7.2. Service</h3>
<div class="paragraph">
<p>In addition to developing a DAO for your entity, you must also create a
service class. This service class in its most basic form will serve as a
delegate to the DAO, but it is also the place where you can place
business logic.</p>
</div>
<div class="paragraph">
<p>The declaration of a service interface is very easy; the service must
extend <code>BaseService</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Service</span><span class="o">(</span><span class="s">"organizationService"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrganizationServiceImpl</span> <span class="kd">extends</span> <span class="nc">BaseServiceImpl</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Organization</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">OrganizationService</span> <span class="o">{</span>

	<span class="nd">@Autowired</span>
	<span class="kd">private</span> <span class="nc">OrganizationDao</span> <span class="n">dao</span><span class="o">;</span>

	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Organization</span><span class="o">&gt;</span> <span class="nf">getDao</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">dao</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define a service by extending the <code>BaseServiceImpl</code> class and
inject the appropriate DAO. This DAO must also be returned by the
<code>getDao()</code> method. Note that the service must be annotated with
<code>@Service</code>, registering it as a Spring service.</p>
</div>
<div class="paragraph">
<p>By default, the methods of the service that manipulate data (basically,
<code>save()</code> and <code>delete()</code> are already annotated with the <code>@Transactional</code>
annotation (from the Spring framework). If you add any methods yourself
that also need an active transaction, you either have to mark these
methods (in the service implementation class) as transactional.
Alternatively, you can place the <code>@Transactional</code> annotation on the
service implementation subclass in order to make all methods in that
service transactional.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fetching_and_paging">7.3. Fetching and paging</h3>
<div class="paragraph">
<p>The Dynamo framework is built around the concept of fetching data (using
fetch join queries) whenever possible. The philosophy behind this is
that it is usually much faster to fetch all required data using a single
query than performing numerous smaller queries to achieve the same
result.</p>
</div>
<div class="paragraph">
<p>For this reason, we recommend to keep the use of eager fetching to an
minimum and use lazy fetching combined with fetch joins whenever
possible.</p>
</div>
<div class="paragraph">
<p>The framework supports several methods that make it possible to fetch
data based on a primary key or collection of keys, and also allow you to
specify with relations to fetch as part of the query.</p>
</div>
<div class="paragraph">
<p>Note e.g., the following method defined in <code>BaseService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="no">T</span> <span class="nf">fetchById</span><span class="o">(</span><span class="no">ID</span> <span class="n">id</span><span class="o">,</span> <span class="nc">FetchJoinInformation</span><span class="o">...</span> <span class="n">joins</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this method accepts a <em>vararg</em> parameter that specifies
which relations to fetch. If left empty, the application will use the
default setup, which you can specify by using the <code>@FetchJoins</code>
annotation on an entity class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@FetchJoins</span><span class="o">(</span><span class="n">joins</span> <span class="o">=</span> <span class="o">{</span><span class="nd">@FetchJoin</span><span class="o">(</span><span class="n">attribute</span> <span class="o">=</span> <span class="s">"countryOfOrigin"</span><span class="o">),</span>
<span class="nd">@FetchJoin</span><span class="o">(</span><span class="n">attribute</span> <span class="o">=</span> <span class="s">"mainActivity"</span><span class="o">)},</span>
        <span class="n">detailJoins</span> <span class="o">=</span> <span class="o">{</span><span class="nd">@FetchJoin</span><span class="o">(</span><span class="n">attribute</span> <span class="o">=</span> <span class="s">"countryOfOrigin"</span><span class="o">),</span> <span class="nd">@FetchJoin</span><span class="o">(</span><span class="n">attribute</span> <span class="o">=</span> <span class="s">"neighbourhoods"</span><span class="o">)})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Organization</span> <span class="kd">extends</span> <span class="nc">AbstractEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This means that whenever you perform a fetch query (for multiple
entities) using a standard service method, and you do not explicitly
specify which relations to fetch, all relations specified by the “joins”
property will be returned.</p>
</div>
<div class="paragraph">
<p>When performing a query to fetch just a single entity (and its
relations), the <code>detailJoins</code> will be used instead.</p>
</div>
<div class="paragraph">
<p>The consequence of this is that the <code>joins</code> setting should normally
contain the relations that you want to display in a results table,
whereas the <code>detailJoins</code> should contain the relations that you want to
display inside an edit form.</p>
</div>
<div class="paragraph">
<p>When declaring a <code>@FetchJoin</code>, you can specify the type of join. The
default is LEFT JOIN which means that the entity will be returned even
if the relation to fetch is empty. You can change this to INNER. This
will often improve performance but only used this if it relation you are
fetching is mandatory and thus always present.</p>
</div>
<div class="paragraph">
<p>Take care not to include any substantially large relations, since this
can lead to poor performance.</p>
</div>
<div class="paragraph">
<p>If you create a component that contains a tabular display of
data, you can specify the way in which the data will be retrieved. There
are two options here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ID_BASED</code> – As described above. The application will execute a query
that will retrieve the primary keys of the entities to be displayed,
followed by a query that fetches a number of these entities (and their
relations) based on these primary keys and information about which
relations to fetch.</p>
</li>
<li>
<p><code>PAGING</code> – The application will first execute a query to determine the
amount of entities, and will then use a paging query (using
<code>firstResults</code> and <code>maxResults</code>) to retrieve a subset of the desired
entities). This approach supports the fetching of associated relations,
but take care that you must only fetch many-to-one or one-to-one
relations in this fashion. This is because if you fetch one-to-many or
many-to-many relations, the result set will contain multiple rows per
entity, which clashes with the <code>firstResults</code> and <code>maxResults</code> settings
and will cause the underlying ORM provider to retrieve the entire data
set first and do the filtering in memory. This is often very
inefficient.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In both cases, the grid is filled lazily – only a small subset of the
available data will be retrieved. The best approach depends on the
situation – if you have a large data set and no relations to fetch then
paging is preferred. If you have a lot of relations to fetch (or if you
must fetch any one-to-many or many-to-many relations), use the ID-based
approach.</p>
</div>
<div class="paragraph">
<p>In addition to defining the joins using the <code>@FetchJoin</code> annotation, it is
also possible to configure the joins in the <em>entitymodel.properties</em> message bundle.</p>
</div>
<div class="paragraph">
<p>This is done as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="err">[EntityModelReference].[join|detailJoin].[number]</span><span class="py">.attribute</span><span class="p">=</span> <span class="s">[name of the attribute]</span>
<span class="err">[EntityModelReference].[join|detailJoin].[number]</span><span class="py">.joinType</span><span class="p">=</span> <span class="s">LEFT | RIGHT | INNER</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Some clarifications:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You can use <code>join</code> to define joins that are used when fetching multiple entities
and "detailJoin" to define joins that are used when fetching single entities;</p>
</li>
<li>
<p>Joins (per type) are numbered, starting with 1;</p>
</li>
<li>
<p>Use <code>attribute</code> to specify the name of the attribute.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To set up two joins for the <code>Organization</code> entity, you can do the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Organization.join.1.attribute</span><span class="p">=</span><span class="s">mainActivity</span>
<span class="py">Organization.join.1.joinType</span><span class="p">=</span><span class="s">LEFT</span>
<span class="py">Organization.join.2.attribute</span><span class="p">=</span><span class="s">neighbourhoods</span>
<span class="py">Organization.join.2.joinType</span><span class="p">=</span><span class="s">LEFT</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And to define three joins to be used when fetching a single entity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Organization.detailJoin.1.attribute</span><span class="p">=</span><span class="s">mainActivity</span>
<span class="py">Organization.detailJoin.1.joinType</span><span class="p">=</span><span class="s">LEFT</span>
<span class="py">Organization.detailJoin.2.attribute</span><span class="p">=</span><span class="s">neighbourhoods</span>
<span class="py">Organization.detailJoin.2.joinType</span><span class="p">=</span><span class="s">LEFT</span>
<span class="py">Organization.detailJoin.3.attribute</span><span class="p">=</span><span class="s">countryOfOrigin</span>
<span class="py">Organization.detailJoin.3.joinType</span><span class="p">=</span><span class="s">INNER</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_entity_initialization">7.4. Entity initialization</h3>
<div class="paragraph">
<p>As you have seen before, it is possible to set default values for simple
attributes.These default values are applied on the client side when
creating a new entity.As an alternative to using these default values,
you can also create an entity with default values in the back-end.</p>
</div>
<div class="paragraph">
<p>In order to do this, override the <code>initialize()</code> method in the
implementation of the entity’s service.In this method you can
initialize the entity with all the desired default values.This is
especially useful when creating entities with nested collections.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Override</span>
<span class="kd">public</span> <span class="nc">ServiceStaff</span> <span class="nf">initialize</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">ServiceStaff</span> <span class="n">staff</span> <span class="o">=</span>  <span class="kd">super</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span>
    <span class="n">staff</span><span class="o">.</span><span class="na">setStartDate</span><span class="o">(</span><span class="nc">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">());</span>

    <span class="k">for</span> <span class="o">(</span><span class="nc">ServiceStaffDayType</span> <span class="n">weekDay</span> <span class="o">:</span> <span class="nc">ServiceStaffDayType</span><span class="o">.</span><span class="na">values</span><span class="o">())</span> <span class="o">{</span>
        <span class="nc">ServiceStaffAvailability</span> <span class="n">ssa</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServiceStaffAvailability</span><span class="o">();</span>
        <span class="n">ssa</span><span class="o">.</span><span class="na">setDay</span><span class="o">(</span><span class="n">weekDay</span><span class="o">);</span>
        <span class="n">ssa</span><span class="o">.</span><span class="na">setStartTime</span><span class="o">(</span><span class="nc">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>
        <span class="n">ssa</span><span class="o">.</span><span class="na">setEndTime</span><span class="o">(</span><span class="nc">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">21</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>
        <span class="n">ssa</span><span class="o">.</span><span class="na">setAvailable</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">staff</span><span class="o">.</span><span class="na">addServiceStaffAvailability</span><span class="o">(</span><span class="n">ssa</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">staff</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rest_api">7.5. REST API</h3>
<div class="paragraph">
<p>By default, you do not need to make any changes to the REST API offered
by the Dynamo framework in order to be able to use an entity in the
front-end – as long as you properly create an entity class, a DAO, and a
service as described above, the endpoints for creating, updating and
searching this entity will be made available by the framework – you
should simply be able to create a component in the user interface that
refers to the new entity, and all endpoints will work out of the box.</p>
</div>
<div class="sect3">
<h4 id="_the_default_endpoints">7.5.1. The default endpoints</h4>
<div class="paragraph">
<p>There are six endpoints that Dynamo supplies by default.</p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 1. Default Dynamo REST endpoints.</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Endpoint</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/api/dynamo/autofill</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the autofill controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/api/dynamo/crud</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the crud controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/api/dynamo/export</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the export controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/api/dynamo/files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the file controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/api/dynamo/model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the model controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/api/dynamo/status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the status controller</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_changing_the_standard_dynamo_endpoints">7.5.2. Changing the standard Dynamo endpoints</h4>
<div class="paragraph">
<p>The REST endpoints used by dynamo can be configured using properties. See
<a href="#_prefix_dynamoframework_defaults_endpoints">Prefix dynamoframework.defaults.endpoints</a> for the settings and  their
default values.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The front-end code needs to be updated/regenerated when
the endpoints are changed. See <a href="#_code_generation">Code generation</a> on how to
do this.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_validation">7.6. Validation</h3>
<div class="paragraph">
<p>The validation functionality offered by the Dynamo Framework are based
on the JSR 303 (Bean Validation) standard: to express validation rules,
simply use the standard annotations (<code>@NotNull</code>, <code>@Size</code>, <code>@Min</code>, etc.) on the
properties of your entity.</p>
</div>
<div class="paragraph">
<p>You can also use <code>@AssertTrue</code> and <code>@AssertFalse</code> to express more complex
(inter-field) validation rules, or write your own validations by
implementing the <code>ConstraintValidator</code> interface. To use <code>@AssertTrue</code> or
<code>@AssertFalse</code>, create a method on the entity class that returns a
Boolean, then annotate that method with either of these annotations –
during the validation process these methods will be executed and if the
return value does not match the value expected by the annotation then a
validation error will be reported.</p>
</div>
<div class="paragraph">
<p>Custom validation messages can be included in the
<em>ValidationMessages.properties</em> message bundle.</p>
</div>
<div class="paragraph">
<p>When you save an entity (by calling the service method <code>save()</code>), it is
automatically validated against these validation rules, and an
<code>OCSValidationException</code> will be thrown if any of the validations fail.</p>
</div>
<div class="paragraph">
<p>If you need to perform any custom validations for a certain entity
class, you can do so by overriding the <code>validate()</code> method in the Service
implementation class for that entity.</p>
</div>
<div class="paragraph">
<p>The settings that are relevant for validation will also be exposed via
the entity model API to the front-end, and will be used to create the
appropriate Angular validators. The following validators are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Minimum and maximum value (for numeric attribute)</p>
</li>
<li>
<p>Minimum and maximum length (for String attributes)</p>
</li>
<li>
<p>Email validation (for String attributes annotated with <code>@Email</code>)</p>
</li>
<li>
<p>URL validation (for String attributes annotated with <code>@URL</code>)</p>
</li>
<li>
<p>Required validator (all type of attributes)</p>
</li>
<li>
<p>Minimum and maximum collection size (many-to-many and one-to-many
relations, element collections).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the user submits a form, the validators mentioned above will be
executed, and if any of them fail the form will not be submitted to the
back-end.</p>
</div>
<div class="paragraph">
<p>If all validations pass on the front-end, a call to the back-end will be
performed. In the back-end, the same validations will be performed
again, possible augmented with any custom validations defined
exclusively in the back-end. In case any of these validations fail, the
call will be rejected and a validation error message will be shown.</p>
</div>
<div class="paragraph">
<p>Unfortunately, it is not possible to automatically replicate the custom
back-end validations in the front-end. However, it is possible to
replicate the validations by using custom validators. This will be
covered in more detail later in this manual.</p>
</div>
</div>
<div class="sect2">
<h3 id="_checking_for_identical_entities">7.7. Checking for identical entities</h3>
<div class="paragraph">
<p>There is one additional feature with regard to validation that we must
mention here. In case you have an entity that contains a logical primary
key (either a single field or a combination of fields) the framework
provides an easy way to check for possible duplicates. To do so, you
only have to override the <code>findIdenticalEntity()</code> method from the
<code>BaseServiceImpl</code> in your service implementation class.</p>
</div>
<div class="paragraph">
<p>This method takes an entity as its only parameter; inside the method
body, you can perform any query to check if there already is an entity
that has the same values for the unique field or combination of fields.
If the method returns a non-null value, then the framework will throw an
<code>OCSValidationException</code> as part of the validation process.</p>
</div>
<div class="paragraph">
<p>Consider the following example that checks if there already is an
organization with the same name as the organization you are trying to
save (which is passed as a parameter to the method):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="nc">Organization</span> <span class="nf">findIdenticalEntity</span><span class="o">(</span><span class="nc">Organization</span> <span class="n">entity</span><span class="o">)</span> <span class="o">{</span>
	<span class="k">return</span> <span class="n">dao</span><span class="o">.</span><span class="na">fetchByUniqueProperty</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="n">entity</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="kc">false</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You do not have to check if the entity being returned is equal
to the entity being validated, the framework will take care of this for
you.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_default_services_and_daos">7.8. Default services and DAOs</h3>
<div class="paragraph">
<p>It can happen that you have a very simple entity for which you will only
need the default methods provided by <code>BaseService</code>. If this is the
case, then you do not have to go through the trouble of creating a DAO
and Service class. Instead, you can configure a <code>DefaultServiceImpl</code>
and/or <code>DefaultDaoImpl</code> in a configuration class. This looks as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Region</span><span class="o">&gt;</span> <span class="nf">regionDao</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">DefaultDaoImpl</span><span class="o">&lt;&gt;(</span><span class="nc">QRegion</span><span class="o">.</span><span class="na">region</span><span class="o">,</span> <span class="nc">Region</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@Bean</span>
<span class="kd">public</span> <span class="nc">BaseService</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Region</span><span class="o">&gt;</span> <span class="nf">regionService</span><span class="o">(</span><span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Region</span><span class="o">&gt;</span> <span class="n">regionDao</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">DefaultServiceImpl</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Region</span><span class="o">&gt;</span> <span class="n">regionService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DefaultServiceImpl</span><span class="o">&lt;&gt;(</span><span class="n">regionDao</span><span class="o">,</span> <span class="s">"code"</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">regionService</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, you can configure a bean that is an instance of
<code>DefaultServiceImpl</code> and supply the necessary arguments to the
constructor. This includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An instance of <code>DefaultDaoImpl</code>. This in turn has two (or three)
constructor arguments, namely:</p>
<div class="ulist">
<ul>
<li>
<p>The QueryDSL base class (the QEntity class)</p>
</li>
<li>
<p>The entity class.</p>
</li>
<li>
<p>Optionally, the names of the properties to fetch when performing a
fetch query (these will always be fetched using a left join).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optionally, the name of the properties for which the values must be
unique. You can use a comma-separated list to specify multiple
properties, e.g., <code>code,name</code> means that both the <code>code</code> and <code>name</code>
properties must be unique.</p>
</li>
<li>
<p>Optionally, a boolean parameter that indicates whether the search for
the unique value is case-sensitive (defaults to <code>false</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After you have configured a service like this, you can inject it into
your code as follows.Note that an <code>@Qualifier</code> annotation that matches
the name of the bean is required:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Autowired</span>
<span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"countryService"</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">BaseService</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Country</span><span class="o">&gt;</span> <span class="n">countryService</span><span class="o">;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_system_properties">8. Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dynamo supports several ways of dealing with (system) properties in order
to configure the behaviour of the framework.</p>
</div>
<div class="paragraph">
<p>The easiest way of declaring a property is by including it in the
<em>application.properties</em> or <em>application.yml</em> file which is located in the
<em>src/main/resources</em> directory. This is the standard file used by Spring
Boot, and as such you can add both your own system properties to it, as
well as using it to modify any Spring Boot settings.</p>
</div>
<div class="paragraph">
<p>You can use the default mechanisms offered by Spring Boot (e.g., external
configuration file, explicitly set system parameters, using profiles) to
override the values.</p>
</div>
<div class="paragraph">
<p>The Dynamo Framework manages all properties using <code>@ConfigurationProperties</code>.
In the next sections an overview of all available properties is given. In
the section title the prefix is given for the properties in the tables.</p>
</div>
<div class="paragraph">
<p>For instance, to set the default date-format to <code>yyyy-MM-dd</code>, configure it
like this in a properties file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">dynamoframework.defaults.date-format</span><span class="p">=</span><span class="s">yyyy-MM-dd</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you use a yaml file, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">dynamoframework</span><span class="pi">:</span>
  <span class="na">defaults</span><span class="pi">:</span>
    <span class="na">date-format</span><span class="pi">:</span> <span class="s">yyyy-MM-dd</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_prefix_dynamoframework">8.1. Prefix dynamoframework</h3>
<div class="paragraph">
<p>Class: <code>org.dynamoframework.configuration.DynamoConfigurationProperties</code></p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 2. Properties for <code>dynamoframework</code>.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bedrock</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BedrockProperties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bedrock properties</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>capitalize-property-names</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether to capitalize individual words in property names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CsvProperties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Properties related to csv, import and export</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>defaults</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DefaultProperties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default properties</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ollama</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OllamaProperties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ollama properties</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openai</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenAiProperties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenAI properties</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unaccent-function-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the database function used to replace accents</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vertexai</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VertexAiProperties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VertexAI properties</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_prefix_dynamoframework_ollama">8.2. Prefix dynamoframework.ollama</h3>
<div class="paragraph">
<p>Class: <code>org.dynamoframework.configuration.DynamoConfigurationProperties$OllamaConfigurationProperties</code></p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 3. Properties for <code>dynamoframework.ollama</code>.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable Ollama</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The model to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>llama3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ollama URL</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_prefix_dynamoframework_openai">8.3. Prefix dynamoframework.openai</h3>
<div class="paragraph">
<p>Class: <code>org.dynamoframework.configuration.DynamoConfigurationProperties$OpenAiConfigurationProperties</code></p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 4. Properties for <code>dynamoframework.openai</code>.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>api-key</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The OpenAI API key</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable OpenAI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-tokens</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of tokens</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>4096</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The model to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gpt-4-turbo</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_prefix_dynamoframework_defaults">8.4. Prefix dynamoframework.defaults</h3>
<div class="paragraph">
<p>Class: <code>org.dynamoframework.configuration.DynamoConfigurationProperties$DefaultConfigurationProperties</code></p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 5. Properties for <code>dynamoframework.defaults</code>.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ai-service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default AI service</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean-field-mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AttributeBooleanFieldMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the default mode to use for boolean components</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>date-format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default date format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dd-MM-yyyy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>date-time-format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default date/time (time stamp) format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dd-MM-yyyy HH:mm:ss</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decimal-precision</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default decimal precision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>element-collection-mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ElementCollectionMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the default mode to use for element collection fields</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>endpoints</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndpointProperties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The configuration of the Dynamo endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enum-field-mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AttributeEnumFieldMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default field type to use for enumeration attributes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>entityClassPathScan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false-representation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The representation of the value false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false-representation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The representation of the value <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false-representations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map&lt;String,String&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Localized representations of the value <code>false</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>entityClassPathScan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to scan the class path for entities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false-representation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The representation of the value &lt;code&gt;false&lt;/code&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false-representations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map&lt;String,String&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Localized representations of the value &lt;code&gt;false&lt;/code&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>group-together-mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GroupTogetherMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default group together mode</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>group-together-width</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The column width from grouping together</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>300</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>locale</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Locale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default locale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nesting-depth</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default nesting depth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>number-field-mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NumberFieldMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default number field mode</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>search-case-sensitive</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default case sensitiveness for search</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>search-prefix-only</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether search is prefix only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>show-details-paginator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">whether to display a paginator below a details table</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>time-format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default time format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HH:mm:ss</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trim-spaces</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to trim white space for text inputs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true-representation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The representation of the value <code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true-representations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map&lt;String,String&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Localized representations of the value <code>true</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>use-prompt-value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether to use the display name as the input prompt by default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_prefix_dynamoframework_defaults_endpoints">8.5. Prefix dynamoframework.defaults.endpoints</h3>
<div class="paragraph">
<p>Class: <code>org.dynamoframework.configuration.DynamoConfigurationProperties$DefaultConfigurationProperties$EndpointConfigurationProperties</code></p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 6. Properties for <code>dynamoframework.defaults.endpoints</code>.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>autofill</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the autofill controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/api/dynamo/autofill</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crud</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the crud controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/api/dynamo/crud</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>export</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the export controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/api/dynamo/export</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>files</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the file controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/api/dynamo/file</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the model controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/api/dynamo/model</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint for the status controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/api/dynamo/status</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_prefix_dynamoframework_bedrock">8.6. Prefix dynamoframework.bedrock</h3>
<div class="paragraph">
<p>Class: <code>org.dynamoframework.configuration.DynamoConfigurationProperties$BedrockConfigurationProperties</code></p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 7. Properties for <code>dynamoframework.bedrock</code>.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access-key</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access key</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access-secret</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access secret</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable Bedrock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model-id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Model id</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>region</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Region</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_prefix_dynamoframework_vertexai">8.7. Prefix dynamoframework.vertexai</h3>
<div class="paragraph">
<p>Class: <code>org.dynamoframework.configuration.DynamoConfigurationProperties$VertexAiConfigurationProperties</code></p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 8. Properties for <code>dynamoframework.vertexai</code>.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable VertexAI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The model to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gemini-1.5-flash-preview-0514</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>project-id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The project id</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>project-region</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The region of the project</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>europe-west1</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_prefix_dynamoframework_csv">8.8. Prefix dynamoframework.csv</h3>
<div class="paragraph">
<p>Class: <code>org.dynamoframework.configuration.DynamoConfigurationProperties$CsvConfigurationProperties</code></p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 9. Properties for <code>dynamoframework.csv</code>.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>escape-char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">char</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CSV escape character when importing/exporting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&quot;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-rows-before-streaming</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of rows that must be present in a result set before resorting to a streaming approach for Excel export</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quote-char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">char</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CSV quote char when importing/exporting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&quot;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separator-char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">char</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CSV separator when importing/exporting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thousands-grouping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to use thousands grouping in XLS files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can retrieve the Dynamo properties using the <code>DynamoPropertiesHolder</code> in
the following way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">DynamoProperties</span> <span class="n">properties</span> <span class="o">=</span> <span class="nc">DynamoPropertiesHolder</span><span class="o">.</span><span class="na">getDynamoProperties</span><span class="o">();</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_project_set_up">9. Project set-up</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_back_end_set_up">9.1. Back-end set-up</h3>
<div class="paragraph">
<p>Back-end applications that want to use the Dynamo framework are fairly
standard Spring Boot applications. Below is a sample pom.xml file that shows
the minimal set-up for a Dynamo back-end.</p>
</div>
<div class="paragraph">
<p>Replace the placeholders between square brackets by your own values</p>
</div>
<div class="paragraph">
<p>This example POM also does not include any database drivers. This means you
will likely need to add your own database driver (e.g., Postgresql).</p>
</div>
<div class="paragraph">
<p>It also does not contain any dependencies for setting up application security,
however the three dependencies that you need to set up Spring security based
on OAuth are included in the pom but commented out.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/POM/4.0.0"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
  <span class="nt">&lt;parent&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>3.3.2<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;relativePath/&gt;</span> <span class="c">&lt;!-- lookup parent from repository --&gt;</span>
  <span class="nt">&lt;/parent&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>[YOUR GROUP ID]<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>[YOUR ARTIFACT ID]<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
  <span class="nt">&lt;name&gt;</span>[YOUR NAME]<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;properties&gt;</span>
    <span class="nt">&lt;java.version&gt;</span>21<span class="nt">&lt;/java.version&gt;</span>
    <span class="nt">&lt;dynamo.version&gt;</span>4.0.0-RC4<span class="nt">&lt;/dynamo.version&gt;</span>
  <span class="nt">&lt;/properties&gt;</span>
  <span class="nt">&lt;repositories&gt;</span>
    <span class="nt">&lt;repository&gt;</span>
      <span class="nt">&lt;id&gt;</span>spring-milestones<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;name&gt;</span>Spring Milestones<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;url&gt;</span>https://repo.spring.io/milestone<span class="nt">&lt;/url&gt;</span>
      <span class="nt">&lt;snapshots&gt;</span>
        <span class="nt">&lt;enabled&gt;</span>false<span class="nt">&lt;/enabled&gt;</span>
      <span class="nt">&lt;/snapshots&gt;</span>
    <span class="nt">&lt;/repository&gt;</span>
  <span class="nt">&lt;/repositories&gt;</span>
  <span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.dynamoframework<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>dynamo-rest<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>${dynamo.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.dynamoframework<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>dynamo-formfill<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>${dynamo.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.dynamoframework<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>dynamo-functional-domain<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>${dynamo.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.dynamoframework<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>dynamo-export<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>${dynamo.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-jpa<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-validation<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.springdoc<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>springdoc-openapi-starter-webmvc-ui<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>2.5.0<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>commons-io<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>commons-io<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>2.16.1<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>com.querydsl<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>querydsl-jpa<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>5.1.0<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;classifier&gt;</span>jakarta<span class="nt">&lt;/classifier&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>com.querydsl<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>querydsl-apt<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>5.1.0<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;classifier&gt;</span>jakarta<span class="nt">&lt;/classifier&gt;</span>
      <span class="nt">&lt;scope&gt;</span>provided<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>com.h2database<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>h2<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>2.2.224<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.apache.poi<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>poi<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>5.2.5<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.apache.poi<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>poi-ooxml<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>5.2.5<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>com.opencsv<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>opencsv<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>5.9<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;/dependencies&gt;</span>
  <span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
      <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>3.13.0<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;configuration&gt;</span>
          <span class="nt">&lt;source&gt;</span>${java.version}<span class="nt">&lt;/source&gt;</span>
          <span class="nt">&lt;target&gt;</span>${java.version}<span class="nt">&lt;/target&gt;</span>
          <span class="nt">&lt;parameters&gt;</span>true<span class="nt">&lt;/parameters&gt;</span>
          <span class="nt">&lt;compilerArgs&gt;</span>
            <span class="nt">&lt;arg&gt;</span>-parameters<span class="nt">&lt;/arg&gt;</span>
          <span class="nt">&lt;/compilerArgs&gt;</span>
        <span class="nt">&lt;/configuration&gt;</span>
      <span class="nt">&lt;/plugin&gt;</span>
      <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>3.3.1<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;executions&gt;</span>
          <span class="nt">&lt;execution&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
              <span class="nt">&lt;outputDirectory&gt;</span>target/generated-sources/annotations<span class="nt">&lt;/outputDirectory&gt;</span>
              <span class="nt">&lt;processor&gt;</span>com.querydsl.apt.jpa.JPAAnnotationProcessor<span class="nt">&lt;/processor&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
          <span class="nt">&lt;/execution&gt;</span>
        <span class="nt">&lt;/executions&gt;</span>
        <span class="nt">&lt;configuration&gt;</span>
          <span class="nt">&lt;image&gt;</span>
            <span class="nt">&lt;builder&gt;</span>paketobuildpacks/builder-jammy-base:latest<span class="nt">&lt;/builder&gt;</span>
          <span class="nt">&lt;/image&gt;</span>
          <span class="nt">&lt;excludes&gt;</span>
            <span class="nt">&lt;exclude&gt;</span>
              <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
              <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;/exclude&gt;</span>
          <span class="nt">&lt;/excludes&gt;</span>
        <span class="nt">&lt;/configuration&gt;</span>
      <span class="nt">&lt;/plugin&gt;</span>
      <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>3.3.0<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
  <span class="nt">&lt;/build&gt;</span>
<span class="nt">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With this in place, there is only a little bit of set-up needed to be able to use
the application. First of all, include an <code>ApplicationConfig</code> class as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">package</span> <span class="nn">com.opencirclesolutions.myapplication.configuration</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.opencirclesolutions.myapplication.domain.MainActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.opencirclesolutions.myapplication.domain.QMainActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.configuration.ApplicationConfigurationSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.dao.BaseDao</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.dao.impl.DefaultDaoImpl</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.functional.domain.Country</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.functional.domain.QCountry</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.functional.domain.QRegion</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.functional.domain.Region</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.service.BaseService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.dynamoframework.service.impl.DefaultServiceImpl</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Bean</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Configuration</span><span class="o">;</span>

<span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ApplicationConfig</span> <span class="kd">extends</span> <span class="nc">ApplicationConfigurationSupport</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="nc">String</span><span class="o">[]</span> <span class="nf">getBaseNames</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nc">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">"classpath:/META-INF/entitymodel"</span><span class="o">,</span> <span class="s">"classpath:/messages"</span><span class="o">,</span>
				<span class="s">"classpath:/ocscommon"</span><span class="o">,</span> <span class="s">"classpath:/ValidationMessages"</span> <span class="o">};</span>
	<span class="o">}</span>

    <span class="c1">// some default DAOs and services for illustration purposes. Remove at your discretion.</span>
	<span class="nd">@Bean</span>
	<span class="kd">public</span> <span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Region</span><span class="o">&gt;</span> <span class="nf">regionDao</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nc">DefaultDaoImpl</span><span class="o">&lt;&gt;(</span><span class="nc">QRegion</span><span class="o">.</span><span class="na">region</span><span class="o">,</span> <span class="nc">Region</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="nd">@Bean</span>
	<span class="kd">public</span> <span class="nc">BaseService</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Region</span><span class="o">&gt;</span> <span class="nf">regionService</span><span class="o">(</span><span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Region</span><span class="o">&gt;</span> <span class="n">regionDao</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nc">DefaultServiceImpl</span><span class="o">&lt;&gt;(</span><span class="n">regionDao</span><span class="o">,</span> <span class="s">"code"</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="nd">@Bean</span>
	<span class="kd">public</span> <span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Country</span><span class="o">&gt;</span> <span class="nf">countryDao</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nc">DefaultDaoImpl</span><span class="o">&lt;&gt;(</span><span class="nc">QCountry</span><span class="o">.</span><span class="na">country</span><span class="o">,</span> <span class="nc">Country</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">"parent"</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="nd">@Bean</span>
	<span class="kd">public</span> <span class="nc">BaseService</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Country</span><span class="o">&gt;</span> <span class="nf">countryService</span><span class="o">(</span><span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Country</span><span class="o">&gt;</span> <span class="n">dao</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nc">DefaultServiceImpl</span><span class="o">&lt;&gt;(</span><span class="n">dao</span><span class="o">,</span> <span class="s">"code"</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, we need a Spring Boot Application class</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">package</span> <span class="nn">com.opencirclesolutions.myapplication</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.dynamoframework.configuration.DynamoConfigurationProperties</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.SpringApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.SpringBootApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.domain.EntityScan</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.context.properties.ConfigurationProperties</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.context.properties.EnableConfigurationProperties</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.context.properties.EnableConfigurationProperties</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.ComponentScan</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.jpa.repository.config.EnableJpaAuditing</span><span class="o">;</span>

<span class="nd">@SpringBootApplication</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="n">basePackages</span> <span class="o">=</span> <span class="o">{</span><span class="s">"[YOUR PACKAGE GOES HERE]"</span><span class="o">,</span><span class="s">"org.dynamoframework"</span><span class="o">})</span>
<span class="nd">@EntityScan</span><span class="o">({</span><span class="s">"org.dynamoframework.functional.domain"</span><span class="o">,</span> <span class="s">"[YOUR PACKAGE GOES HERE]"</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyApplication</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nc">MyApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Be sure to replace the placeholders above by the directories that contain your
entities (for the <code>@EntityScan</code>) and your services/components (for the <code>@ComponentScan</code>)</p>
</div>
<div class="paragraph">
<p>The application also needs access to an implementation of the Dynamo
interface <code>UserDetailsService</code>. This service is responsible for checking whether a user is in
a certain role and whether they are allowed to perform certain actions. The implementation of
this service depends on your authentication provider of choice and implementing it is
beyond the scope of this documentation. Below you find a dummy implementation that will
never reject a request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MockUserDetailsService</span> <span class="kd">implements</span> <span class="nc">UserDetailsService</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isUserInRole</span><span class="o">(</span><span class="nc">String</span><span class="o">...</span> <span class="n">roles</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">validateReadAllowed</span><span class="o">(</span><span class="nc">EntityModel</span><span class="o">&lt;?&gt;</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">validateWriteAllowed</span><span class="o">(</span><span class="nc">EntityModel</span><span class="o">&lt;?&gt;</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">validateDeleteAllowed</span><span class="o">(</span><span class="nc">EntityModel</span><span class="o">&lt;?&gt;</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_message_bundles">9.2. Message bundles</h3>
<div class="paragraph">
<p>A Dynamo application uses a number of message bundles.
These message bundles are made available to the Spring
Framework and you can retrieve a message from them using the
<code>MessageService</code> which is a Spring-managed singleton bean that you can
inject into your services. Note that many standard components already
have a reference to this <code>MessageService</code>.</p>
</div>
<div class="paragraph">
<p>The message bundle that is most
important for updating the application is the message bundle located at
<em>src/main/resources/entitymodel.properties</em>. While the application will function
without this message bundle, it is very useful for specifying e.g., localizations of
enumeration values or for overriding entity model defaults defined in the annotations.</p>
</div>
<div class="paragraph">
<p>The <code>MessageService</code> provides a number of methods for retrieving
messages. Some of these are used internally by the framework and should
not normally be used directly. The following methods are intended for
developers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getMessage(String key, Locale locale)</code> retrieves a message based on
its key, using the specified locale. If no message is found, then a
warning message will be returned.</p>
</li>
<li>
<p><code>getMessage(String key, Locale locale, Object&#8230;&#8203; args)</code> retrieves a
message based on its key, using the specified locale, and using the
specified parameters. If the message contains placeholders ({0}, {1},
{2}, etc.) these will be replaced by the provided parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a message with a certain key cannot be found, then a default warning
message will be returned. If you do not want this behaviour, you can use
the <code>getMessageNoDefault()</code> version of the method instead. This version
returns <code>null</code> when a message cannot be found.</p>
</div>
<div class="paragraph">
<p>As a Dynamo application is a Spring Boot application, you can add or
modify any properties by changing the <em>application.properties</em> (or
<em>application.yml</em>) file which should be located in the <em>src/main/resources</em>
directory of the UI subproject. The properties specific to Dynamo will
be covered in the section <a href="#_system_properties">Configuration</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_authentication_and_authorization">9.3. Authentication and authorization</h3>
<div class="paragraph">
<p>Dynamo does not have any functionality for directly dealing with
authentication. It is recommended to use Spring
Security for securing your application.</p>
</div>
<div class="paragraph">
<p>The following gives some pointers for setting up Spring Security, using
OAuth2 (with the backend serving as an OAuth resource server)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@EnableWebSecurity</span>
<span class="nd">@EnableMethodSecurity</span>
<span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MySecurityAdapter</span> <span class="o">{</span>

    <span class="nd">@Bean</span>
    <span class="nc">MvcRequestMatcher</span><span class="o">.</span><span class="na">Builder</span> <span class="nf">mvc</span><span class="o">(</span><span class="nc">HandlerMappingIntrospector</span> <span class="n">introspector</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nc">MvcRequestMatcher</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="n">introspector</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">SecurityFilterChain</span> <span class="nf">filterChain</span><span class="o">(</span><span class="nc">HttpSecurity</span> <span class="n">http</span><span class="o">,</span> <span class="nc">MvcRequestMatcher</span><span class="o">.</span><span class="na">Builder</span> <span class="n">mvc</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">http</span>
                <span class="o">.</span><span class="na">authorizeHttpRequests</span><span class="o">(</span>
                        <span class="n">config</span> <span class="o">-&gt;</span> <span class="n">config</span><span class="o">.</span><span class="na">requestMatchers</span><span class="o">(</span><span class="n">mvc</span><span class="o">.</span><span class="na">pattern</span><span class="o">(</span><span class="s">"/api/dynamo/status"</span><span class="o">),</span>
                                <span class="n">mvc</span><span class="o">.</span><span class="na">pattern</span><span class="o">(</span><span class="s">"/v3/api-docs"</span><span class="o">)).</span><span class="na">permitAll</span><span class="o">())</span>
                <span class="o">.</span><span class="na">csrf</span><span class="o">(</span><span class="n">csrf</span> <span class="o">-&gt;</span> <span class="n">csrf</span><span class="o">.</span><span class="na">disable</span><span class="o">())</span>
                <span class="o">.</span><span class="na">authorizeHttpRequests</span><span class="o">(</span><span class="n">auth</span> <span class="o">-&gt;</span> <span class="n">auth</span>
                        <span class="o">.</span><span class="na">anyRequest</span><span class="o">().</span><span class="na">authenticated</span><span class="o">())</span>
                <span class="o">.</span><span class="na">oauth2ResourceServer</span><span class="o">(</span><span class="n">config</span> <span class="o">-&gt;</span> <span class="n">config</span><span class="o">.</span><span class="na">jwt</span><span class="o">(</span><span class="n">jwtConfigurer</span> <span class="o">-&gt;</span> <span class="n">jwtConfigurer</span>
                        <span class="o">.</span><span class="na">jwtAuthenticationConverter</span><span class="o">(</span>
                                <span class="k">new</span> <span class="nf">RolesClaimConverter</span><span class="o">(</span>
                                        <span class="k">new</span> <span class="nf">JwtGrantedAuthoritiesConverter</span><span class="o">()</span>
                                <span class="o">)</span>
                        <span class="o">))).</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Bean</span>
    <span class="nc">GrantedAuthorityDefaults</span> <span class="nf">grantedAuthorityDefaults</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">GrantedAuthorityDefaults</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>We create a class, and annotate it with the <code>@EnableWebSecurity</code> and
<code>@EnableMethodSecurity</code> annotations in order to enable Spring security.</p>
</li>
<li>
<p>We create a <code>MvcRequestMatcher</code> that allows us to define certain patterns
that are excluded form the authentication (e.g., the “status” endpoint).</p>
</li>
<li>
<p>We set up HTTP security, permitting access to some URIs based on the
request matcher, and adding JWT-based security for all other endpoints.</p>
</li>
<li>
<p>We set up a way of extracting the roles from the JWT token. This part
depends a lot on the OAuth server you are using, so there is no
catch-all way to configure this.</p>
</li>
<li>
<p>The <code>GrantedAuthorityDefaults</code> is a convenience feature, it removes
the <code>ROLE</code> prefix from all role names.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_front_end_set_up">9.4. Front-end set-up</h3>
<div class="paragraph">
<p>When you start a new front-end project that uses the Dynamo framework in its
front-end, there are several approaches you can take. The easiest approach is
to use the blueprint project found at
<a href="https://github.com/opencirclesolutions/dynamo-blueprint" class="bare">https://github.com/opencirclesolutions/dynamo-blueprint</a></p>
</div>
<div class="paragraph">
<p>This project contains the skeleton for an Angular application that uses the
Dynamo framework. It comes with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em>package.json</em> containing the required dependencies/libraries</p>
</li>
<li>
<p>The sources generated by the OpenAPI code generator (more on this below) based
on the endpoints offered by the back-end. These are included in the <em>dynamo/model</em> directory</p>
</li>
<li>
<p>A basic skeleton for the application (<em>app.module.ts</em> with all
the required dependencies)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The fastest way to get started is to fork this project, then replace all
occurrences of "dynamo-blueprint" by your desired project name.</p>
</div>
<div class="paragraph">
<p>With this in place, you should be able to run the <code>ng serve</code> command
to start a minimal application. This application has all the infrastructure
in place but does not do any authentication or authorization.</p>
</div>
<div class="paragraph">
<p>In order to add custom logic to this application, you can run the following command to
create a component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">ng generate component &lt;name&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside this component, you can use the dynamo components like
<code>&lt;app-generic-search-layout&gt;</code>.</p>
</div>
<div class="paragraph">
<p>In order to be able to actually use the component, don&#8217;t forget to add a route
to it in the <em>app-routing.module.ts</em>, as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="p">{</span>
    <span class="nl">path</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
    <span class="nx">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Organizations</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">component</span><span class="p">:</span> <span class="nx">OrganizationSearchComponent</span>
  <span class="p">},</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_dynamo_to_an_existing_front_end_project">9.5. Adding Dynamo to an existing front-end project</h3>
<div class="paragraph">
<p>If you already have an existing front-end project you can also copy the Dynamo sources
directly to your project.</p>
</div>
<div class="paragraph">
<p>To do so, make sure that your project uses the following dependencies</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json">  "dependencies": {
    "@angular/animations": "^16.1.2",
    "@angular/common": "^16.1.2",
    "@angular/compiler": "^16.1.2",
    "@angular/core": "^16.1.2",
    "@angular/forms": "^16.1.2",
    "@angular/platform-browser": "^16.1.2",
    "@angular/platform-browser-dynamic": "^16.1.2",
    "@angular/router": "^16.1.2",
    "@ngx-translate/core": "^15.0.0",
    "@ngx-translate/http-loader": "^7.0.0",
    "@open-circle-solutions/dynamo-angular": "4.0.0-RC4",
    "angular-oauth2-oidc": "^15.0.1",
    "bootstrap": "^5.2.3",
    "date-fns": "^3.3.1",
    "ngx-extended-pdf-viewer": "^19.7.1",
    "primeicons": "^6.0.1",
    "primeng": "^16.0.2",
    "quill": "^2.0.1",
    "rxjs": "^7.8.1",
    "tslib": "^2.3.0",
    "zone.js": "^0.13.1"
  },
  "devDependencies": {
    "@angular-devkit/build-angular": "^16.1.1",
    "@angular/cli": "~16.2.0",
    "@angular/compiler-cli": "^16.1.2",
    "@types/jasmine": "~5.1.0",
    "jasmine-core": "~4.6.0",
    "karma": "~6.4.0",
    "karma-chrome-launcher": "~3.2.0",
    "karma-coverage": "~2.2.0",
    "karma-jasmine": "~5.1.0",
    "karma-jasmine-html-reporter": "~2.1.0",
    "typescript": "~5.1.3"
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>and that Bootstrap and ngx-translate are set up properly.</p>
</div>
<div class="paragraph">
<p>You will also need the code used to communicate with the back-end. You can make this
available to the front-end by copying the contents of the <em>dynamo-angular/dynamo/model</em>
to the <em>dynamo/model</em> directory in your front-end application. You can also run the
Open API tools generator as described below.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Instead of downloading directly form the Dynamo sources, the artifact
<code>org.dynamoframework:dynamo-angular:4.0.0-RC4:model</code> can also be downloaded. This artifact
contains the model. Note the classified <code>model</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, the messages used for the internationalization of the Dynamo
components have to be added to the application message bundles. These
messages are included under the <em>dynamo-angular/i18n/</em> directory. Currently,
English and Dutch are supported. These message need to be added to the
message bundle files, typically under <em>/src/assets/i18n</em></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Instead of downloading directly form the Dynamo sources, the artifact
<code>org.dynamoframework:dynamo-angular:4.0.0-RC4:i18n</code> can also be downloaded. This artifact
contains the internationalization messages. Note the classified <code>i18n</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, in case you are using the PDF viewer component and this produces errors, you might need
to add the following to your <em>angular.json</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">    <span class="s2">"</span><span class="s">assets"</span><span class="err">:</span> <span class="pi">[</span>
      <span class="s2">"</span><span class="s">src/favicon.ico"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">src/assets"</span><span class="pi">,</span>
      <span class="pi">{</span>
        <span class="s2">"</span><span class="s">glob"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">**/*"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">input"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">node_modules/ngx-extended-pdf-viewer/assets/"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">output"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/assets"</span>
      <span class="pi">}</span>
    <span class="pi">]</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_code_generation">9.6. Code generation</h3>
<div class="sect3">
<h4 id="_using_npx">9.6.1. Using npx</h4>
<div class="paragraph">
<p>Out of the box, the code in the blueprint project contains model objects
and service for communicating with the standard Dynamo REST endpoints.</p>
</div>
<div class="paragraph">
<p>However, if your application contains any custom endpoints that you always
want to access from the UI in a convenient way, you can use the Open Api code
generator to generate the plumbing code for you.</p>
</div>
<div class="paragraph">
<p>To do so, first start the back-end application, then open a web browser
and navigate to <em><a href="http://localhost:8080/v3/api-docs.yaml" class="bare">http://localhost:8080/v3/api-docs.yaml</a></em>. This will download
the yaml file.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Use <a href="https://curl.se">curl</a> to download this file</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">curl -O http://localhost:8080/v3/api-docs.yaml</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After this, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">npx @openapitools/openapi-generator-cli generate -i api-docs.yaml -g typescript-angular -o ./dynamo/model/ --additional-properties=enumPropertyNaming=original,ngVersion=16</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate the front-end source code in the specified directory
(in this case <em>/dynamo/model</em>). It will now be ready for usage by the
framework.</p>
</div>
<div class="paragraph">
<p>The code for any additional custom endpoints will be added to the /dynamo/model folder,
along with the code for the generic Dynamo endpoints (running this command will overwrite
any of the existing code).</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_apache_maven">9.6.2. Using Apache Maven</h4>
<div class="paragraph">
<p>It is also possible to generate the front-end code using Apache Maven.
This requires the <em>api-docs.json</em> file. This file can be obtained similarly
to <em>api-docs.yaml</em> file: start the back-end application, then open a web
browser and navigate to <em><a href="http://localhost:8080/v3/api-docs" class="bare">http://localhost:8080/v3/api-docs</a></em>. After this,
save the file to <em>api-docs.json</em>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Use <a href="https://curl.se">curl</a> to download this file</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">curl -O http://localhost:8080/v3/api-docs.yaml</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To generate the front-end code, the <a href="https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-maven-plugin/README.md">openapi-generator-maven-plugin</a>
is used. The plugin needs to be configured as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;plugin&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.openapitools<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>openapi-generator-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>7.8.0<span class="nt">&lt;/version&gt;</span> <span class="c">&lt;!-- or use a newer version --&gt;</span>
  <span class="nt">&lt;executions&gt;</span>
    <span class="nt">&lt;execution&gt;</span>
      <span class="nt">&lt;goals&gt;</span>
        <span class="nt">&lt;goal&gt;</span>generate<span class="nt">&lt;/goal&gt;</span>
      <span class="nt">&lt;/goals&gt;</span>
      <span class="nt">&lt;phase&gt;</span>generate-resources<span class="nt">&lt;/phase&gt;</span>
      <span class="nt">&lt;configuration&gt;</span>
        <span class="nt">&lt;inputSpec&gt;</span>${project.build.directory}/openapi.json<span class="nt">&lt;/inputSpec&gt;</span>
        <span class="nt">&lt;generatorName&gt;</span>typescript-angular<span class="nt">&lt;/generatorName&gt;</span>
        <span class="nt">&lt;output&gt;</span>src/main/${front-end.name}/dynamo/model<span class="nt">&lt;/output&gt;</span>
        <span class="nt">&lt;configOptions&gt;</span>
          <span class="nt">&lt;ngVersion&gt;</span>16.1.2<span class="nt">&lt;/ngVersion&gt;</span>
          <span class="nt">&lt;disallowAdditionalPropertiesIfNotPresent&gt;</span>false<span class="nt">&lt;/disallowAdditionalPropertiesIfNotPresent&gt;</span>
          <span class="nt">&lt;enumPropertyNaming&gt;</span>original<span class="nt">&lt;/enumPropertyNaming&gt;</span>
        <span class="nt">&lt;/configOptions&gt;</span>
      <span class="nt">&lt;/configuration&gt;</span>
    <span class="nt">&lt;/execution&gt;</span>
  <span class="nt">&lt;/executions&gt;</span>
<span class="nt">&lt;/plugin&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It is also possible to completely integrate the generation of the front-end
code in the build process. A possible way to this is by using the
<em>springdoc-openapi-maven-plugin</em>. Refer to
<a href="https://github.com/springdoc/springdoc-openapi-maven-plugin">the readme of this plugin</a>
for an example.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_general_front_end_services">10. General front-end services</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_localization">10.1. Localization</h3>
<div class="paragraph">
<p>To use localization, you can use the (standard) functionality provided
by the <code>translateService</code>.</p>
</div>
<div class="paragraph">
<p>Message bundles (named <em>&lt;locale&gt;.json</em>, e.g., <em>nl.json</em>, <em>en.json</em>) can
be placed in the <em>assets/i18n</em> directory.</p>
</div>
<div class="paragraph">
<p>The messages take the form <code>key: value</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="err">"server_unavailable":</span> <span class="err">"De</span> <span class="err">server</span> <span class="err">is</span> <span class="err">momenteel</span> <span class="err">niet</span> <span class="err">beschikbaar"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the HTML components, messages can be referenced as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">{{ 'server_unavailable' | translate }}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the Typescript files, you can inject a <code>translateService</code> instance,
then use that to retrieve values from the message bundle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">this</span><span class="p">.</span><span class="nx">translate</span><span class="p">.</span><span class="nx">instant</span><span class="p">(</span><span class="dl">'</span><span class="s1">maximum_value</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
<span class="na">maxValue</span><span class="p">:</span> <span class="nx">am</span><span class="p">.</span><span class="nx">maxValue</span><span class="p">,</span>
<span class="p">})</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_notification_messages">10.2. Notification messages</h3>
<div class="paragraph">
<p>In order to display notification messages, you can inject and use the
<code>NotificationService</code> into your component.</p>
</div>
<div class="paragraph">
<p>You can then use the <code>info()</code>, <code>warn()</code>, and <code>error()</code> methods to display an
error message</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">this</span><span class="p">.</span><span class="nx">messageService</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Selected something:</span><span class="dl">'</span> <span class="o">+</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">firstName</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image6.png" alt="image" width="427" height="108">
</div>
<div class="title">Figure 4. Example of a notification.</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The methods of the <code>NotificationService</code> take a String literal,
not a key from the message bundle. If you want to display a value
from a message bundle, you need to retrieve that using the
translateService first.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, the message will disappear after a couple of seconds, but
you can use the <code>sticky</code> parameter set to <code>true</code> in order to make the
message sticky/persistent.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_general_ui_concepts">11. General UI concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_search_filters">11.1. Search filters</h3>
<div class="paragraph">
<p>The Dynamo Framework uses a generic framework for executing search
requests to the back-end.Normally the details of this framework are
hidden from the developer, but in some cases, e.g., when defining field
filters, it can be useful to know how the filter mechanism works in
detail.The rest of this section will cover how to set up the various
supported filters.</p>
</div>
<div class="sect3">
<h4 id="_equalsfilter">11.1.1. EqualsFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">export</span> <span class="kd">function</span> <span class="nx">createEqualsFilter</span><span class="p">(</span><span class="nx">attributeName</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">filter</span><span class="p">:</span> <span class="nx">EqualsFilterModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">EQUALS</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">attributeName</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="nx">value</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">filter</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>EqualsFilter</code> is a filter on a single attribute value. This can be
used for a wide range of data types: strings, boolean, integers (when
searching for an exact match), enumeration values, etc.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the case of a String value, the back-end will take care of
searching for substrings, case-sensitivity, etc. The front-end only has
to pass along the value to search for.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_numberrangefilter">11.1.2. NumberRangeFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">export</span> <span class="kd">function</span> <span class="nx">createNumberRangeFilter</span><span class="p">(</span><span class="nx">attributeName</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="k">from</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span> <span class="nx">to</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">filter</span><span class="p">:</span> <span class="nx">NumberRangeFilterModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">NUMBER_RANGE</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">attributeName</span><span class="p">,</span>
    <span class="na">from</span><span class="p">:</span> <span class="k">from</span><span class="p">,</span>
    <span class="na">to</span><span class="p">:</span> <span class="nx">to</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">filter</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>NumberRangeFilter</code> can be used to filter on a numeric range. It can
be used for both integral and decimal values. The filter contains a
<code>from</code> value (lower bound, including) and a <code>to</code> value (upper bound,
inclusive). At least one of these must be filled.</p>
</div>
</div>
<div class="sect3">
<h4 id="_daterangefilter">11.1.3. DateRangeFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">export</span> <span class="kd">function</span> <span class="nx">createDateRangeFilter</span><span class="p">(</span><span class="nx">attributeName</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="k">from</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span> <span class="nx">to</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">dateStrFrom</span><span class="p">:</span> <span class="kr">any</span> <span class="o">=</span> <span class="nx">dateToString</span><span class="p">(</span><span class="k">from</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nx">dateStrTo</span><span class="p">:</span> <span class="kr">any</span> <span class="o">=</span> <span class="nx">dateToString</span><span class="p">(</span><span class="nx">to</span><span class="p">)</span>

  <span class="kd">let</span> <span class="nx">filter</span><span class="p">:</span> <span class="nx">DateRangeFilterModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">DATE_RANGE</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">attributeName</span><span class="p">,</span>
    <span class="na">from</span><span class="p">:</span> <span class="nx">dateStrFrom</span><span class="p">,</span>
    <span class="na">to</span><span class="p">:</span> <span class="nx">dateStrTo</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">filter</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>DateRangeFilter</code> can be used to filter on a range of dates (without
time stamps). The filter contains a <code>from</code> value (lower bound,
including) and a <code>to</code> value (upper bound, inclusive). At least one of
these values must be filled.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The actual values that are sent to the back-end in case of
filtering on a Date are always string representations in
<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format (i.e., <code>yyyy-MM-dd</code>).
Be careful when converting from Javascript Dates (which always contain a
time stamp) to ISO 8601 string, it is very common to end up with a date that
is one day too early.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_instantrangefilterlocaldatetimerangefilter">11.1.4. InstantRangeFilter/LocalDateTimeRangeFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">export</span> <span class="kd">function</span> <span class="nx">createTimestampFilter</span><span class="p">(</span><span class="nx">attributeName</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="k">from</span><span class="p">:</span> <span class="nb">Date</span><span class="p">,</span> <span class="nx">to</span><span class="p">:</span> <span class="nb">Date</span><span class="p">,</span> <span class="nx">instant</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">)</span> <span class="p">{</span>

  <span class="kd">let</span> <span class="nx">dateStrFrom</span> <span class="o">=</span> <span class="nx">dateToTimestamp</span><span class="p">(</span><span class="k">from</span><span class="p">,</span> <span class="nx">instant</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">dateStrTo</span> <span class="o">=</span> <span class="nx">dateToTimestamp</span><span class="p">(</span><span class="nx">to</span><span class="p">,</span> <span class="nx">instant</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">instant</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">filter</span><span class="p">:</span> <span class="nx">InstantRangeFilterModel</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">INSTANT_RANGE</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="nx">attributeName</span><span class="p">,</span>
      <span class="na">from</span><span class="p">:</span> <span class="nx">dateStrFrom</span><span class="p">,</span>
      <span class="na">to</span><span class="p">:</span> <span class="nx">dateStrTo</span>
    <span class="p">};</span>
    <span class="k">return</span> <span class="nx">filter</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="na">filter</span><span class="p">:</span> <span class="nx">LocalDateTimeRangeFilterModel</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LOCAL_DATE_TIME_RANGE</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="nx">attributeName</span><span class="p">,</span>
      <span class="na">from</span><span class="p">:</span> <span class="nx">dateStrFrom</span><span class="p">,</span>
      <span class="na">to</span><span class="p">:</span> <span class="nx">dateStrTo</span>
    <span class="p">};</span>
    <span class="k">return</span> <span class="nx">filter</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These filters can be used to specify filtering on a range of instants or
LocalDateTime values. The filter contains a <code>from</code> value (lower bound,
including) and a <code>to</code> value (upper bound, inclusive). At least one of
these must be filled.</p>
</div>
</div>
<div class="sect3">
<h4 id="_numberinfilter">11.1.5. NumberInFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">export</span> <span class="kd">function</span> <span class="nx">createNumberInFilter</span><span class="p">(</span><span class="nx">attributeName</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">ids</span><span class="p">:</span> <span class="kr">any</span><span class="p">[])</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">filter</span><span class="p">:</span> <span class="nx">NumberInFilterModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">NUMBER_IN</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">attributeName</span><span class="p">,</span>
    <span class="na">values</span><span class="p">:</span> <span class="nx">ids</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">filter</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>NumberInFilter</code> can be used to filter on one or more entities based
on their IDs. This filter takes a <code>values</code> parameter which must be an
array containing the IDs of the entities to filter on.</p>
</div>
<div class="paragraph">
<p>This is used by the framework for filtering using components that allow
the user to select multiple entities, i.e., the lookup field and the
multi select field.</p>
</div>
</div>
<div class="sect3">
<h4 id="_timerangefilter">11.1.6. TimeRangeFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">export</span> <span class="kd">function</span> <span class="nx">createTimeRangeFilter</span><span class="p">(</span>
  <span class="nx">attributeName</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="k">from</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
  <span class="nx">to</span><span class="p">:</span> <span class="kr">any</span>
<span class="p">):</span> <span class="nx">TimeRangeFilterModel</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">dateStrFrom</span><span class="p">:</span> <span class="kr">any</span> <span class="o">=</span> <span class="nx">stringToTime</span><span class="p">(</span><span class="k">from</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">dateStrTo</span><span class="p">:</span> <span class="kr">any</span> <span class="o">=</span> <span class="nx">stringToTime</span><span class="p">(</span><span class="nx">to</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">filter</span><span class="p">:</span> <span class="nx">TimeRangeFilterModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">TIME_RANGE</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">attributeName</span><span class="p">,</span>
    <span class="na">from</span><span class="p">:</span> <span class="nx">dateStrFrom</span><span class="p">,</span>
    <span class="na">to</span><span class="p">:</span> <span class="nx">dateStrTo</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">filter</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>TimeRangeFilter</code> can be used to filter on a range of time stamps (e.g.
“14:57” to “16:44”) The filter contains a <code>from</code> value (lower bound,
including) and a <code>to</code> value (upper bound, inclusive). At least one of
these must be filled.</p>
</div>
</div>
<div class="sect3">
<h4 id="_elementcollectionfilter">11.1.7. ElementCollectionFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">export</span> <span class="kd">function</span> <span class="nx">createElementCollectionFilter</span><span class="p">(</span>
  <span class="nx">am</span><span class="p">:</span> <span class="nx">AttributeModelResponse</span><span class="p">,</span>
  <span class="nx">vals</span><span class="p">:</span> <span class="kr">any</span><span class="p">[]</span>
<span class="p">):</span> <span class="nx">ElementCollectionFilterModel</span> <span class="p">{</span>
  <span class="nx">vals</span> <span class="o">=</span> <span class="nx">vals</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span>
      <span class="nx">am</span><span class="p">.</span><span class="nx">elementCollectionType</span> <span class="o">===</span>
      <span class="nx">AttributeModelResponse</span><span class="p">.</span><span class="nx">ElementCollectionTypeEnum</span><span class="p">.</span><span class="nx">INTEGRAL</span>
    <span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">val</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="kd">let</span> <span class="nx">filter</span><span class="p">:</span> <span class="nx">ElementCollectionFilterModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ELEMENT_COLLECTION</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">am</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
    <span class="na">values</span><span class="p">:</span> <span class="nx">vals</span><span class="p">,</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">filter</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ElementCollectionFilter</code> is used to filter on the element on an
element collection. The filter contains a <code>values</code> array which can
contain either a list of integer or a list of strings. An entity
will match the filter if the element collection contains at least
one of the requested values.</p>
</div>
</div>
<div class="sect3">
<h4 id="_orfilter">11.1.8. OrFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">return</span> <span class="p">[</span><span class="nx">createOrFilter</span><span class="p">([</span>
  <span class="nx">createEqualsFilter</span><span class="p">(</span><span class="dl">'</span><span class="s1">reservationCategory</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ACADEMY</span><span class="dl">'</span><span class="p">),</span>
  <span class="nx">createEqualsFilter</span><span class="p">(</span><span class="dl">'</span><span class="s1">reservationCategory</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">GOLF_COURT</span><span class="dl">'</span><span class="p">),</span>
  <span class="nx">createEqualsFilter</span><span class="p">(</span><span class="dl">'</span><span class="s1">reservationCategory</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">GYM</span><span class="dl">'</span><span class="p">),</span>
  <span class="nx">createEqualsFilter</span><span class="p">(</span><span class="dl">'</span><span class="s1">reservationCategory</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">SPA</span><span class="dl">'</span><span class="p">)</span>
<span class="p">])];</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>OrFilter</code> can be used to chain together a number of other filters using the logical OR
operator:</p>
</div>
</div>
<div class="sect3">
<h4 id="_notfilter">11.1.9. NotFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">return</span> <span class="p">[</span><span class="nx">createNotFilter</span><span class="p">(</span><span class="nx">createEqualsFilter</span><span class="p">(</span><span class="dl">'</span><span class="s1">reservationCategory</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">RESERVED_EXTRA</span><span class="dl">'</span><span class="p">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>NotFilter</code> can be used to create a filter that negates the filter
encloses in it.</p>
</div>
</div>
<div class="sect3">
<h4 id="_nullfilter">11.1.10. NullFilter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">return</span> <span class="nx">createNullFilter</span><span class="p">(</span><span class="dl">'</span><span class="s1">parent</span><span class="dl">'</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>NullFilter</code> can be used to create a filter that checks if the value is <code>NULL</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_updates">11.2. Updates</h3>
<div class="paragraph">
<p>Some extra explanation is in order with regard to how the Dynamo
framework deals with updates of existing entities. All updates of
existing entities are performed by doing a PUT call to
<code>/api/dynamo/crud/{entityName}/entityId</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Dynamo Framework does
not currently support partial updates using the PATCH operation. In
principle, this means that with every update the entire entity, including
any nested entities, are updated.</p>
</div>
<div class="paragraph">
<p>However, the framework makes sure that any attributes that are not visible
in the form, or that are visible in the form but cannot be edited because
they are read-only, are not updated. This happens fully on the back-end and
is not something that the front-end developers have to take into account.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_editing_complex_attributes">11.3. Editing complex attributes</h3>
<div class="paragraph">
<p>With regard to editing complex attributes inside an edit form, Dynamo
offers several options. This section will go over these options.</p>
</div>
<div class="paragraph">
<p>First of all, there are basically three types of complex attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Many-to-one (or possible one-to-one although this is rare) relations
from the entity being edited to another entity. In this case the user
can select one option from a list of available options. The most common
way to edit such a relationship is by means of a combo box (dropdown),
but Dynamo also offers the option to use an auto-complete field or a
lookup field.</p>
<div class="ulist">
<ul>
<li>
<p>In case of a combo box, the framework will by default show all
available options (up to a maximum of 200), and will perform a GET call
without any filters in order to retrieve the available options.</p>
</li>
<li>
<p>When you define a field filter, the application will instead perform
a call to the <code>search</code> endpoint, using a filter on the <code>displayProperty</code>
attribute in combination with the field filters.</p>
</li>
<li>
<p>In case of an auto-complete field, the framework will not initially
perform a request to retrieve the available options. Instead, a request
is fired when the user starts typing in the component. In this case, a
call to the Search endpoint will be performed, using a single filter on
the <code>displayProperty</code> attribute.</p>
</li>
<li>
<p>In case of a lookup field, the framework will not initially perform a
request to retrieve the available options. Instead, the user can use a
button to bring up a popup dialog containing a search form. This allows
the user to carry out a complex search query. The search form is
constructed using the entity model for the entity you are searching for.
By default, this is the standard entity model for that entity, but you
can use the <code>lookupEntityReference</code> setting on the attribute model to
specify a different entity model and the <code>lookupQueryType</code> to specify
the query type to use.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Many-to-many relationships between two entities. In this case, the
user can select one or more options from a list of available options.
The most common way to edit such a relationship is by means of a
multi-select field, but Dynamo also offers the option to use an lookup
field.</p>
<div class="ulist">
<ul>
<li>
<p>For a multi-select field, the framework will by default show all
available options (up to a maximum of 200), and will perform a GET call
without any filters in order to retrieve the available options. For this to work,
the <code>listAllowed</code> setting on the entity much be enabled</p>
</li>
<li>
<p>When you define a field filter, the application will instead perform
a call to the <code>search</code> endpoint, using a filter on the <code>displayProperty</code>
attribute in combination with the field filters.</p>
</li>
<li>
<p>When using a lookup field, the framework will not initially perform a
request to retrieve the available options. Instead, the user can use a
button to bring up a popup dialog containing a search form. This allows
the user to carry out a complex search query. The search form is
constructed using the entity model for the entity you are searching for.
By default, this is the general entity model for that entity, but you can
use the <code>lookupEntityReference</code> setting on the attribute model to
specify a different entity model and the <code>lookupQueryType</code> to specify
the query type.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A one-to-many relationship, for which the details cannot exist without
the parent entity, e.g., an order with multiple order lines. In this
case, the framework will render a table inside the form that can be used
to modify the related entities while editing the parent entity. For this
to work (properly), it is generally advisable to include the
relationship in the (detail) <code>@FetchJoins</code> of the entity. The entity
model that is used to render the table is in this case a nested entity
model that is part of the main entity model.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image7.png" alt="image" width="560" height="355">
</div>
<div class="title">Figure 5. Screen to manage translations.</div>
</div>
</div>
<div class="sect2">
<h3 id="_hidden_fields">11.4. Hidden fields</h3>
<div class="paragraph">
<p>In rare cases, it can occur that your application contains an edit form
for creating/updating entities that depends on an external value that is
dependent on the context. e.g., you are creating a new person that is a
member of an organization, but this organization is not present as a
field in the input form, however it is passed to the edit form based on
a previous action. In this case, you can use a <em>hidden</em> field to pass a
value into an edit form. The hidden field is not present/visible in the
form, but its value is passed along to the backend regardless.</p>
</div>
<div class="paragraph">
<p>In order to include a hidden field in a form, use an <code>ng-template</code> tag
and add the <code>dHiddenField</code> directive to it. Then provide the field name
and value. In case this is an entity, it is sufficient to only include
the primary key (<code>entityId</code> in the example below).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;app-generic-split-layout</span>
  <span class="na">entityName=</span><span class="s">"PersonalRelation"</span>
  <span class="na">[openInViewMode]=</span><span class="s">"true"</span>
  <span class="na">[defaultFilters]=</span><span class="s">"getDefaultFilters()"</span>
  <span class="na">(afterEntityCreated)=</span><span class="s">"afterEntityCreated($event)"</span>
<span class="nt">&gt;</span>
  <span class="nt">&lt;ng-template</span>
    <span class="na">dHiddenField</span>
    <span class="na">attributename=</span><span class="s">"memberFrom"</span>
    <span class="na">[value]=</span><span class="s">"entityId"</span>
  <span class="nt">&gt;&lt;/ng-template&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_view_objects">11.5. View objects</h3>
<div class="paragraph">
<p>In general, Dynamo is not particularly concerned with whether the
objects you are displaying in the UI are actual entities backed by a
database table – any class that extends the <code>AbstractEntity</code> class (and
is hence identified by a unique ID) can be used with the entity model
framework). This makes it relatively easy to use View Objects in the UI.
In the case of a view object you are creating an object that is solely
used to transfer data to the UI where it will be used for display
purposes. This technique can be used to combine data from e.g., multiple
sources</p>
</div>
<div class="paragraph">
<p>In order to use a view object, take the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a class that will serve as the View Object, and have it extend
the <code>AbstractEntity</code> class. Using the <code>@Model</code> annotation, disable any
update/create functionality for this entity by setting the
<code>createAllowed</code>, <code>updateAllowed</code> and <code>deleteAllowed</code> settings to false.</p>
</li>
<li>
<p>Create a service that extends <code>BaseSearchService</code>.* This is a subclass
of the general <code>BaseService</code> that only supports methods for searching
(not for updating and deleting).</p>
</li>
<li>
<p>Implement this service, and inside the implementation provide the
implementations for the relevant search methods. A useful technique here
is to delegate (most) calls to an existing service that actually
communicates with the database, then transform the results you retrieve
from that service to the view object format.</p>
</li>
<li>
<p>In case you are performing a translation like this, make sure to copy
the individual field values into the view object, rather than wrapping
entire existing objects. This allows you to much more easily modify the
entity model attributes and prevent issues with data loading.</p>
</li>
<li>
<p>With this in place, you will be able to use (relevant) entity and
attribute model settings on the view object.</p>
</li>
<li>
<p>In the front-end, you can simply create a layout component as you
would normally, and instead use the name of the view object as the
<code>entityName</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_entity_model_actions">11.6. Entity model actions</h3>
<div class="paragraph">
<p>It is also possible to define actions on the entity model that will
directly be translated to input dialogs in the UI. This can be used when
you have an action that operates on part of an entity, e.g., you want a
dialog that can be used to change only an organization’s name.</p>
</div>
<div class="paragraph">
<p>In order to use this functionality, you must perform a number of steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First, define a method on the service that is responsible for the
entity model (e.g., for the Organization service use the
<code>OrganizationService(Impl)</code>. This method must have a single parameter
(which represents the DTO that holds the data that is being edited) and
must return an instance of the entity that is managed by the service.</p>
</li>
<li>
<p>The DTO class (in the example below <code>MinimalOrganizationDTO</code>) must,
like “real” entities, implement the <code>AbstractEntity</code> interface.</p>
</li>
<li>
<p>The implementation of the method must be annotated with the
<code>@ModelAction</code> annotation. This annotation accepts the following
settings:</p>
<div class="ulist">
<ul>
<li>
<p><code>id</code> – the unique ID of the action.</p>
</li>
<li>
<p><code>displayName</code> – This is the caption of the button that will be used to
carry out the action</p>
</li>
<li>
<p><code>icon</code> – the name of the icon that will be used on the button</p>
</li>
<li>
<p><code>type</code> – the type of the action. Can be either CREATE or UPDATE. CREATE
means that the action can be used to create a new entity. These actions
will appear on the button bar below the results table in a search layout
or a split layout. UPDATE means that the actions will appear in each row
in the results table.</p>
</li>
<li>
<p><code>roles</code> – an array of the roles that the user must have in order to be
able to execute the action. Actions for which the user is not in the
appropriate role will be greyed out in the UI.</p>
</li>
<li>
<p><code>formMode</code> - applies only action of type "UPDATE" and specifies under
which conditions the action will appear in the button bar of an edit form.
The allowed values are <strong>VIEW</strong> (action appears only when the screen is in view mode),
<strong>EDIT</strong> (action appears only when the screen is in edit mode), and <strong>BOTH</strong> (action appears
in both view and edit mode).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>As an example, consider the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Override</span>
<span class="nd">@ModelAction</span><span class="o">(</span><span class="n">id</span> <span class="o">=</span> <span class="s">"AddMinimalOrganization"</span><span class="o">,</span> <span class="n">displayName</span> <span class="o">=</span> <span class="s">"Quick Add organization"</span><span class="o">,</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s">"pi-building"</span><span class="o">)</span>
<span class="nd">@Transactional</span>
<span class="kd">public</span> <span class="nc">Organization</span> <span class="nf">addMinimalOrganization</span><span class="o">(</span><span class="nc">MinimalOrganizationDTO</span> <span class="n">dto</span><span class="o">)</span> <span class="o">{</span>

    <span class="nc">Organization</span> <span class="n">org</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Organization</span><span class="o">();</span>
    <span class="n">org</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
    <span class="n">org</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getAddress</span><span class="o">());</span>
    <span class="n">org</span><span class="o">.</span><span class="na">setHeadQuarters</span><span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getHeadQuarters</span><span class="o">());</span>
    <span class="n">org</span><span class="o">.</span><span class="na">setFounded</span><span class="o">(</span><span class="nc">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">());</span>
    <span class="n">org</span><span class="o">.</span><span class="na">setCountryOfOrigin</span><span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getCountryOfOrigin</span><span class="o">());</span>
    <span class="n">org</span><span class="o">.</span><span class="na">setReputation</span><span class="o">(</span><span class="nc">Reputation</span><span class="o">.</span><span class="na">FEARSOME</span><span class="o">);</span>
    <span class="n">org</span><span class="o">.</span><span class="na">setMemberCount</span><span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getMemberCount</span><span class="o">());</span>
    <span class="k">return</span> <span class="nf">save</span><span class="o">(</span><span class="n">org</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Under the covers, the application will create an entity model based on
the DTO that is passed to the annotated method. This entity model comes
with all the functionality of a regular entity model – this means that
you can annotate the DTO properties with the <code>@Attribute</code> annotation (and
the other entity-model related annotation), and these settings will
influence how the dialog that is used to carry out the action will
behave.</p>
</div>
<div class="paragraph">
<p>In the UI, the framework will automatically generate buttons that bring
up a modal dialog that can be used to carry out the action. This modal
dialog will contain input components based on the entity model. e.g., for
the action defined above, it will look as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image8.png" alt="image" width="559" height="265">
</div>
<div class="title">Figure 6. Screen with buttons for modal dialogs.</div>
</div>
<div class="paragraph">
<p>Actions of type CREATE will appear in the button bar below the results
table in a search layout, split layout, or editable table layout.</p>
</div>
<div class="paragraph">
<p>Actions of type UPDATE will appear in each row in the results table,
behind the regular popup button.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
for an UPDATE action, if your DTO class has properties with
the same name as those of the main entity, the corresponding fields will
automatically be set to the values from the main entity.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The action is also linked to the entity by means of the ID field - the ID
of the entity will be passed along to the call to the back-end and should
bind to the ID field in the DTO. In your service you can then use this ID
in order to retrieve the entity.</p>
</div>
</div>
<div class="sect2">
<h3 id="_authorization">11.7. Authorization</h3>
<div class="paragraph">
<p>It is possible to configure role-based authorization to limit which
users are allowed to perform which actions on certain entities. This is
done by means of placing the <code>@Roles</code> annotation on an entity class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Roles</span><span class="o">(</span><span class="n">readRoles</span> <span class="o">=</span> <span class="o">{},</span> <span class="n">writeRoles</span> <span class="o">=</span> <span class="o">{</span><span class="s">"hidden"</span><span class="o">},</span> <span class="n">deleteRoles</span> <span class="o">=</span> <span class="o">{</span><span class="s">"hidden"</span><span class="o">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>@Roles</code> annotation has three properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>readRoles</code> defines the list of roles that a user can have in order to
perform read operations. This includes getting the details of a single
entity, performing a search operation, or getting a list of entities.</p>
</li>
<li>
<p><code>writeRoles</code> defines the list of roles that a user can have in order
to perform write operations. This includes performing updates (PUT) and
creating new entities (POST).</p>
</li>
<li>
<p><code>deleteRoles</code> defines the list of roles that a user can have in order
to perform delete operations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In all cases it is true that if no value, or an empty list, is provided,
no specific roles are required and any user may perform the action. In
case multiple values are provided, a user can perform the action as long
as they have any of the provided roles.</p>
</div>
<div class="paragraph">
<p>It is possible to use the message bundle to override the required
roles, by using the <code>readRoles</code>, <code>writeRoles</code> and <code>deleteRoles</code> keys.
Each value takes a comma-separated list of the role names.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">Entity6.readRoles</span><span class="p">=</span><span class="s">role4,role5</span>
<span class="py">Entity6.writeRoles</span><span class="p">=</span><span class="s">role6</span>
<span class="py">Entity6.deleteRoles</span><span class="p">=</span><span class="s">role7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Dynamo back-end will check the roles against the user’s Spring
Security roles. It is left to the developer to ensure that the proper
roles are added to the user principal (we recommend using OAuth).</p>
</div>
<div class="paragraph">
<p>In the backend, you can inject an instance of the <code>UserDetailsService</code>
in order to be able to perform role checks. You can then use the
<code>validateXXX()</code> methods which will throw an <code>OCSSecurityException</code> when
the user does not have the proper roles to read/write/delete the entity
managed by the entity model.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">void</span> <span class="nf">validateReadAllowed</span><span class="o">(</span><span class="nc">EntityModel</span><span class="o">&lt;?&gt;</span> <span class="n">model</span><span class="o">);</span>
<span class="kt">void</span> <span class="nf">validateWriteAllowed</span><span class="o">(</span><span class="nc">EntityModel</span><span class="o">&lt;?&gt;</span> <span class="n">model</span><span class="o">);</span>
<span class="kt">void</span> <span class="nf">validateDeleteAllowed</span><span class="o">(</span><span class="nc">EntityModel</span><span class="o">&lt;?&gt;</span> <span class="n">model</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the front-end, the UI components offered by the Dynamo framework will
be automatically adapted based on the provided roles. This means that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The component will be hidden when the user does not have read rights.</p>
</li>
<li>
<p>The component will be rendered in read-only modus (and no “add” of
“edit” buttons will be present) when the user does not have write
rights.</p>
</li>
<li>
<p>The Delete button will only be rendered when the user has “delete”
rights.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Currently, the Dynamo framework does not provide functionality for
automatically building a menu or defining navigation rules based on the
entity model roles. However, it does offer some functionality to ensure
that only authorized users get to see certain screens</p>
</div>
<div class="paragraph">
<p>First of all, you can add a <code>RoleGuard</code> to any route that should only be
accessible to certain users:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="p">{</span>
    <span class="nl">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">organizations</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Organizations</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">canActivate</span><span class="p">:</span> <span class="p">[</span><span class="nx">RoleGuard</span><span class="p">,</span> <span class="nx">BackendAvailableGuard</span><span class="p">],</span>
    <span class="nx">component</span><span class="p">:</span> <span class="nx">OrganizationSearchComponent</span><span class="p">,</span>
    <span class="nx">data</span><span class="p">:</span> <span class="p">{</span><span class="nl">roles</span> <span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">view_organization</span><span class="dl">'</span><span class="p">]}</span>
  <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>data</code> takes an array of roles that are allowed to access the
specified route. The <code>RoleGuard</code> will block access to a route if the
user does not have at least one of the provided routes, and navigate to
the <code>login</code> route instead.</p>
</div>
<div class="paragraph">
<p>Secondly, you can use the <code>AuthenticationService</code> to check whether a
user is in a certain role. You can e.g., use this when building a menu,
to enable/disable certain routes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_ui_components">12. Composite UI components</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_genericsearchlayout">12.1. GenericSearchLayout</h3>
<div class="paragraph">
<p>One of the most commonly used components will be the “Generic Search
Layout” which offers a search form combined with a results table. To use
a <code>GenericSearchLayout</code>, define your own component, then in the HTML for
that component, include something like this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-search-layout</span> <span class="na">entityName=</span><span class="s">"Organization”
  &gt;&lt;/app-generic-search-layout&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the most basic set-up that will provide you with a search screen
for the “Organization” entity. By default, this will do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a search form that allows the user to search on the attributes
that are marked as <code>searchable=SearchMode.ALWAYS</code>. The attributes are
ordered according to the <code>SearchAttributeOrder</code> defined on the entity</p>
<div class="ulist">
<ul>
<li>
<p>For complex attributes, the <code>SearchSelectMode</code> is used to determine
which component to render.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Create a results table that contains all the attributes that are
marked as <code>visibleInGrid=true</code>. The attributes are ordered according
to the <code>GridAttributeOrder</code> defined on the entity.</p>
<div class="ulist">
<ul>
<li>
<p>By default, sorting is enabled for all columns. You can disable this
for certain attributes by setting the <code>sortable</code> setting on the
<code>@Attribute</code> to false.</p>
</li>
<li>
<p>For dates and times, the <code>displayFormat</code> will be used to render the
values inside the table.</p>
</li>
<li>
<p>For Boolean fields, the <code>trueRepresentation</code> and
<code>falseRepresentation</code> will be used to render the values inside the
table.</p>
</li>
<li>
<p>For complex attributes, the <code>displayProperty</code> of the related entity
will be used to display the values inside the table.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Each row in the table will contain a Delete button that allows the
user to delete an entity. This button will only show up if
<code>deleteEnabled</code> is set to true for the entity (and if the user has the correct rights)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By default, nothing will happen when you click on a row in the
table, or when you click the Add button. The functionality for
navigating to a detail screen must be explicitly enabled. The easiest
way to do this is by defining the <code>detailNavigationPath</code> (see below).
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_detailnavigationpath">12.1.1. DetailNavigationPath</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-search-layout</span> <span class="na">entityName=</span><span class="s">"Organization"</span>
  <span class="na">detailNavigationPath=</span><span class="s">"organization"</span>
 <span class="nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>detailNavigationPath</code> setting can be used to set the path that is
used to navigate to a details page for editing an entity that is
selected in the result table. Note that you must actually create a
separate component (and include a route to it) for this detail page.</p>
</div>
<div class="paragraph">
<p>If this value is set, no extra actions are needed to navigate to a
detail screen for editing or creating an entity. If this value is not
set (e.g., in case you want some custom behaviour when clicking on either
a row in the table or the Add button, use the <code>onAddButtonClick</code> or <code>onRowSelect</code> event
handlers instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="_searchformmode">12.1.2. SearchFormMode</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-search-layout</span> <span class="na">entityName=</span><span class="s">"Organization"</span>
  <span class="na">[searchFormMode]=</span><span class="s">"searchMode"</span>
  <span class="nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By using the <code>searchFormMode</code> it becomes possible to switch between the
default search form (as described above) a more dynamic search form. By
default, the <code>searchFormMode</code> is set to STANDARD but if you change it to
DYNAMIC the framework will render an (initially) empty search form to
which the user can any number of search filters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Clicking on the “Add Filter” button will add a new row in the search
form.</p>
</li>
<li>
<p>Each row starts with a dropdown component that contains the names of
the fields to filter on.</p>
</li>
<li>
<p>Selecting a value from the dropdown will bring up one or two search
fields. (depending on the type of the attribute) that allows the user to
specify search values or upper/lower bounds.</p>
</li>
<li>
<p>The button at the front of the row can be used to remove a search
filter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As an example, consider the following:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image9.png" alt="image" width="560" height="165">
</div>
<div class="title">Figure 7. A search screen.</div>
</div>
<div class="paragraph">
<p>With regard to fields that are <code>requiredForSearching</code>, when using the
dynamic search form, the application will render a row for every
attribute that is required. These rows can’t be removed and the selected
attribute cannot be modified.</p>
</div>
<div class="paragraph">
<p>Also, if default search values are defined for any attributes, then for
each of these attributes, a row will be rendered as well. However, these
rows can be removed freely and the search terms can be modified as well.</p>
</div>
</div>
<div class="sect3">
<h4 id="_querytype">12.1.3. QueryType</h4>
<div class="paragraph">
<p>You can use the <code>queryType</code> attribute on the layout to determine the
query type to use. The supported values are <code>PAGING</code> and <code>ID_BASED</code>, with
<code>PAGING</code> being the default.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-search-layout</span> <span class="na">entityName=</span><span class="s">"Organization"</span>
  <span class="na">queryType]=</span><span class="s">"queryType"</span>

  <span class="nt">&gt;&lt;/d-generic-search-layout&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Changing this setting will determine how the query will be carried out
in the back-end. In many cases this will probably not be relevant, but
there might be situations in which you will need to switch to ID_BASED,
e.g., when you want to display values from a one-to-many relation inside
the table.</p>
</div>
</div>
<div class="sect3">
<h4 id="_preservesearchterms">12.1.4. PreserveSearchTerms</h4>
<div class="paragraph">
<p>The <code>preserveSearchTerms</code> setting can be used to store the search terms
entered by the user between visits to the page. By default, this
functionality is enabled. With this functionality enabled, when a user
enters one or more search terms and then presses the Search button, the
search terms that the user entered will be saved, and restores once the
user navigates back to the screen.</p>
</div>
</div>
<div class="sect3">
<h4 id="_showdetailbutton">12.1.5. ShowDetailButton</h4>
<div class="paragraph">
<p>By default, the user is able to navigate to a detail page by clicking on
a row in the table. If you don’t want this behaviour, you can set the
<code>showDetailButton</code> setting to <code>true</code>. If this is the case, the framework
will render a button inside each row in the table. Instead of clicking
anywhere in a row in the table, the user can now use this button in
order to navigate to a detail screen.</p>
</div>
<div class="paragraph">
<p>Reminder: remember that the <code>detailNavigationPath</code> must be set if you
want any actual navigation to occur.</p>
</div>
</div>
<div class="sect3">
<h4 id="_detailsmodeenabled">12.1.6. DetailsModeEnabled</h4>
<div class="paragraph">
<p>By default, the user is able to navigate to a detail page by clicking on
a row in the table (or alternatively by clicking the details button, see
above). If you want to disable this behaviour, you can set the
<code>detailsModeEnabled</code> property to <code>false</code>. When this is done, no detail
button will show up, and clicking on a row in the table will do nothing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_confirmclear">12.1.7. ConfirmClear</h4>
<div class="paragraph">
<p>The <code>confirmClear</code> property can be used to specify whether to ask for
confirmation before clearing the search form. The default value is
<code>false</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_searchimmediately">12.1.8. SearchImmediately</h4>
<div class="paragraph">
<p>By default, the application will carry out a search request immediately
when the screen is first loaded, resulting in a results table that will be
immediately filled. When this is not the desirable behaviour, you can
set the <code>searchImmediately</code> property to <code>false</code> When this is done, no
search request will be carried out after the screen has loaded.</p>
</div>
</div>
<div class="sect3">
<h4 id="_advancedmodeenabled">12.1.9. AdvancedModeEnabled</h4>
<div class="paragraph">
<p>The <code>advancedModeEnabled</code> attribute can be used to specify whether
the advanced search mode is enabled. By default, this is not the case,
and the search form will only contain the attributes for which
<code>searchable</code> has been set to <strong>ALWAYS</strong>. When <code>advancedModeEnabled</code> is set
to <code>true</code> the search form will also include the attributes for which
searchable has been set to <code>ADVANCED</code>, and the form will include a
button to switch between simple and advanced mode.</p>
</div>
</div>
<div class="sect3">
<h4 id="_defaultfilters">12.1.10. DefaultFilters</h4>
<div class="paragraph">
<p>The <code>defaultFilters</code> property can be used to specify the default filters
to use when carrying out a search request. These default filters are
always added to any search request, even when the search request is
empty.</p>
</div>
<div class="paragraph">
<p>The <code>defaultFilters</code> property takes an array of <code>FilterModel</code> objects
that specify which filters to use.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="nx">getDefaultFilters</span><span class="p">():</span> <span class="nx">FilterModel</span><span class="p">[]</span> <span class="p">{</span>
<span class="kd">let</span> <span class="nx">defaultFilters</span><span class="p">:</span> <span class="nx">FilterModel</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">let</span> <span class="nx">filter1</span><span class="p">:</span> <span class="nx">EqualsFilterModel</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">EQUALS</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">reputation</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">FEARSOME</span><span class="dl">'</span> <span class="k">as</span> <span class="kr">any</span><span class="p">,</span>
<span class="p">};</span>
<span class="nx">defaultFilters</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">filter1</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">defaultFilters</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_entitymodelreference">12.1.11. EntityModelReference</h4>
<div class="paragraph">
<p>The <code>entityModelReference</code> can be used to specify the specific reference
of the entity model to use when constructing the screen.</p>
</div>
</div>
<div class="sect3">
<h4 id="_popupbuttonmode">12.1.12. PopupButtonMode</h4>
<div class="paragraph">
<p>The <code>popupButtonMode</code> can be used to add a popup button to every row in
the table.Depending on the value of this property, the button can be
used to open a popup dialog for either viewing or editing the selected
entity.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By default, this property has the value <code>NONE</code> which means no button
will be rendered.</p>
</li>
<li>
<p>When the value is changed to <code>READ_ONLY</code> each row in the table will
contain a popup button that will bring up a dialog that can be used to
view the details of the selected row.</p>
</li>
<li>
<p>When the value is changed to <code>EDIT</code>, each row in the table will contain
a popup button that will bring up a dialog that can be used to edit the
selected row.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_onaddbuttonclick">12.1.13. onAddButtonClick</h4>
<div class="paragraph">
<p>The <code>onAddButtonClick</code> event handler specifies what happens when the
user clicks on the “Add” button that is displayed below the table. This
button is only displayed when the <code>createEnabled</code> setting on the entity
model is set to <code>true</code> (and when the user has the appropriate rights)</p>
</div>
<div class="paragraph">
<p>By default, the application will navigate to the route specified by the
<code>detailNavigationPath</code> and you don’t need to set this event handler
explicitly.</p>
</div>
</div>
<div class="sect3">
<h4 id="_onrowselect">12.1.14. onRowSelect</h4>
<div class="paragraph">
<p>The <code>onRowSelect</code> event handler can be used to define the behaviour that
should occur when the user select a row in the table (either by clicking
directly on the row, or on the detail button). The <code>row</code> parameter
represents the entire row that was selected.</p>
</div>
<div class="paragraph">
<p>As an example, <code>onRowSelect</code> can be used to navigate to a detail screen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="nx">onRowSelect</span><span class="p">(</span><span class="nx">row</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">row</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">router</span><span class="p">.</span><span class="nx">navigateByUrl</span><span class="p">(</span><span class="dl">'</span><span class="s1">/organization/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">row</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_aftersearchformbuilt">12.1.15. afterSearchFormBuilt</h4>
<div class="paragraph">
<p>The <code>afterSearchFormBuilt</code> event handler can be used to post-process the
search form after it has been constructed by the framework. This can be
used as an alternative to setting the default values via the Entity
Model, and can additionally be used to set default values for complex
attributes.</p>
</div>
<div class="paragraph">
<p>Below is an example of using this functionality for setting the default
of the “country of origin” field to “Australia”.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="nx">afterSearchFormBuilt</span><span class="p">(</span><span class="nx">info</span><span class="p">:</span> <span class="nx">FormInfo</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">createBasicSearchModel</span><span class="p">(</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Australia</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">service</span><span class="o">!</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">Country</span><span class="dl">'</span><span class="p">,</span> <span class="nx">model</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">country</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">results</span><span class="o">!</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">as</span> <span class="kr">any</span><span class="p">;</span>

      <span class="nx">info</span><span class="p">.</span><span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">countryOfOrigin</span><span class="dl">'</span><span class="p">)?.</span><span class="nx">patchValue</span><span class="p">({</span>
        <span class="na">value</span><span class="p">:</span> <span class="nx">country</span><span class="p">.</span><span class="nx">id</span><span class="o">!</span><span class="p">,</span>
        <span class="na">name</span><span class="p">:</span> <span class="nx">country</span><span class="p">.</span><span class="nx">name</span><span class="o">!</span>
      <span class="p">});</span>
    <span class="p">});</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
when you are setting the value for a <code>multiselect</code> component, be
sure that the value you are passing an array.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_modelactionenabled">12.1.16. ModelActionEnabled</h4>
<div class="paragraph">
<p>The <code>modelActionEnabled</code> callback method can be used to modify the conditions
under which a model based action is available.</p>
</div>
<div class="paragraph">
<p>This method is called once for each model based action that is visible in the
button bar. It takes as its arguments</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The entity model action</p>
</li>
<li>
<p>The "editObject" i.e. the current state of the entity being edited</p>
</li>
<li>
<p>The "formGroup" that contains the input form controls</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These arguments can be used to determine which action we are dealing with
and can be used to enable/disable the action based on the action itself
and the current state of the form.</p>
</div>
<div class="paragraph">
<p>As an example consider the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="nx">modelActionEnabled</span><span class="p">(</span>
    <span class="nx">action</span><span class="p">:</span> <span class="nx">EntityModelActionResponse</span><span class="p">,</span>
    <span class="nx">editObject</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="nx">formGroup</span><span class="p">:</span> <span class="nx">FormGroup</span>
  <span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ChangeName</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">(</span><span class="nx">editObject</span><span class="p">[</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">]</span> <span class="k">as</span> <span class="kr">string</span><span class="p">).</span><span class="nx">startsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">C</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above looks at the <strong>ChangeName</strong> action and enables it only if the name of the organization
starts with a capital "C".</p>
</div>
</div>
<div class="sect3">
<h4 id="_additional_row_actions">12.1.17. Additional row actions</h4>
<div class="paragraph">
<p>It is also possible to define additional actions that will be available
for every row in the table. For every action you define, a button will
be placed in each row in the table.</p>
</div>
<div class="paragraph">
<p>In the HTML, you can set a value for the <code>additionalRowActions</code>
property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="o">&lt;</span><span class="nx">app</span><span class="o">-</span><span class="nx">generic</span><span class="o">-</span><span class="nx">search</span><span class="o">-</span><span class="nx">layout</span> <span class="nx">entityName</span><span class="o">=</span><span class="dl">"</span><span class="s2">Organization</span><span class="dl">"</span>
 <span class="p">[</span><span class="nx">additionalRowActions</span><span class="p">]</span><span class="o">=</span><span class="dl">"</span><span class="s2">getAdditionalRowActions()</span><span class="dl">"</span>
  <span class="o">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, in the Typescript file you can define a list of additional
actions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="nx">getAdditionalRowActions</span><span class="p">():</span> <span class="nx">AdditionalRowAction</span><span class="p">[]</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">action</span><span class="p">:</span> <span class="nx">AdditionalRowAction</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">action</span><span class="p">:</span> <span class="nx">obj</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">messageService</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Selected something:</span><span class="dl">'</span> <span class="o">+</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>

      <span class="p">},</span>
      <span class="na">messageKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">action_one</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">icon</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pi-times</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">buttonClass</span><span class="p">:</span> <span class="dl">"</span><span class="s2">btn btn-primary</span><span class="dl">"</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nx">action2</span><span class="p">:</span> <span class="nx">AdditionalRowAction</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">action</span><span class="p">:</span> <span class="nx">obj</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">messageService</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Selected something:</span><span class="dl">'</span> <span class="o">+</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
      <span class="p">},</span>
      <span class="na">messageKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">action_two</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">icon</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pi-chart-pie</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">buttonClass</span><span class="p">:</span> <span class="dl">"</span><span class="s2">btn btn-danger</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">enabled</span><span class="p">:</span> <span class="nx">obj</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">]</span> <span class="k">as</span> <span class="kr">string</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">[</span><span class="nx">action</span><span class="p">,</span> <span class="nx">action2</span><span class="p">];</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An action consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The action to carry out. This is a function that takes as its argument
the current entity that is being edited.</p>
</li>
<li>
<p>The message key that is used to look up the message to display as the
button tooltip.</p>
</li>
<li>
<p>An optional icon that is placed on the button.</p>
</li>
<li>
<p>The CSS classes to apply to the button.</p>
</li>
<li>
<p>An optional function that is used to determine whether the button must
be enabled (if omitted, the button will always be enabled by default).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_additional_global_actions">12.1.18. Additional global actions</h4>
<div class="paragraph">
<p>In addition to actions that are available for each row in the table, it
is also possible to define global actions that are not tied to a
specific entity. These global actions appear in the button bar below the
results table in search form.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="nx">getAdditionalGlobalActions</span><span class="p">():</span> <span class="nx">AdditionalGlobalAction</span><span class="p">[]</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">action</span><span class="p">:</span> <span class="nx">AdditionalGlobalAction</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">action</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">messageService</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">'</span><span class="s1">This is a global action</span><span class="dl">'</span><span class="p">)</span>

      <span class="p">},</span>
      <span class="na">messageKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">action_one</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">icon</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pi-times</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">buttonClass</span><span class="p">:</span> <span class="dl">"</span><span class="s2">btn btn-primary m-1</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">enabled</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">[</span><span class="nx">action</span><span class="p">];</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An action consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The action to carry out. This is a function that takes no arguments</p>
</li>
<li>
<p>The message key that is used to look up the message to display as the
button tooltip.</p>
</li>
<li>
<p>An optional icon that is placed on the button.</p>
</li>
<li>
<p>The CSS classes to apply to the button.</p>
</li>
<li>
<p>An optional function that is used to determine whether the button must
be enabled (if omitted, the button will be enabled by default).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_genericform">12.2. GenericForm</h3>
<div class="paragraph">
<p>The GenericForm component can be used to edit or display a single
entity. In its most basic form it can be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="o">&lt;</span><span class="nx">d</span><span class="o">-</span><span class="nx">generic</span><span class="o">-</span><span class="nx">form</span>
  <span class="nx">entityName</span><span class="o">=</span><span class="dl">"</span><span class="s2">Organization</span><span class="dl">"</span>
  <span class="p">[</span><span class="nx">entityId</span><span class="p">]</span><span class="o">=</span><span class="dl">"</span><span class="s2">entityId</span><span class="dl">"</span>
<span class="o">&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="k">export</span> <span class="kd">class</span> <span class="nx">OrganizationFormComponent</span> <span class="p">{</span>
  <span class="nl">entityId</span><span class="p">?:</span> <span class="kr">number</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span>
    <span class="nx">route</span><span class="p">:</span> <span class="nx">ActivatedRoute</span><span class="p">,</span>
    <span class="k">private</span> <span class="nx">messageService</span><span class="p">:</span> <span class="nx">LogMessageService</span><span class="p">,</span>
    <span class="k">private</span> <span class="nx">crudController</span><span class="p">:</span> <span class="nx">CrudControllerService</span>
  <span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">snapshot</span><span class="p">.</span><span class="nx">paramMap</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">entityId</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This will set up an edit form for managing entities of type
Organization. It can be used both for creating new entities and editing
existing entities (based on the value of the entityId).</p>
</div>
<div class="paragraph">
<p>By default, the form will contain a single column of input components,
in the order specified by the <code>@AttributeOrder</code> defined on the entity.
The type of the component that will be rendered depends on various
settings on the attribute model (e.g., <code>selectMode</code>, <code>textFieldMode</code>).</p>
</div>
<div class="paragraph">
<p>Only the attributes for which <code>visibleInForm</code> is set to <code>true</code> will be
included in the form, and only if they indeed editable (see the
<a href="#_editabletype">Editable type</a> for more details). If an attribute cannot be edited, then
the attribute’s current value will be shown as a label.</p>
</div>
<div class="sect3">
<h4 id="_entityname_and_entitymodel">12.2.1. EntityName and EntityModel</h4>
<div class="paragraph">
<p>When creating a <code>GenericForm</code> component, it is possible to either pass
along an <code>entityName</code> or an <code>entityModel</code>.* Using the <code>entityName</code> is the
most basic configuration, but it is also possible to pass along an
entity model from another component.</p>
</div>
<div class="paragraph">
<p>When specifying an entityName, it is also possible to specify an
<code>entityModelReference</code> to further specify the exact version of the
entity model to use.</p>
</div>
</div>
<div class="sect3">
<h4 id="_openinviewmode">12.2.2. OpenInViewMode</h4>
<div class="paragraph">
<p>By default, the edit form will be rendered in edit mode after being
opened. If you want the form to open in view mode instead, you can set the
<code>openInViewMode</code> property to <code>true</code> If this is the case, the screen
will open in read-only mode, and an “Edit” button will be present to
switch to edit mode (provided the user has the proper rights and editing
the entity is allowed).</p>
</div>
</div>
<div class="sect3">
<h4 id="_navigatebackroutenavigationallowed">12.2.3. NavigateBackRoute/NavigationAllowed</h4>
<div class="paragraph">
<p>The <code>navigateBackRoute</code> property can be used to specify the navigation
route to follow when navigating back from the screen to another “parent”
screen (normally a generic-search-layout). The navigation is possible by
clicking on a “Back” button below the edit form.</p>
</div>
<div class="paragraph">
<p>It is also possible to disable navigation altogether by setting the
<code>navigationAllowed</code> property to false. In this case, no “back” button
will be shown.</p>
</div>
</div>
<div class="sect3">
<h4 id="_attribute_grouping_2">12.2.4. Attribute grouping</h4>
<div class="paragraph">
<p>By default, all input components are displayed in a single column below
each other. However, when you specify one or more attribute groups (on
the entity), these will be used to group the entities together using
either tabs sheets or panels.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@AttributeGroup</span><span class="o">(</span><span class="n">messageKey</span> <span class="o">=</span> <span class="s">"organization.first"</span><span class="o">,</span> <span class="n">attributeNames</span> <span class="o">=</span> <span class="o">{</span><span class="s">"id"</span><span class="o">,</span> <span class="s">"name"</span><span class="o">,</span> <span class="s">"address"</span><span class="o">,</span> <span class="s">"headQuarters"</span><span class="o">,</span> <span class="s">"countryOfOrigin"</span><span class="o">})</span>
<span class="nd">@AttributeGroup</span><span class="o">(</span><span class="n">messageKey</span> <span class="o">=</span> <span class="s">"organization.second"</span><span class="o">,</span> <span class="n">attributeNames</span> <span class="o">=</span> <span class="o">{</span><span class="s">"memberCount"</span><span class="o">,</span> <span class="s">"yearlyMortalityRate"</span><span class="o">,</span> <span class="s">"mainActivity"</span><span class="o">,</span>
        <span class="s">"governmentSponsored"</span><span class="o">,</span> <span class="s">"budget"</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Organization</span> <span class="kd">extends</span> <span class="nc">AbstractEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the attributes will be grouped together using panels.
However, you can change the <code>attributeGroupMode</code> to TAB to change this to
the use tab sheets.</p>
</div>
</div>
<div class="sect3">
<h4 id="_changing_column_number_and_width">12.2.5. Changing column number and width</h4>
<div class="paragraph">
<p>By default, the edit form will consist of a single column that spans most
of the screen. The width of the edit form is actually governed by the
value of the <code>formWidthClass</code> property. The default value is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">col-lg-8 col-md-10 col-sm-12</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to changing this setting, you can also change the number of
columns that are used by changed the value of the <code>numberOfColumns</code>
property.</p>
</div>
</div>
<div class="sect3">
<h4 id="_attributevisible">12.2.6. AttributeVisible</h4>
<div class="paragraph">
<p>It is possible to define a function that will determine under which
conditions an input component/attribute will be visible. This can be
done by implementing a function that takes as its parameters</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The attribute model of the attribute</p>
</li>
<li>
<p>The object/entity being edited</p>
</li>
<li>
<p>The form group that contains the input components</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use these parameters to determine whether to show/hide a certain
attribute. The <code>attributeVisible</code> function is called once for each attribute
during the process of rendering an input form.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"><span class="nx">attributeVisible</span><span class="p">(</span><span class="nx">am</span><span class="p">:</span> <span class="nx">AttributeModelResponse</span><span class="p">,</span> <span class="nx">editObject</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span> <span class="nx">formGroup</span><span class="p">:</span> <span class="nx">FormGroup</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">typeControl</span> <span class="o">=</span> <span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">assetCategoryType</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">typeControl</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">let</span> <span class="nx">typeValue</span> <span class="o">=</span> <span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">assetCategoryType</span><span class="dl">'</span><span class="p">)?.</span><span class="nx">value</span><span class="p">?.</span><span class="nx">value</span><span class="p">;</span>

    <span class="c1">// no type selected</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">typeValue</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">golfsetAttributes</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">am</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="nx">index</span> <span class="o">&gt;=</span><span class="mi">0</span> <span class="p">?</span> <span class="nx">typeValue</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">GOLFSET</span><span class="dl">'</span> <span class="p">:</span> <span class="kc">true</span><span class="p">;</span>

  <span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_field_filters">12.2.7. Field filters</h4>
<div class="paragraph">
<p>Any of the components that can be used to select one or more entities
(combobox, multi-select, lookup-field, auto-complete) can be modified so
that an additional filter is applied when retrieving possible values
from the back-end.</p>
</div>
<div class="paragraph">
<p>In HTML, set a value for the <code>fieldFilters</code> property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-form</span>
  <span class="na">entityName=</span><span class="s">"Organization"</span>
  <span class="na">[entityId]=</span><span class="s">"entityId"</span>
  <span class="na">[fieldFilters]=</span><span class="s">"getFieldFilters()"</span>
<span class="nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In Typescript, define a function that returns a Map that maps from
attribute name to an array of <code>FilterModel</code> objects</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="nx">getFieldFilters</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">fieldFilters</span><span class="p">:</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span><span class="nx">FilterModel</span><span class="p">[]</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span><span class="nx">FilterModel</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">();</span>

    <span class="kd">let</span> <span class="nx">countryFilter</span> <span class="o">=</span> <span class="nx">createEqualsFilter</span><span class="p">(</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">au</span><span class="dl">'</span><span class="p">)</span>
    <span class="nx">fieldFilters</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">"</span><span class="s2">countryOfOrigin</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span>
      <span class="nx">countryFilter</span>
    <span class="p">]);</span>

    <span class="kd">let</span> <span class="nx">hoodFilter</span> <span class="o">=</span> <span class="nx">createEqualsFilter</span><span class="p">(</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">)</span>
    <span class="nx">fieldFilters</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">"</span><span class="s2">neighbourhoods</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span>
      <span class="nx">hoodFilter</span>
    <span class="p">]);</span>

    <span class="k">return</span> <span class="nx">fieldFilters</span><span class="p">;</span>
  <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example sets up two field filters, one for the <code>countryOfOrigin</code>
attribute and one for the <code>neighbourhoods</code> attribute. Both filters
add a filter on the <code>name</code> attribute. This means that when the user
wants to select one or more values using the input components for these
attributes, they will only get to see options for which the name matches
the specified filter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_post_processing_the_input_form">12.2.8. Post-processing the input form</h4>
<div class="paragraph">
<p>It is possible to modify an input form after it has been created. The
main use case for this is the option to add inter-field dependencies to
the input components (e.g., empty a field when another field has a
certain value). You can set this up by setting the
<code>postProcessInputForm</code> option.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-form</span> <span class="na">entityName=</span><span class="s">"Person"</span>
  <span class="na">[entityId]=</span><span class="s">"entityId
    [postProcessInputForm]="</span><span class="na">postProcessInputForm</span><span class="err">"</span>
 <span class="nt">&gt;&lt;/d-generic-form&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This should correspond to a typescript function that takes a <code>FormGroup</code>
as its argument and returns <code>void</code>.* Within this function, it is possible
to retrieve the input components from the FormGroup and set up (e.g.)
value change listeners that modify field values, enabled/disable fields
based on input, etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="nx">postProcessInputForm</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">:</span> <span class="nx">FormGroup</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">lastName</span> <span class="o">=</span> <span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">lastName</span><span class="dl">'</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">firstName</span> <span class="o">=</span> <span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">firstName</span><span class="dl">'</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>

    <span class="nx">lastName</span><span class="p">.</span><span class="nx">valueChanges</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">val</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// do something</span>
    <span class="p">})</span>
  <span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_afterentitycreated">12.2.9. AfterEntityCreated</h4>
<div class="paragraph">
<p>The <code>afterEntityCreated</code> callback can be used to perform some additional
initialization after the form for creating a new entity has been
initialized. This can be used to set default values for complex
attributes .</p>
</div>
<div class="paragraph">
<p>E.g, suppose we are creating a new Organization and want to set a
default value for the <code>countryOfOrigin</code> attribute. This can be done as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="nx">afterEntityCreated</span><span class="p">(</span><span class="nx">event</span><span class="p">:</span> <span class="nx">FormInfo</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">group</span> <span class="o">=</span> <span class="nx">event</span><span class="p">?.</span><span class="nx">formGroup</span><span class="p">;</span>

    <span class="kd">let</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">createBasicSearchModel</span><span class="p">(</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Australia</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">crudController</span><span class="o">!</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">Country</span><span class="dl">'</span><span class="p">,</span> <span class="nx">model</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">country</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">results</span><span class="o">!</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">as</span> <span class="kr">any</span><span class="p">;</span>

      <span class="nx">group</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">countryOfOrigin</span><span class="dl">'</span><span class="p">)?.</span><span class="nx">patchValue</span><span class="p">({</span>
        <span class="na">value</span><span class="p">:</span> <span class="nx">country</span><span class="p">.</span><span class="nx">id</span><span class="o">!</span><span class="p">,</span>
        <span class="na">name</span><span class="p">:</span> <span class="nx">country</span><span class="p">.</span><span class="nx">name</span><span class="o">!</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-form</span>
  <span class="na">entityName=</span><span class="s">"Organization"</span>
  <span class="na">[entityId]=</span><span class="s">"entityId"</span>
  <span class="na">(afterEntityCreated)=</span><span class="s">"afterEntityCreated($event)"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This callback method will be run whenever the form is opened in the
“create new entity mode”, and will result in the <code>countryOfOrigin</code> field
being filled with “Australia”</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If this approach is too cumbersome for your purposes, consider
overriding the <code>initialize()</code> method in the back-end instead (see section
<a href="#_entity_initialization">Entity initialization</a>).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_additional_validations">12.2.10. Additional validations</h4>
<div class="paragraph">
<p>The Dynamo framework will automatically set up field validators based on
the attribute model, e.g., to check whether required fields are filled,
whether minimum and maximum lengths are observed, etc. In addition to
this, it is also possible to configure additional validations in the
back-end. If this is not sufficient, it is also possible to extends the
front-end validation in two ways: by adding custom validators to
specific fields, and by setting up an additional validator that fires
before submitting the form.</p>
</div>
<div class="paragraph">
<p>On the generic form, you can do this by setting up a
<code>customValidatorTemplate</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Point the <code>customValidatorTemplate</code> property of the <code>app-generic-form</code>
to an ng-template nested inside the form</p>
</li>
<li>
<p>Inside the form, include an “ngTemplate” that includes the
<code>dAdditionalValidators</code> directive, and pass along the field name and
form group</p>
</li>
<li>
<p>Use the <code>validators</code> property to pass along an array of additional
validators (note that you can pass along the from group in order to set
up validations across multiple fields if desired).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-form</span>
  <span class="na">entityName=</span><span class="s">"Member"</span>
  <span class="na">[entityId]=</span><span class="s">"entityId"</span>
  <span class="na">[customValidatorTemplate]=</span><span class="s">"customValidatorTemplate"</span>
<span class="nt">&gt;</span>
  <span class="nt">&lt;ng-template</span> <span class="na">#customValidatorTemplate</span> <span class="na">let-formGroup</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ng-template</span>
      <span class="na">dAdditionalValidators</span>
      <span class="na">attributeName=</span><span class="s">"bagNumber"</span>
      <span class="na">[formGroup]=</span><span class="s">"formGroup"</span>
      <span class="na">[validators]=</span><span class="s">"[CustomValidators.bagNumberValidator(formGroup)]"</span>
    <span class="nt">/&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_additional_form_actions">12.2.11. Additional form actions</h4>
<div class="paragraph">
<p>It is also possible to define additional buttons/actions that will be
added to the button bar at the bottom of the form. This is done in a
declarative fashion.</p>
</div>
<div class="paragraph">
<p>In the HTML code, you can set a value for the <code>additionalFormActions</code>
property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript"> <span class="o">&lt;</span><span class="nx">d</span><span class="o">-</span><span class="nx">generic</span><span class="o">-</span><span class="nx">form</span>
  <span class="nx">entityName</span><span class="o">=</span><span class="dl">"</span><span class="s2">Organization</span><span class="dl">"</span>
  <span class="p">[</span><span class="nx">entityId</span><span class="p">]</span><span class="o">=</span><span class="dl">"</span><span class="s2">entityId</span><span class="dl">"</span>
  <span class="p">[</span><span class="nx">additionalFormActions</span><span class="p">]</span><span class="o">=</span><span class="dl">"</span><span class="s2">getAdditionalFormActions()</span><span class="dl">"</span>
<span class="o">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, in the Typescript file, you can define the additional action:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="nx">getAdditionalFormActions</span><span class="p">():</span> <span class="nx">AdditionalFormAction</span><span class="p">[]</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">action</span><span class="p">:</span> <span class="nx">AdditionalFormAction</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">action</span><span class="p">:</span> <span class="nx">obj</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">organizationService</span><span class="p">.</span><span class="nx">clearAddress</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
          <span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">obj</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">comp</span><span class="p">?.</span><span class="nx">bindExistingEntity</span><span class="p">();</span>
          <span class="p">})</span>
      <span class="p">},</span>
      <span class="na">messageKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">action_one</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">icon</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pi-times</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">mode</span><span class="p">:</span> <span class="nx">AdditionalActionMode</span><span class="p">.</span><span class="nx">BOTH</span><span class="p">,</span>
      <span class="na">buttonClass</span><span class="p">:</span> <span class="dl">"</span><span class="s2">btn btn-danger</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">enabled</span><span class="p">:</span> <span class="nx">obj</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="k">return</span> <span class="kc">false</span><span class="p">;}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">[</span><span class="nx">action</span><span class="p">];</span>
  <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An action consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The action to carry out. This is a function that takes as its argument
the current entity that is being edited.</p>
</li>
<li>
<p>The message key that is used to look up the message to display as the
button caption</p>
</li>
<li>
<p>An optional icon that is placed in front of the caption</p>
</li>
<li>
<p>An additional action mode – this can be BOTH (action shows up both in
view mode and edit mode), EDIT (only in edit mode) or VIEW (only in view
mode).</p>
</li>
<li>
<p>The CSS classes to apply to the button</p>
</li>
<li>
<p>An optional <code>enabled</code> function that determines when the action is
enabled.If omitted, the action is enabled by default.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_formfillenabled">12.2.12. FormFillEnabled</h4>
<div class="paragraph">
<p>The <code>formFillEnabled</code> property can be used to enable functionality for
automatically (partially) filling an input form using an AI service
(Large Language Model).In order to use this functionality, you need to
set up the appropriate LLM service, which can mostly be done using
application properties.</p>
</div>
<div class="paragraph">
<p>The following services are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OpenAI (ChatGPT)</p>
</li>
<li>
<p>Amazon Bedrock</p>
</li>
<li>
<p>Ollama</p>
</li>
<li>
<p>Google VertexAI Gemini</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_openai">OpenAI</h5>
<div class="paragraph">
<p>The integration with OpenAPI can be enabled simply by setting the
<code>dynamoframework.openai.enabled</code> application property to <code>true</code>. In addition, values
for the API key, the desired model, and the maximum number of tokens
must be provided.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">dynamoframework.openai.enabled</span><span class="p">=</span><span class="s">true</span>
<span class="py">dynamoframework.openai.api-key</span><span class="p">=</span><span class="s">[SECRET]</span>
<span class="py">dynamoframework.openai.model</span><span class="p">=</span><span class="s">gpt-4-turbo</span>
<span class="py">dynamoframework.openai.max-tokens</span><span class="p">=</span><span class="s">4096</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To use the service, a (paid) subscription to OpenAI is required; given
such a subscription, the user can generate an API key (token) that must
be set as the value of the <code>com.openapi.api.key</code> system property.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ollama">Ollama</h5>
<div class="paragraph">
<p>Ollama is an application that can be run locally (or in a private cloud)
that makes it possible to service AI models in a fairly straightforward
manner. It is possible to use Ollama both via the command line and via a
REST interface.</p>
</div>
<div class="paragraph">
<p>Locally installing Ollama is relatively easy, although the directory in
which Ollama is installed (at least on Windows) is slightly unusual,
i.e. <strong>&lt;user dir&gt;\AppData\Local\Programs\Ollama</strong> . You might need to add
this location to your Path system variable.</p>
</div>
<div class="paragraph">
<p>Afterwards, you can start Ollama by typing <code>ollama run [model name]</code>
(e.g., <code>Ollama run llama3</code>)</p>
</div>
<div class="paragraph">
<p>We have tried the models <strong>llama3</strong> and <strong>mistral</strong> which both seem to work fairly well.</p>
</div>
<div class="paragraph">
<p>Configuring ollama is relatively easy since it is running locally and
does not require an external account. The configuration needs a URL (the
default is localhost:11434) and a model name (llama3 or mistral).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">dynamoframework.ollama.enabled</span><span class="p">=</span><span class="s">true</span>
<span class="py">dynamoframework.ollama.url</span><span class="p">=</span><span class="s">http://localhost:11434</span>
<span class="py">dynamoframework.ollama.model</span><span class="p">=</span><span class="s">llama3</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_google_vertexai_gemini_and_palm">Google VertexAI Gemini (and PALM)</h5>
<div class="paragraph">
<p>Google VertexAI offers two LLMs that are interesting for us: PALM and
Gemini. We briefly tested both types of models and they seems to be
fairly fast an reliable (and on par with OpenAI). <em>Note that the Spring
AI documentation mentions that PALM is only available in the USA but
this does not appear to be the case anymore.</em></p>
</div>
<div class="paragraph">
<p>Using VertexAI in your application is relatively straightforward, but it
does require that you set up a Google Gloud account
(<a href="https://console.cloud.google.com/" class="bare">https://console.cloud.google.com/</a>) and link this account to a credit
card. You can then create a project and enable the Vertex API for this
project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">dynamoframework.vertexai.enabled</span><span class="p">=</span><span class="s">true</span>
<span class="py">dynamoframework.vertexai.project-id</span><span class="p">=</span><span class="s">[SECRET]</span>
<span class="py">dynamoframework.vertexai.project-region</span><span class="p">=</span><span class="s">europe-west1</span>
<span class="py">dynamoframework.vertexai.model</span><span class="p">=</span><span class="s">gemini-1.5-flash-preview-0514</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With this configuration in place, you need to provide the application with your
project ID, Google Cloud region, and desired VertexAI model.</p>
</div>
<div class="paragraph">
<p>It also seems perfectly possible to use the Spring AI gemini library in
combination with PALM models (although the Gemini models seem to perform
better)</p>
</div>
</div>
<div class="sect4">
<h5 id="_amazon_bedrock">Amazon Bedrock</h5>
<div class="paragraph">
<p>Amazon Bedrock is a service (offered by AWS) that provides a large
number of AI models. After a bit of experimentation, we have concluded
that the Antropic models (“Claude”) seem to suit our purposes best.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Using the Amazon Bedrock services requires an Amazon account which is
connected to a credit card.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once this is in place, you can use the AWS IAM (Identity and Access
Management) module to create a user that must be given “Bedrock Full”
access rights, and you can then create a key/secret pair for accessing
the service from your application.</p>
</div>
<div class="paragraph">
<p>Configuration can then be done as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">dynamoframework.bedrock.enabled</span><span class="p">=</span><span class="s">true</span>
<span class="py">dynamoframework.bedrock.access-key</span><span class="p">=</span><span class="s">[ACCESS KEY]</span>
<span class="py">dynamoframework.bedrock.access-secret</span><span class="p">=</span><span class="s">[ACCESS SECRET]</span>
<span class="py">dynamoframework.bedrock.model-id</span><span class="p">=</span><span class="s">arn:aws:bedrock:eu-central-1::foundation-model/anthropic.claude-v2</span>
<span class="py">dynamoframework.bedrock.region</span><span class="p">=</span><span class="s">eu-central-1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The configuration for Bedrock can unfortunately be a bit messy, since
the available models are region-dependent and also must be explicitly
enabled in the AWS console. Furthermore, the exact ids of the models can
be hard to determine. You can use the AWS console, with the following command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">aws bedrock list-foundation-models</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The returned ids can be used models.</p>
</div>
<div class="paragraph">
<p>When you have configured one or more AI models correctly, and set the
<code>formFillEnabled</code> property to true, an “Auto Fill” button will show up
in the button bar below the input form. Clicking this button will bring
up a dialog that allows the user to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Select one of the configured AI services.</p>
</li>
<li>
<p>Enter the text that is to serve as the input for the LLM prompt.</p>
</li>
<li>
<p>Provide any additional instructions that are to be applied to the
entire request</p>
</li>
<li>
<p>Pressing the “OK”-button will send a request to the LLM service, which
will try to translate the user input to valid property values, which
will be pre-filled into the form.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image10.png" alt="image" width="559" height="221">
</div>
<div class="title">Figure 8. Autofill example.</div>
</div>
<div class="paragraph">
<p>You can set the default model to use by setting the value of the
parameter <strong>dynamoframework.defaults.ai-service</strong> This setting accepts the values
CHAT_GPT, VERTEX_AI, OLLAMA, and BEDROCK.</p>
</div>
<div class="paragraph">
<p>Pressing the “OK”-button will send a request to the LLM service, which
will try to translate the user input to valid property values, which in
turn will be pre-filled into the form. This makes the most sense when
creating a new entity, but the functionality is also available when
editing an existing entity.</p>
</div>
<div class="paragraph">
<p>The LLMs should generally do a reasonable job of interpreting the user
input, especially for basic attributes like strings or numbers. For
complex attributes (i.e. lookup lists) the framework will try to look up
the appropriate entity based on its display property.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_file_upload">12.2.13. File upload</h4>
<div class="paragraph">
<p>The Dynamo framework comes with built-in functionality for dealing with
file uploads. This is based on a scenario in which you want to upload
one or more files and store them as binary data in the database. Note
that is not always the ideal way to store data (especially when files
become big), but it is something that is fairly easily to realize, hence
we think it is a useful feature anyway. Just remember to use it with
care.</p>
</div>
<div class="paragraph">
<p>The way file upload works in Dynamo is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First, make sure you have a column in the database in which you want
to store the binary data. It is advisable to place this column in a
separate table from the rest of the columns, so that it becomes possible
to not load the file by default, but this is not required. For
postgresql, the data type of the column must be <code>bytea</code>.</p>
</li>
<li>
<p>Map the auxiliary table to an embedded object in Java (the <code>GiftLogo</code>
object contains the field that will hold the binary data)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Attribute</span><span class="o">(</span><span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">)</span>
<span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"logo"</span><span class="o">)</span>
<span class="nd">@OneToOne</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">,</span> <span class="n">optional</span> <span class="o">=</span> <span class="kc">false</span><span class="o">,</span> <span class="n">cascade</span> <span class="o">=</span> <span class="nc">CascadeType</span><span class="o">.</span><span class="na">ALL</span><span class="o">)</span>
<span class="nd">@Embedded</span>
<span class="kd">private</span> <span class="nc">GiftLogo</span> <span class="n">logo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GiftLogo</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Map the field that will hold the binary data:</p>
<div class="ulist">
<ul>
<li>
<p>Optionally, provide a <strong>fileNameProperty</strong> which points to another
attribute (of type String) in which the file name of the uploaded file
must be stored</p>
</li>
<li>
<p>Optionally, set the <code>downloadAllowed</code> setting to indicate whether it
is allowed for the user to download the file from the application.</p>
</li>
<li>
<p>Optionally, set the <code>image</code> property to indicate whether the file
represents an image. If this is the case, the application will tdisplay
a preview of the uploaded file.</p>
</li>
<li>
<p>Optionally, set the <code>allowedExtensions</code> setting to determine the set
of extensions the file is allowed to have (do not include any periods)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Basic</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
<span class="nd">@Attribute</span><span class="o">(</span><span class="n">fileNameProperty</span> <span class="o">=</span> <span class="s">"logo.fileName"</span><span class="o">,</span> <span class="n">image</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span> <span class="n">allowedExtensions</span> <span class="o">=</span> <span class="o">{</span><span class="s">"gif"</span><span class="o">,</span><span class="s">"png"</span><span class="o">,</span> <span class="s">"jpg"</span><span class="o">},</span>
<span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">,</span> <span class="n">downloadAllowed</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span>
<span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">)</span>
<span class="nd">@Column</span><span class="o">(</span><span class="n">columnDefinition</span> <span class="o">=</span> <span class="s">"bytea"</span><span class="o">)</span>
<span class="kd">private</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">image</span><span class="o">;</span>

<span class="nd">@Attribute</span><span class="o">(</span><span class="n">editable</span> <span class="o">=</span> <span class="nc">EditableType</span><span class="o">.</span><span class="na">READ_ONLY</span><span class="o">,</span> <span class="n">visibleInGrid</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">HIDE</span><span class="o">,</span>
<span class="n">visibleInForm</span> <span class="o">=</span> <span class="nc">VisibilityType</span><span class="o">.</span><span class="na">SHOW</span><span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With this in place, the application will render an input component for
manipulating the upload, consisting of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A preview window</p>
</li>
<li>
<p>An upload button that will bring up a file selection dialog</p>
</li>
<li>
<p>A “clear” button for clearing the uploaded file</p>
</li>
<li>
<p>A “download” button (if <code>downloadAllowed</code> is set to <code>true</code>)</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image11.png" alt="image" width="560" height="266">
</div>
<div class="title">Figure 9. Image component.</div>
</div>
<div class="paragraph">
<p>Under the covers, the framework will combine the regular post or put
request with any requests to upload or remove files; the regular update
will be carried out first, followed by the upload or removal requests. A
special controller (FileController) is responsible for handling the
upload or removal requests.</p>
</div>
</div>
<div class="sect3">
<h4 id="_custom_components">12.2.14. Custom components</h4>
<div class="paragraph">
<p>It is possible to replace one or more of the default Dynamo components
by your own custom components. This is done by means of using Angular
templates.</p>
</div>
<div class="paragraph">
<p>In order to use this functionality, place an <code>ng-template</code> inside the
form and add the <code>dOverrideField</code> directive to it. Inside the template
you can then include the custom component content. Note that is
necessary to include an additional container that binds the from-group.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  <span class="nt">&lt;ng-template</span>
    <span class="na">dOverrideField</span>
    <span class="na">attributeName=</span><span class="s">"name"</span>
    <span class="na">let-am</span>
    <span class="na">let-mainForm=</span><span class="s">"mainForm"</span>
  <span class="nt">&gt;</span>
    <span class="nt">&lt;ng-container</span> <span class="na">[formGroup]=</span><span class="s">"mainForm"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"name"</span><span class="nt">&gt;</span>Aangepaste naam<span class="nt">&lt;/label&gt;</span>
      <span class="nt">&lt;textarea</span>
        <span class="na">pInputTextarea</span>
        <span class="na">id=</span><span class="s">"name"</span>
        <span class="na">name=</span><span class="s">"name"</span>
        <span class="na">pInputText</span>
        <span class="na">[formControlName]=</span><span class="s">"am.name"</span>
      <span class="nt">&gt;&lt;/textarea&gt;</span>
    <span class="nt">&lt;/ng-container&gt;</span>

  <span class="nt">&lt;/ng-template&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
that this functionality can also be used inside a Split Layout or
an Editable Table Layout.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_free_form_mode">12.2.15. Free-form mode</h4>
<div class="paragraph">
<p>As an alternative to using the automatic form generation, it is also
possible to define your own form components and let the Dynamo framework
take care of the data binding and communication with the back-end.</p>
</div>
<div class="paragraph">
<p>To use this functionality, you must do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set the <code>freeFormMode</code> to <code>true</code> on the component declaration</p>
</li>
<li>
<p>Declare a template inside the form, and link it to the <code>freeFormTemplate</code>
property</p>
</li>
<li>
<p>This freeform template is passed a reference to the <code>mainForm</code> form
group that holds all the reactive form controls.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  entityName="Organization"
  [entityId]="entityId"
  navigateBackRoute="organizations"
  [freeFormMode]="true"
  [freeFormTemplate]="freeFormTemplate"
  entityModelReference="OrganizationFreeForm"
&gt;
  <span class="nt">&lt;ng-template</span> <span class="na">#freeFormTemplate</span> <span class="na">let-mainForm</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p&gt;</span>This is a custom page<span class="nt">&lt;/p&gt;</span>

    <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"edit-form"</span> <span class="na">*ngIf=</span><span class="s">"mainForm"</span> <span class="na">[formGroup]=</span><span class="s">"mainForm"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;</span><span class="err">!—</span><span class="na">your</span> <span class="na">custom</span> <span class="na">content</span> <span class="na">goes</span> <span class="na">here</span> <span class="err"></span>
    <span class="err">&lt;/</span><span class="na">form</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/ng-template&gt;</span>
<span class="nt">&lt;/d-generic-form&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside the template, you must define a form and link it to the
<code>mainForm</code>. Then, inside the form, you can include your custom
components, and use the <code>formControlName</code> to bind them to the reactive
form (the <code>formControlName</code> must match with a name of an attribute from
the entity model)</p>
</div>
<div class="paragraph">
<p>Inside the free form component, it is possible to use the convenient <code>&lt;app-generic-field&gt;</code> component
as a shorthand for including the component as they would be generated by the Dynamo framework.</p>
</div>
<div class="paragraph">
<p>The <code>&lt;app-generic-field&gt;</code> accepts the parameters shown in the table below.</p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<caption class="title">Table 10. Properties for <code>&lt;app-generic-field&gt;</code>.</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>am</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The attribute model to base the field on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>formGroup</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The form group that the component is part of.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>locale</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The locale to use when rendering the component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>options</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The SelectOptions to choose from (for select-one and select-many components).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enumValues</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The enumeration values to use.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example for a text field</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"address"</span><span class="nt">&gt;</span>Address<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;d-generic-field</span>
<span class="na">[formGroup]=</span><span class="s">"mainForm"</span>
<span class="na">[am]=</span><span class="s">"getAttributeModel('address')"</span>
<span class="na">[locale]=</span><span class="s">"locale"</span>
<span class="nt">&gt;</span>
<span class="nt">&lt;/d-generic-field&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example for a multi-select field</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-field</span>
  <span class="na">[formGroup]=</span><span class="s">"mainForm"</span>
  <span class="na">[am]=</span><span class="s">"getAttributeModel('neighbourhoods')"</span>
  <span class="na">[locale]=</span><span class="s">"locale"</span>
  <span class="na">[options]=</span><span class="s">"lookupEntities('Neighbourhood')"</span>
<span class="nt">&gt;</span>
<span class="nt">&lt;/d-generic-field&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It is possible to mix-and-match the use of generic fields and your own freely defined components inside
a free-form-template. This allows you a high degree of control over the layout of a screen, while at
the same time profiting from the efficiency of using the standard components.</p>
</div>
<div class="paragraph">
<p>You can also define your own components, for example this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"name"</span><span class="nt">&gt;</span>Organization Name<span class="nt">&lt;/label&gt;</span><span class="ni">&amp;nbsp;</span>
  <span class="nt">&lt;input</span>
    <span class="na">id=</span><span class="s">"name"</span>
    <span class="na">type=</span><span class="s">"text"</span>
    <span class="na">pInputText</span>
    <span class="na">formControlName=</span><span class="s">"name"</span>
    <span class="na">placeholder=</span><span class="s">"Name"</span>
  <span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the Typescript definition, you can use <code>@ViewChild</code> to inject a
reference to the form component, and delegate the logic (e.g., for
looking up available options) to the child component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">  <span class="nd">@ViewChild</span><span class="o">(</span><span class="nc">GenericFormComponent</span><span class="o">)</span> <span class="n">comp</span><span class="o">?:</span> <span class="nc">GenericFormComponent</span><span class="o">;</span>

  <span class="n">getEnumValues</span><span class="o">(</span><span class="nl">attribute:</span> <span class="n">string</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">comp</span><span class="o">!.</span><span class="na">getEnumValues</span><span class="o">(</span><span class="n">attribute</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="n">lookupEntities</span><span class="o">(</span><span class="nl">attribute:</span> <span class="n">string</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">comp</span><span class="o">!.</span><span class="na">lookupEntities</span><span class="o">(</span><span class="n">attribute</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="n">save</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">comp</span><span class="o">?.</span><span class="na">save</span><span class="o">();</span>
  <span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_genericsplitlayout">12.3. GenericSplitLayout</h3>
<div class="paragraph">
<p>The GenericSplitLayout is a composite layout component that can be used
to display a results table and an edit form next to each other: the
table contains a selection of data, and selecting a row in the table
will cause the details of that row to appear in the edit form. In its
most basic form, the generic split layout can be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  <span class="nt">&lt;app-generic-split-layout</span> <span class="na">entityName=</span><span class="s">"Person"</span>
  <span class="nt">&gt;&lt;/app-generic-split-layout&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This renders the aforementioned layout. By default, it shows all
entities, and when selecting a row in the table, the edit form will open
in editable mode.</p>
</div>
<div class="sect3">
<h4 id="_querytype_2">12.3.1. QueryType</h4>
<div class="paragraph">
<p>You can use the <code>queryType</code> attribute on the layout to determine the
query type to use. The supported values are PAGING and ID_BASED, with
PAGING being the default.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  <span class="nt">&lt;app-generic-split-layout</span> <span class="na">entityName=</span><span class="s">"Person"</span>
 <span class="na">[queryType]=</span><span class="s">"queryType"</span>
  <span class="nt">&gt;&lt;/app-generic-split-layout&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Changing this setting will determine how the query will be carried out
in the back-end. In many cases this will probably not be relevant, but
there might be situations in which you will need to switch to ID_BASED,
e.g., when you want to display values from a one-to-many relation inside
the table.</p>
</div>
</div>
<div class="sect3">
<h4 id="_defaultfilters_2">12.3.2. DefaultFilters</h4>
<div class="paragraph">
<p>The <code>defaultFilters</code> property can be used to specify the default filters
that are always applied to the search request that is used to fill the
results table.</p>
</div>
<div class="paragraph">
<p>The <code>defaultFilters</code> property takes an array of FilterModel objects that
specify which filters to use. More about constructing filters can be
found in section <a href="#_search_filters">Search filters</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="nx">getDefaultFilters</span><span class="p">():</span> <span class="nx">FilterModel</span><span class="p">[]</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">defaultFilters</span><span class="p">:</span> <span class="nx">FilterModel</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">let</span> <span class="nx">filter1</span><span class="p">:</span> <span class="nx">EqualsFilterModel</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">match</span><span class="p">:</span> <span class="dl">'</span><span class="s1">EQUALS</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">reputation</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">FEARSOME</span><span class="dl">'</span> <span class="k">as</span> <span class="kr">any</span><span class="p">,</span>
    <span class="p">};</span>
    <span class="nx">defaultFilters</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">filter1</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">defaultFilters</span><span class="p">;</span>
  <span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_openinviewmode_2">12.3.3. OpenInViewMode</h4>
<div class="paragraph">
<p>By default, the edit form will be rendered in edit mode after being
opened. If you’d rather have form open in view mode instead, you can set
the <strong>openInViewMode</strong> property to <strong>true.</strong> If this is the case, the screen
will open in read-only mode, and an “Edit” button will be present to
switch to edit mode.</p>
</div>
</div>
<div class="sect3">
<h4 id="_searchdialogenabled">12.3.4. SearchDialogEnabled</h4>
<div class="paragraph">
<p>The <strong>searchDialogEnabled</strong> setting can be used to specify whether a
search dialog is available in order to carry out search requests that
can be used to limit the results in the results table. If this property
is set to <strong>true,</strong> the application will render both a “search” and a
“clear” button above the results table. Clicking the <code>search</code> button
will bring up a search dialog. When the user performs a search and then
closes the dialog, the results table will only show the entities that
matches the search. Pressing the <strong>clear</strong> button will clear the search
filters.</p>
</div>
</div>
<div class="sect3">
<h4 id="_quicksearchproperty">12.3.5. QuickSearchProperty</h4>
<div class="paragraph">
<p>The <strong>quickSearchProperty</strong> setting can be used to configure a search
field for quickly carrying out a search request. When a value is
provided for this property, the framework will render a text field that
can be used to enter a search term. Entering a search term of 3 or more
characters will lead to a search request being carried out based on the
provided property.</p>
</div>
</div>
<div class="sect3">
<h4 id="_post_processing_the_form_and_input_validations">12.3.6. Post-processing the form and input validations</h4>
<div class="paragraph">
<p>This works in the same way as for the <strong>GenericForm</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_field_filters_2">12.3.7. Field filters</h4>
<div class="paragraph">
<p>This works in the same way as for the <strong>GenericForm</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_additional_row_actions_2">12.3.8. Additional row actions</h4>
<div class="paragraph">
<p>This works in the same way as with the <strong>Simple Search layout</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_additional_form_actions_2">12.3.9. Additional form actions</h4>
<div class="paragraph">
<p>This works in the same way as for the <strong>GenericForm</strong></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_genericedittablelayout">12.4. GenericEditTableLayout</h3>
<div class="paragraph">
<p>The <strong>GenericEditTableLayout</strong> is a composite layout component that contains a
tabular display of data that allows the user to modify data or add new
data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;d-generic-edit-table-layout</span>
  <span class="na">entityName=</span><span class="s">"Delivery"</span>
  <span class="na">[queryType]=</span><span class="s">"queryType"</span>
  <span class="na">[additionalActions]=</span><span class="s">"getAdditionalActions()"</span>
  <span class="na">[additionalDetailActions]=</span><span class="s">"getAdditionalDetailActions()"</span>
  <span class="na">[defaultFilters]=</span><span class="s">"defaultFilters"</span>
  <span class="na">*ngIf=</span><span class="s">"personId"</span>
<span class="nt">&gt;</span>
<span class="nt">&lt;/d-generic-edit-table-layout&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above will result in a table that contains a number of rows (by
default, all the rows will be shown but you can use the <strong>defaultFilters</strong>
property to limit the result set). Each row will contain a delete button
if the entity model allows deletions, and an “eye” button that can be
used to bring up a dialog that allows the user to view and manipulate
the details of the selected entity.</p>
</div>
<div class="paragraph">
<p>Below the table is an “Add” button that will bring up a dialog that can
be used to add a new entity.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image12.png" alt="image" width="560" height="158">
</div>
<div class="title">Figure 10. Table with “Add” buttons.</div>
</div>
<div class="paragraph">
<p>Supported features (see under the other sections for details)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AdditionalActions (will appear as buttons in each table row)</p>
</li>
<li>
<p>AdditionalFormActions (will appear in the button bar below the form in
the popup dialog)</p>
</li>
<li>
<p>AdditionalGlobalActions</p>
</li>
<li>
<p>DefaultFilters</p>
</li>
<li>
<p>FieldFilters</p>
</li>
<li>
<p>QueryType</p>
</li>
<li>
<p>PostProcessInputForm</p>
</li>
<li>
<p>AdditionalValidation</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_pdf_viewer">12.5. PDF viewer</h3>
<div class="paragraph">
<p>The Dynamo framework provides a convenient component for viewing PDF documents. The source
document can be provided as either an external URL, an internal URL, or a reference to the entity model.</p>
</div>
<div class="paragraph">
<p>In order to view a PDF file that is stored in a field on an entity, use the following set-up</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  <span class="nt">&lt;d-pdf-viewer</span>
    <span class="na">[mode]=</span><span class="s">"mode"</span>
    <span class="na">[entityId]=</span><span class="s">"2"</span>
    <span class="na">entityName=</span><span class="s">"Gift"</span>
    <span class="na">attributeName=</span><span class="s">"logo.image"</span>
  <span class="nt">&gt;&lt;/d-pdf-viewer&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With the <code>mode</code> pointing to <code>PdfViewerMode.MODEL</code>. This will render a PDF file stored in the <code>logo.image</code>
field of the <code>Gift</code> entity with primary key <code>2</code>.</p>
</div>
<div class="paragraph">
<p>To refer to an internal URL, use the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  <span class="nt">&lt;d-pdf-viewer</span>
    <span class="na">[mode]=</span><span class="s">"mode"</span>
    <span class="na">fileName=</span><span class="s">"report.pdf"</span>
  <span class="nt">&gt;&lt;/d-pdf-viewer&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With the "mode" pointing to <code>PdfViewerMode.INTERNAL_URL</code>. This will render a PDF file named "report.pdf"
that is retrieved from the back-end.</p>
</div>
<div class="paragraph">
<p>For this to work, the back-end should provide a REST endpoint mapped to <code>/pdf</code> that returns a response
entity containing the byte representation of the file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/pdf"</span><span class="o">)</span>
<span class="nd">@Slf4j</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@CrossOrigin</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PdfController</span> <span class="o">{</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/{fileName}"</span><span class="o">,</span> <span class="n">produces</span> <span class="o">=</span> <span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_PDF_VALUE</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Resource</span><span class="o">&gt;</span> <span class="nf">getRaw</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="s">"fileName"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>

        <span class="nc">ClassPathResource</span> <span class="n">cp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathResource</span><span class="o">(</span><span class="n">fileName</span><span class="o">);</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">bytes</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="na">getContentAsByteArray</span><span class="o">();</span>

        <span class="nc">InputStreamResource</span> <span class="n">resource</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InputStreamResource</span><span class="o">(</span><span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">(</span><span class="n">bytes</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">ResponseEntity</span><span class="o">.</span><span class="na">ok</span><span class="o">()</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="nc">HttpHeaders</span><span class="o">.</span><span class="na">CONTENT_DISPOSITION</span><span class="o">,</span> <span class="s">"inline;filename=%s"</span><span class="o">.</span><span class="na">formatted</span><span class="o">(</span><span class="n">fileName</span><span class="o">))</span>
                <span class="o">.</span><span class="na">contentLength</span><span class="o">(</span><span class="n">bytes</span><span class="o">.</span><span class="na">length</span><span class="o">)</span>
                <span class="o">.</span><span class="na">contentType</span><span class="o">(</span><span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_OCTET_STREAM</span><span class="o">)</span>
                <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">resource</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, to render a PDF file found at external URL the following can be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  <span class="nt">&lt;d-pdf-viewer</span>
    <span class="na">[mode]=</span><span class="s">"mode"</span>
    <span class="na">externalUrl=</span><span class="s">"http://www.somesite.com/report.pdf"</span>
  <span class="nt">&gt;&lt;/d-pdf-viewer&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With the "mode" pointing to <code>PdfViewerMode.EXTERNAL_URL</code>. This will render the PDF file found at the external URL</p>
</div>
</div>
<div class="sect2">
<h3 id="_pdf_viewer_dialog">12.6. PDF viewer dialog</h3>
<div class="paragraph">
<p>Additionally, it is also possible to use the PDF viewer inside a popup-dialog. In order to use this
component, include the following in your HTML file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="html">  <span class="nt">&lt;ng-template</span> <span class="na">#popupDialogContainerRef</span><span class="nt">&gt;&lt;/ng-template&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"btn-group"</span> <span class="na">role=</span><span class="s">"group"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary m-1"</span> <span class="na">(click)=</span><span class="s">"showDialog()"</span><span class="nt">&gt;</span>
      Open Dialog
    <span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, in the typescript file, include the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="typescript">  <span class="p">@</span><span class="nd">ViewChild</span><span class="p">(</span><span class="dl">'</span><span class="s1">popupDialogContainerRef</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">read</span><span class="p">:</span> <span class="nx">ViewContainerRef</span> <span class="p">})</span>
  <span class="nx">vcr</span><span class="o">!</span><span class="p">:</span> <span class="nx">ViewContainerRef</span><span class="p">;</span>

  <span class="nx">showDialog</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">componentRef</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">vcr</span><span class="o">!</span><span class="p">.</span><span class="nx">createComponent</span><span class="p">(</span><span class="nx">PdfViewerDialogComponent</span><span class="p">);</span>

    <span class="nx">componentRef</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">mode</span> <span class="o">=</span> <span class="nx">PdfViewerMode</span><span class="p">.</span><span class="nx">MODEL</span>
    <span class="nx">componentRef</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">attributeName</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">logo.image</span><span class="dl">'</span>
    <span class="nx">componentRef</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">entityId</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="nx">componentRef</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">entityName</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Gift</span><span class="dl">'</span>
    <span class="nx">componentRef</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">showDialog</span><span class="p">();</span>
  <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this code, we create a PdfViewerDialogComponent which is simply a wrapper around the <code>app-pdf-viewer</code>
component, and use the <code>showDialog()</code> method to open it.</p>
</div>
<div class="paragraph">
<p>The <code>PdfViewerDialogComponent</code> supports the same modes (and associated attributes) as the <code>app-pdf-viewer</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_functionality">13. Additional functionality</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_excel_and_csv_export">13.1. Excel and CSV export</h3>
<div class="paragraph">
<p>The Dynamo Framework offers some functionality for automatically
exporting data that is displayed in results grid to Excel (<code>.xlsx</code>) or CSV
format.</p>
</div>
<div class="paragraph">
<p>This functionality is enabled by default. It can be turned off on an
entity model by entity model basis.</p>
</div>
<div class="paragraph">
<p>If exporting is enabled for an entity, a context menu will show up in
any results table (in you right-click anywhere in the table). This menu
will contain the options to create exports to both Excel and CSV
formats.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/reference/image13.png" alt="image" width="194" height="136">
</div>
<div class="title">Figure 11. Export screen.</div>
</div>
<div class="paragraph">
<p>The export that will be created contains all the data in the result set
(i.e., all data that matches the search criteria), not just the rows that
are currently displayed – Dynamo will iterate over the entire data set
using pagination.</p>
</div>
<div class="paragraph">
<p>By default, the export will contain only the columns that are visible in
the table, but you can change the <code>exportMode</code> setting to FULL in order
to include all attributes that have their <code>visibleInForm</code> setting equal
to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>You can also use the <code>exportModeReference</code> property to configure which
exact version of the entity model to use for creating the export.</p>
</div>
<div class="paragraph">
<p>To further customize the export to Excel, it is possible to specify a
custom style generator. This can be done by implementing the
<code>CustomGeneratorProvider</code> interface:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>matches()</code> method receives the class of the entity that is being
exported, and an optional reference to further specify the entity model
to use, and must return <code>true</code> when the generator is applicable.</p>
</li>
<li>
<p>The <code>getGenerator()</code> method must return an instance of the
<code>CustomXlsStyleGenerator</code> functional interface.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrganizationCustomGenerator</span> <span class="kd">implements</span> <span class="nc">CustomGeneratorProvider</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">matches</span><span class="o">(</span><span class="nc">Class</span><span class="o">&lt;?&gt;</span> <span class="n">entityClass</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reference</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">Organization</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">entityClass</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">CustomXlsStyleGenerator</span> <span class="nf">getGenerator</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">return</span> <span class="o">(</span><span class="n">workbook</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="n">value</span><span class="o">,</span> <span class="n">am</span><span class="o">,</span> <span class="n">pivotColumnKey</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">am</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"name"</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="k">instanceof</span> <span class="nc">String</span> <span class="n">str</span> <span class="o">&amp;&amp;</span>
                    <span class="n">str</span><span class="o">.</span><span class="na">startsWith</span><span class="o">(</span><span class="s">"V"</span><span class="o">))</span> <span class="o">{</span>
                <span class="nc">CellStyle</span> <span class="n">cellStyle</span> <span class="o">=</span> <span class="n">workbook</span><span class="o">.</span><span class="na">createCellStyle</span><span class="o">();</span>
                <span class="nc">Font</span> <span class="n">redFont</span> <span class="o">=</span> <span class="n">workbook</span><span class="o">.</span><span class="na">createFont</span><span class="o">();</span>
                <span class="n">redFont</span><span class="o">.</span><span class="na">setBold</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
                <span class="n">redFont</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="nc">Font</span><span class="o">.</span><span class="na">COLOR_RED</span><span class="o">);</span>
                <span class="n">cellStyle</span><span class="o">.</span><span class="na">setFont</span><span class="o">(</span><span class="n">redFont</span><span class="o">);</span>
                <span class="k">return</span> <span class="n">cellStyle</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">};</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lookup_tables">13.2. Lookup tables</h3>
<div class="paragraph">
<p>Dynamo contains an optional module for working with domains/lookup
tables. These are simple database tables that typically contain only a
couple of attributes and only a handful of records that are often more
or less stable over time. Some examples include a list of countries,
languages, order statuses, etc.</p>
</div>
<div class="paragraph">
<p>If you want to use Dynamo’s functionality for easily managing lookup
tables, you will have to include the following dependency in your
pom.xml file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.dynamoframework<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>dynamo-functional-domain<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>4.0.0-RC4<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This will give you access to a number of bases entities, DAOs, and
services for managing lookup tables/domains. The most important one is
arguably the <code>Domain</code> entity which serves as the base for all your
lookup tables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Inheritance</span>
<span class="nd">@DiscriminatorColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"type"</span><span class="o">)</span>
<span class="nd">@Entity</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"domain"</span><span class="o">)</span>
<span class="nd">@Model</span><span class="o">(</span><span class="n">displayProperty</span> <span class="o">=</span> <span class="s">"name"</span><span class="o">,</span> <span class="n">sortOrder</span> <span class="o">=</span> <span class="s">"name asc"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Domain</span> <span class="kd">extends</span> <span class="nc">AbstractEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The idea is that you can define a lookup table class by subclassing this
class as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Entity</span>
<span class="nd">@DiscriminatorValue</span><span class="o">(</span><span class="s">"COUNTRY"</span><span class="o">)</span>
<span class="nd">@Model</span><span class="o">(</span><span class="n">displayNamePlural</span> <span class="o">=</span> <span class="s">"Countries"</span><span class="o">,</span> <span class="n">displayProperty</span> <span class="o">=</span> <span class="s">"name"</span><span class="o">,</span> <span class="n">sortOrder</span> <span class="o">=</span> <span class="s">"name asc"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Country</span> <span class="kd">extends</span> <span class="nc">DomainChild</span><span class="o">&lt;</span><span class="nc">Country</span><span class="o">,</span> <span class="nc">Region</span><span class="o">&gt;</span> <span class="o">{</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this example uses JPA inheritance to define a new entity
that will be stored in the <code>domain</code> table using JPA’s “single table”
inheritance model.</p>
</div>
<div class="paragraph">
<p>You can then define simple DAO and service objects for your domain class
as follows (you would normally place these in a class annotated with
<code>@Configuration</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Country</span><span class="o">&gt;</span> <span class="nf">countryDao</span><span class="o">()</span> <span class="o">{</span>
	<span class="k">return</span> <span class="k">new</span> <span class="nc">DefaultDaoImpl</span><span class="o">&lt;&gt;(</span><span class="nc">QCountry</span><span class="o">.</span><span class="na">country</span><span class="o">,</span> <span class="nc">Country</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">"parent"</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@Bean</span>
<span class="kd">public</span> <span class="nc">BaseService</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Country</span><span class="o">&gt;</span> <span class="nf">countryService</span><span class="o">(</span><span class="nc">BaseDao</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Country</span><span class="o">&gt;</span> <span class="n">dao</span><span class="o">)</span> <span class="o">{</span>
	<span class="nc">DefaultServiceImpl</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Country</span><span class="o">&gt;</span> <span class="n">countryService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DefaultServiceImpl</span><span class="o">&lt;&gt;(</span><span class="n">dao</span><span class="o">,</span> <span class="s">"code"</span><span class="o">);</span>
	<span class="k">return</span> <span class="n">countryService</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>DefaultDaoImpl</code> and <code>DefaultServiceImpl</code> classes are part
of the core dynamo implementation, so you can use them without adding the
<em>dynamo-functional-domain</em> dependencies to your <code>pom.xml</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition to the <code>Domain</code> class, the <em>dynamo-functional-domain</em> module
contains several other classes like <code>DomainParent</code> and <code>DomainChild</code>
that can be used to manage lookup tables with simple hierarchies.</p>
</div>
<div class="paragraph">
<p>The Domain classes are database agnostic – this is great because you can
use them with multiple databases, but it does mean that some additional
configuration is required to make the module work with your database.</p>
</div>
<div class="paragraph">
<p>This configuration can be included in the <code>orm.xml</code> file that can be
included in the <em>src/main/resources/META-INF</em> directory. The following
shows the configuration for PostgreSQL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="nt">&lt;entity-mappings</span> <span class="na">xmlns=</span><span class="s">"http://java.sun.com/xml/ns/persistence/orm"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd"</span>
  <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;sequence-generator</span> <span class="na">name=</span><span class="s">"domain_id_seq"</span>
    <span class="na">allocation-size=</span><span class="s">"1"</span> <span class="na">sequence-name=</span><span class="s">"domain_id_seq"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;sequence-generator</span> <span class="na">name=</span><span class="s">"parameter_id_seq"</span>
    <span class="na">allocation-size=</span><span class="s">"1"</span> <span class="na">sequence-name=</span><span class="s">"parameter_id_seq"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;entity</span> <span class="na">class=</span><span class="s">"org.dynamoframework.functional.domain.Domain"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;attributes&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">name=</span><span class="s">"id"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;generated-value</span> <span class="na">strategy=</span><span class="s">"SEQUENCE"</span> <span class="na">generator=</span><span class="s">"domain_id_seq"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;/attributes&gt;</span>
  <span class="nt">&lt;/entity&gt;</span>
<span class="nt">&lt;/entity-mappings&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_a_new_entity">Appendix A: Adding a new entity</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides a handy overview of the steps that have to be
carried out in order to add a new entity to the system</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a new database table to hold the data.</p>
</li>
<li>
<p>Create a new entity class, and annotate it with the standard JPA
annotations for ORM mapping and validation.</p>
</li>
<li>
<p>Annotate the entity with the <code>@Model</code> annotation to configure the
entity model settings like <code>displayProperty</code>, <code>sortOrder</code>, and
<code>createAllowed</code></p>
</li>
<li>
<p>Annotate the entity with the <code>@AttributeOrder</code> (and optionally
<code>@GridAttributeOrder</code> and <code>@SearchAttributeOrder</code>) in order to configure
the attribute ordering.</p>
</li>
<li>
<p>Annotate the entity with one or more <code>@AttributeGroup</code> annotations if
you want the attributes to be grouped in a specific way inside the edit
form.</p>
</li>
<li>
<p>Use <code>@FetchJoins</code> to specify which relations to fetch in case of a
search/list and in case of the retrieval of an individual entity.</p>
</li>
<li>
<p>Create the DAO and Service interfaces and their implementations</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Make sure the individual attribute settings are correct (this can
involve a lot of tweaking since there are many settings, but this should
cover the basics)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set the correct values for <code>searchable</code>, <code>visibleInGrid</code> and
<code>visibleInForm</code>. Note that by default no attributes are searchable,
and that only basic attributes are visible inside grids and forms. For
any complex attributes, you will have to set <code>visibleInGrid</code> or
<code>visibleInForm</code> to true if you want these attributes to show up in
respectively grids or forms.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following table lists some of the common things to look out for, for
attributes of certain types</p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute type</th>
<th class="tableblock halign-left valign-top">Hints</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Set the <code>textFieldMode</code> to determine whether you want to use a text
field or a text area</p>
</li>
<li>
<p>Use the <code>@Attribute(url=true)</code> when the field represents a URL</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer or Long</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Use the <code>numberFieldMode</code> to determine whether to use spinner
buttons</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal number (BigDecimal)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Use the <code>currencyCode</code> or <code>percentage</code> settings when dealing with
currencies or percentages</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enumeration</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Make sure to provide translations for the enumeration values in
<em>entityModel.properties</em></p>
</li>
<li>
<p>Use the <code>enumFieldMode</code> to determine which input component to use.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Local)Date</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Set the displayFormat</p>
</li>
<li>
<p>Determine whether you want to search using <code>searchExactValue</code> if
applicable</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instant or LocalDateTime</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Set the displayFormat</p>
</li>
<li>
<p>Determine whether you want to search using <code>searchForDateOnly</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Many-to-one relationship (“master”)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Set the <code>selectMode</code> to distinguish between using a combo box, au
autocomplete component or a lookup field</p>
</li>
<li>
<p>Make sure the <code>displayProperty</code> of the related entity is set</p>
</li>
<li>
<p>If this attribute is searchable, considers whether you wants to set
<code>multipleSearch</code> to true to allow searching on multiple values.</p>
</li>
<li>
<p>Set the <code>@Attribute(nestedDetails)</code> setting to <code>false</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Many-to-many relationship</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Set the <code>selectMode</code> to distinguish between using a multi-select
component or a lookup field</p>
</li>
<li>
<p>Make sure the <code>displayProperty</code> of the related entity is set</p>
</li>
<li>
<p>Think about whether you want the <code>quickAddAllowed</code> setting to be
<code>true</code></p>
</li>
<li>
<p><strong>Make sure the entities are wired correctly (see below)</strong></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">One-to-many relationship (nested/dependent attributes)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Make sure the <code>nestedDetails</code> setting is set to true.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Element collection table</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Make sure the <code>elementCollectionMode</code> is set correctly</p>
</li>
<li>
<p>Use <code>minLength`and `maxLength</code> to set the minimum and maximum length
(in case of strings)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Set the <code>booleanFieldMode</code> to the desired value</p>
</li>
<li>
<p>Consider adding custom <code>trueRepresentation</code> and
values</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For nested/dependent attributes it is important that the
entities always wired correctly (meaning that the parent entity correctly refers
to the nested entity and vice versa). The Dynamo Framework offers a
utility method in the <code>EntityUtils</code> class for achieving this. Here you can
see an example of this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTranslations</span><span class="o">(</span><span class="nc">Set</span><span class="o">&lt;</span><span class="nc">GiftTranslation</span><span class="o">&gt;</span> <span class="n">translations</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">wireRelations</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">translations</span><span class="o">,</span> <span class="n">translations</span><span class="o">,</span> <span class="o">(</span><span class="n">translation</span><span class="o">,</span> <span class="n">gift</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">translation</span><span class="o">.</span><span class="na">setGift</span><span class="o">(</span><span class="n">gift</span><span class="o">));</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>wireRelations()</code> function is static function from the <code>EntityModelUtils</code> class.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-04-18 16:06:04 +0200
</div>
</div>
</body>
</html>